{"version":3,"file":"web2vr.js","mappings":"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QAAEyL,CAAC,EAAE,IAAI,CAACA,CAAC;QAAEC,CAAC,EAAE,IAAI,CAACA,CAAC,GAAG,IAAI,CAACsM,MAAM,GAAG,CAAC;QAAErM,CAAC,EAAE,IAAI,CAACA;MAAE,CAAC;IAChE;EAAC;AAAA;;;;;;;;;;;;AChFQ;;AAEb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE,IAAI;AACN;;AAEA;;AAEA;;;;;;;;;;;;ACpIA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN2C,CAAC;AACV;AAClB;;AAEhB;AACuC;AAClB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","sources":["webpack://Web2VR/webpack/universalModuleDefinition","webpack://Web2VR/./aframe-super-hands-component/index.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/clickable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/drag-droppable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/draggable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/droppable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/grabbable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/hoverable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/prototypes/buttons-proto.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/prototypes/physics-grab-proto.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/stretchable.js","webpack://Web2VR/./aframe-super-hands-component/systems/super-hands-system.js","webpack://Web2VR/./src/aframeContext.js","webpack://Web2VR/./src/assetManager.js","webpack://Web2VR/./src/components/animate.js","webpack://Web2VR/./src/components/border.js","webpack://Web2VR/./src/components/grabRotateStatic.js","webpack://Web2VR/./src/components/renderer.js","webpack://Web2VR/./src/components/scrollbar.js","webpack://Web2VR/./src/elements/buttonElement.js","webpack://Web2VR/./src/elements/canvasElement.js","webpack://Web2VR/./src/elements/checkboxElement.js","webpack://Web2VR/./src/elements/containerElement.js","webpack://Web2VR/./src/elements/element.js","webpack://Web2VR/./src/elements/imageElement.js","webpack://Web2VR/./src/elements/inputElement.js","webpack://Web2VR/./src/elements/radioElement.js","webpack://Web2VR/./src/elements/svgElement.js","webpack://Web2VR/./src/elements/textElement.js","webpack://Web2VR/./src/elements/videoElement.js","webpack://Web2VR/./src/plugins/aframe-keyboard.min.js","webpack://Web2VR/./src/plugins/eventListenerListPlugin.js","webpack://Web2VR/./src/scroll.js","webpack://Web2VR/./src/settings.js","webpack://Web2VR/./src/utils/helper.js","webpack://Web2VR/./src/utils/mouseEventHandler.js","webpack://Web2VR/./src/utils/position.js","webpack://Web2VR/./node_modules/deepmerge/dist/cjs.js","webpack://Web2VR/external umd \"aframe\"","webpack://Web2VR/webpack/bootstrap","webpack://Web2VR/webpack/runtime/compat get default export","webpack://Web2VR/webpack/runtime/define property getters","webpack://Web2VR/webpack/runtime/hasOwnProperty shorthand","webpack://Web2VR/webpack/runtime/make namespace object","webpack://Web2VR/./src/web2vr.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aframe\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aframe\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Web2VR\"] = factory(require(\"aframe\"));\n\telse\n\t\troot[\"Web2VR\"] = factory(root[\"aframe\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE_aframe__) => {\nreturn ","/* global AFRAME */\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.')\n}\n\nrequire('./systems/super-hands-system.js')\nrequire('./reaction_components/hoverable.js')\nrequire('./reaction_components/grabbable.js')\nrequire('./reaction_components/stretchable.js')\nrequire('./reaction_components/drag-droppable.js')\nrequire('./reaction_components/draggable.js')\nrequire('./reaction_components/droppable.js')\nrequire('./reaction_components/clickable.js')\n\n/**\n * Super Hands component for A-Frame.\n */\nAFRAME.registerComponent('super-hands', {\n  schema: {\n    colliderEvent: { default: 'hit' },\n    colliderEventProperty: { default: 'el' },\n    colliderEndEvent: { default: 'hitend' },\n    colliderEndEventProperty: { default: 'el' },\n    grabStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    grabEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    stretchStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    stretchEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    dragDropStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    dragDropEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    interval: { default: 0 }\n  },\n\n  /**\n   * Set if component needs multiple instancing.\n   */\n  multiple: false,\n\n  /**\n   * Called once when component is attached. Generally for initial setup.\n   */\n  init: function () {\n    // constants\n    this.HOVER_EVENT = 'hover-start'\n    this.UNHOVER_EVENT = 'hover-end'\n    this.GRAB_EVENT = 'grab-start'\n    this.UNGRAB_EVENT = 'grab-end'\n    this.STRETCH_EVENT = 'stretch-start'\n    this.UNSTRETCH_EVENT = 'stretch-end'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n    this.DRAGOVER_EVENT = 'dragover-start'\n    this.UNDRAGOVER_EVENT = 'dragover-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    // links to other systems/components\n    this.otherSuperHand = null\n\n    // state tracking - global event handlers (GEH)\n    this.gehDragged = new Set()\n    this.gehClicking = new Set()\n\n    // state tracking - reaction components\n    this.hoverEls = []\n    this.hoverElsIntersections = []\n    this.prevCheckTime = null\n    this.state = new Map()\n    this.dragging = false\n\n    this.unHover = this.unHover.bind(this)\n    this.unWatch = this.unWatch.bind(this)\n    this.onHit = this.onHit.bind(this)\n    this.onGrabStartButton = this.onGrabStartButton.bind(this)\n    this.onGrabEndButton = this.onGrabEndButton.bind(this)\n    this.onStretchStartButton = this.onStretchStartButton.bind(this)\n    this.onStretchEndButton = this.onStretchEndButton.bind(this)\n    this.onDragDropStartButton = this.onDragDropStartButton.bind(this)\n    this.onDragDropEndButton = this.onDragDropEndButton.bind(this)\n    this.system.registerMe(this)\n  },\n\n  /**\n   * Called when component is attached and when component data changes.\n   * Generally modifies the entity based on the data.\n   */\n  update: function (oldData) {\n    this.unRegisterListeners(oldData)\n    this.registerListeners()\n  },\n\n  /**\n   * Called when a component is removed (e.g., via removeAttribute).\n   * Generally undoes all modifications to the entity.\n   */\n  remove: function () {\n    this.system.unregisterMe(this)\n    this.unRegisterListeners()\n    this.hoverEls.length = 0\n    if (this.state.get(this.HOVER_EVENT)) {\n      this._unHover(this.state.get(this.HOVER_EVENT))\n    }\n    this.onGrabEndButton()\n    this.onStretchEndButton()\n    this.onDragDropEndButton()\n  },\n  tick: (function () {\n    // closer objects and objects with no distance come later in list\n    function sorter (a, b) {\n      const aDist = a.distance == null ? -1 : a.distance\n      const bDist = b.distance == null ? -1 : b.distance\n      if (aDist < bDist) {\n        return 1\n      }\n      if (bDist < aDist) {\n        return -1\n      }\n      return 0\n    }\n    return function (time) {\n      const data = this.data\n      const prevCheckTime = this.prevCheckTime\n      if (prevCheckTime && (time - prevCheckTime < data.interval)) { return }\n      this.prevCheckTime = time\n\n      let orderChanged = false\n      this.hoverElsIntersections.sort(sorter)\n      for (let i = 0; i < this.hoverElsIntersections.length; i++) {\n        if (this.hoverEls[i] !== this.hoverElsIntersections[i].object.el) {\n          orderChanged = true\n          this.hoverEls[i] = this.hoverElsIntersections[i].object.el\n        }\n      }\n      if (orderChanged) {\n        this.hover()\n      }\n    }\n  })(),\n  onGrabStartButton: function (evt) {\n    let carried = this.state.get(this.GRAB_EVENT)\n    this.dispatchMouseEventAll('mousedown', this.el)\n    this.gehClicking = new Set(this.hoverEls)\n    if (!carried) {\n      carried = this.findTarget(this.GRAB_EVENT, {\n        hand: this.el,\n        buttonEvent: evt\n      })\n      if (carried) {\n        this.state.set(this.GRAB_EVENT, carried)\n        this._unHover(carried)\n      }\n    }\n  },\n  onGrabEndButton: function (evt) {\n    const clickables = this.hoverEls.filter(h => this.gehClicking.has(h))\n    const grabbed = this.state.get(this.GRAB_EVENT)\n    const endEvt = { hand: this.el, buttonEvent: evt }\n    this.dispatchMouseEventAll('mouseup', this.el)\n    for (let i = 0; i < clickables.length; i++) {\n      this.dispatchMouseEvent(clickables[i], 'click', this.el)\n    }\n    this.gehClicking.clear()\n    // check if grabbed entity accepts ungrab event\n    if (grabbed && !this.emitCancelable(grabbed, this.UNGRAB_EVENT, endEvt)) {\n      /* push to top of stack so a drop followed by re-grab gets the same\n         target */\n      this.promoteHoveredEl(this.state.get(this.GRAB_EVENT))\n      this.state.delete(this.GRAB_EVENT)\n      this.hover()\n    }\n  },\n  onStretchStartButton: function (evt) {\n    let stretched = this.state.get(this.STRETCH_EVENT)\n    if (!stretched) {\n      stretched = this.findTarget(this.STRETCH_EVENT, {\n        hand: this.el,\n        buttonEvent: evt\n      })\n      if (stretched) {\n        this.state.set(this.STRETCH_EVENT, stretched)\n        this._unHover(stretched)\n      }\n    }\n  },\n  onStretchEndButton: function (evt) {\n    const stretched = this.state.get(this.STRETCH_EVENT)\n    const endEvt = { hand: this.el, buttonEvent: evt }\n    // check if end event accepted\n    if (stretched &&\n        !this.emitCancelable(stretched, this.UNSTRETCH_EVENT, endEvt)) {\n      this.promoteHoveredEl(stretched)\n      this.state.delete(this.STRETCH_EVENT)\n      this.hover()\n    }\n  },\n  onDragDropStartButton: function (evt) {\n    let dragged = this.state.get(this.DRAG_EVENT)\n    this.dragging = true\n    if (this.hoverEls.length) {\n      this.gehDragged = new Set(this.hoverEls)\n      this.dispatchMouseEventAll('dragstart', this.el)\n    }\n    if (!dragged) {\n      /* prefer carried so that a drag started after a grab will work\n       with carried element rather than a currently intersected drop target.\n       fall back to queue in case a drag is initiated independent\n       of a grab */\n      if (this.state.get(this.GRAB_EVENT) &&\n          !this.emitCancelable(this.state.get(this.GRAB_EVENT), this.DRAG_EVENT,\n            { hand: this.el, buttonEvent: evt })) {\n        dragged = this.state.get(this.GRAB_EVENT)\n      } else {\n        dragged = this.findTarget(this.DRAG_EVENT, {\n          hand: this.el,\n          buttonEvent: evt\n        })\n      }\n      if (dragged) {\n        this.state.set(this.DRAG_EVENT, dragged)\n        this._unHover(dragged)\n      }\n    }\n  },\n  onDragDropEndButton: function (evt) {\n    const carried = this.state.get(this.DRAG_EVENT)\n    this.dragging = false // keep _unHover() from activating another droptarget\n    this.gehDragged.forEach(carried => {\n      this.dispatchMouseEvent(carried, 'dragend', this.el)\n      // fire event both ways for all intersected targets\n      this.dispatchMouseEventAll('drop', carried, true, true)\n      this.dispatchMouseEventAll('dragleave', carried, true, true)\n    })\n    this.gehDragged.clear()\n    if (carried) {\n      const ddEvt = {\n        hand: this.el,\n        dropped: carried,\n        on: null,\n        buttonEvent: evt\n      }\n      const endEvt = { hand: this.el, buttonEvent: evt }\n      const dropTarget = this.findTarget(this.DRAGDROP_EVENT, ddEvt, true)\n      if (dropTarget) {\n        ddEvt.on = dropTarget\n        this.emitCancelable(carried, this.DRAGDROP_EVENT, ddEvt)\n        this._unHover(dropTarget)\n      }\n      // check if end event accepted\n      if (!this.emitCancelable(carried, this.UNDRAG_EVENT, endEvt)) {\n        this.promoteHoveredEl(carried)\n        this.state.delete(this.DRAG_EVENT)\n        this.hover()\n      }\n    }\n  },\n  processHitEl: function (hitEl, intersection) {\n    const dist = intersection && intersection.distance\n    const sects = this.hoverElsIntersections\n    const hoverEls = this.hoverEls\n    const hitElIndex = this.hoverEls.indexOf(hitEl)\n    let hoverNeedsUpdate = false\n    if (hitElIndex === -1) {\n      hoverNeedsUpdate = true\n      // insert in order of distance when available\n      if (dist != null) {\n        let i = 0\n        while (i < sects.length && dist < sects[i].distance) { i++ }\n        hoverEls.splice(i, 0, hitEl)\n        sects.splice(i, 0, intersection)\n      } else {\n        hoverEls.push(hitEl)\n        sects.push({ object: { el: hitEl } })\n      }\n      this.dispatchMouseEvent(hitEl, 'mouseover', this.el)\n      if (this.dragging && this.gehDragged.size) {\n        // events on targets and on dragged\n        this.gehDragged.forEach(dragged => {\n          this.dispatchMouseEventAll('dragenter', dragged, true, true)\n        })\n      }\n    }\n    return hoverNeedsUpdate\n  },\n  onHit: function (evt) {\n    const hitEl = evt.detail[this.data.colliderEventProperty]\n    let hoverNeedsUpdate = 0\n    if (!hitEl) { return }\n    if (Array.isArray(hitEl)) {\n      for (let i = 0, sect; i < hitEl.length; i++) {\n        sect = evt.detail.intersections && evt.detail.intersections[i]\n        hoverNeedsUpdate += this.processHitEl(hitEl[i], sect)\n      }\n    } else {\n      hoverNeedsUpdate += this.processHitEl(hitEl, null)\n    }\n    if (hoverNeedsUpdate) { this.hover() }\n  },\n  /* search collided entities for target to hover/dragover */\n  hover: function () {\n    let hvrevt, hoverEl\n    // end previous hover\n    if (this.state.has(this.HOVER_EVENT)) {\n      this._unHover(this.state.get(this.HOVER_EVENT), true)\n    }\n    if (this.state.has(this.DRAGOVER_EVENT)) {\n      this._unHover(this.state.get(this.DRAGOVER_EVENT), true)\n    }\n    if (this.dragging && this.state.get(this.DRAG_EVENT)) {\n      hvrevt = {\n        hand: this.el,\n        hovered: hoverEl,\n        carried: this.state.get(this.DRAG_EVENT)\n      }\n      hoverEl = this.findTarget(this.DRAGOVER_EVENT, hvrevt, true)\n      if (hoverEl) {\n        this.emitCancelable(this.state.get(this.DRAG_EVENT), this.DRAGOVER_EVENT, hvrevt)\n        this.state.set(this.DRAGOVER_EVENT, hoverEl)\n      }\n    }\n    // fallback to hover if not dragging or dragover wasn't successful\n    if (!this.state.has(this.DRAGOVER_EVENT)) {\n      hoverEl = this.findTarget(this.HOVER_EVENT, { hand: this.el }, true)\n      if (hoverEl) {\n        this.state.set(this.HOVER_EVENT, hoverEl)\n      }\n    }\n  },\n  /* called when controller moves out of collision range of entity */\n  unHover: function (evt) {\n    const clearedEls = evt.detail[this.data.colliderEndEventProperty]\n    if (clearedEls) {\n      if (Array.isArray(clearedEls)) {\n        clearedEls.forEach(el => this._unHover(el))\n      } else {\n        this._unHover(clearedEls)\n      }\n    }\n  },\n  /* inner unHover steps needed regardless of cause of unHover */\n  _unHover: function (el, skipNextHover) {\n    let unHovered = false\n    let evt\n    if (el === this.state.get(this.DRAGOVER_EVENT)) {\n      this.state.delete(this.DRAGOVER_EVENT)\n      unHovered = true\n      evt = {\n        hand: this.el,\n        hovered: el,\n        carried: this.state.get(this.DRAG_EVENT)\n      }\n      this.emitCancelable(el, this.UNDRAGOVER_EVENT, evt)\n      if (this.state.has(this.DRAG_EVENT)) {\n        this.emitCancelable(\n          this.state.get(this.DRAG_EVENT),\n          this.UNDRAGOVER_EVENT,\n          evt\n        )\n      }\n    }\n    if (el === this.state.get(this.HOVER_EVENT)) {\n      this.state.delete(this.HOVER_EVENT)\n      unHovered = true\n      this.emitCancelable(el, this.UNHOVER_EVENT, { hand: this.el })\n    }\n    // activate next target, if present\n    if (unHovered && !skipNextHover) {\n      this.hover()\n    }\n  },\n  unWatch: function (evt) {\n    const clearedEls = evt.detail[this.data.colliderEndEventProperty]\n    if (clearedEls) {\n      if (Array.isArray(clearedEls)) {\n        clearedEls.forEach(el => this._unWatch(el))\n      } else {\n        // deprecation path: sphere-collider\n        this._unWatch(clearedEls)\n      }\n    }\n  },\n  _unWatch: function (target) {\n    const hoverIndex = this.hoverEls.indexOf(target)\n    if (hoverIndex !== -1) {\n      this.hoverEls.splice(hoverIndex, 1)\n      this.hoverElsIntersections.splice(hoverIndex, 1)\n    }\n    this.gehDragged.forEach(dragged => {\n      this.dispatchMouseEvent(target, 'dragleave', dragged)\n      this.dispatchMouseEvent(dragged, 'dragleave', target)\n    })\n    this.dispatchMouseEvent(target, 'mouseout', this.el)\n  },\n  registerListeners: function () {\n    this.el.addEventListener(this.data.colliderEvent, this.onHit)\n    this.el.addEventListener(this.data.colliderEndEvent, this.unWatch)\n    this.el.addEventListener(this.data.colliderEndEvent, this.unHover)\n\n    // binding order to keep grabEnd from triggering dragover\n    // again before dragDropEnd can delete its carried state\n    this.data.grabStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onGrabStartButton)\n    })\n    this.data.stretchStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onStretchStartButton)\n    })\n    this.data.dragDropStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onDragDropStartButton)\n    })\n    this.data.dragDropEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onDragDropEndButton)\n    })\n    this.data.stretchEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onStretchEndButton)\n    })\n    this.data.grabEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onGrabEndButton)\n    })\n  },\n  unRegisterListeners: function (data) {\n    data = data || this.data\n    if (Object.keys(data).length === 0) {\n      // Empty object passed on initalization\n      return\n    }\n    this.el.removeEventListener(data.colliderEvent, this.onHit)\n    this.el.removeEventListener(data.colliderEndEvent, this.unHover)\n    this.el.removeEventListener(data.colliderEndEvent, this.unWatch)\n\n    data.grabStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onGrabStartButton)\n    })\n    data.grabEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onGrabEndButton)\n    })\n    data.stretchStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onStretchStartButton)\n    })\n    data.stretchEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onStretchEndButton)\n    })\n    data.dragDropStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onDragDropStartButton)\n    })\n    data.dragDropEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onDragDropEndButton)\n    })\n  },\n  emitCancelable: function (target, name, detail) {\n    detail = detail || {}\n    const data = { bubbles: true, cancelable: true, detail }\n    data.detail.target = data.detail.target || target\n    const evt = new window.CustomEvent(name, data)\n    return target.dispatchEvent(evt)\n  },\n  dispatchMouseEvent: function (target, name, relatedTarget) {\n    const mEvt = new window.MouseEvent(name, { relatedTarget })\n    target.dispatchEvent(mEvt)\n  },\n  dispatchMouseEventAll: function (name, relatedTarget, filterUsed, alsoReverse) {\n    let els = this.hoverEls\n    if (filterUsed) {\n      els = els\n        .filter(el => el !== this.state.get(this.GRAB_EVENT) &&\n                el !== this.state.get(this.DRAG_EVENT) &&\n                el !== this.state.get(this.STRETCH_EVENT) &&\n                !this.gehDragged.has(el))\n    }\n    if (alsoReverse) {\n      for (let i = 0; i < els.length; i++) {\n        this.dispatchMouseEvent(els[i], name, relatedTarget)\n        this.dispatchMouseEvent(relatedTarget, name, els[i])\n      }\n    } else {\n      for (let i = 0; i < els.length; i++) {\n        this.dispatchMouseEvent(els[i], name, relatedTarget)\n      }\n    }\n  },\n  findTarget: function (evType, detail, filterUsed) {\n    let elIndex\n    let eligibleEls = this.hoverEls\n    if (filterUsed) {\n      eligibleEls = eligibleEls\n        .filter(el => el !== this.state.get(this.GRAB_EVENT) &&\n                el !== this.state.get(this.DRAG_EVENT) &&\n                el !== this.state.get(this.STRETCH_EVENT))\n    }\n    for (elIndex = eligibleEls.length - 1; elIndex >= 0; elIndex--) {\n      if (!this.emitCancelable(eligibleEls[elIndex], evType, detail)) {\n        return eligibleEls[elIndex]\n      }\n    }\n    return null\n  },\n  // Helper to ensure dropping and regrabbing finds the same target for\n  // for order-sorted hoverEls (grabbing; no-op for distance-sorted (pointing)\n  promoteHoveredEl: function (el) {\n    const hoverIndex = this.hoverEls.indexOf(el)\n    if (hoverIndex !== -1 &&\n        this.hoverElsIntersections[hoverIndex].distance == null) {\n      this.hoverEls.splice(hoverIndex, 1)\n      const sect = this.hoverElsIntersections.splice(hoverIndex, 1)\n      this.hoverEls.push(el)\n      this.hoverElsIntersections.push(sect[0])\n    }\n  }\n})\n","/* global AFRAME */\nconst buttonCore = require('./prototypes/buttons-proto.js')\nAFRAME.registerComponent('clickable', AFRAME.utils.extendDeep({}, buttonCore, {\n  schema: {\n    onclick: { type: 'string' }\n  },\n  init: function () {\n    this.CLICKED_STATE = 'clicked'\n    this.CLICK_EVENT = 'grab-start'\n    this.UNCLICK_EVENT = 'grab-end'\n    this.clickers = []\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n    this.el.addEventListener(this.CLICK_EVENT, this.start)\n    this.el.addEventListener(this.UNCLICK_EVENT, this.end)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.CLICK_EVENT, this.start)\n    this.el.removeEventListener(this.UNCLICK_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) { return }\n    this.el.addState(this.CLICKED_STATE)\n    if (this.clickers.indexOf(evt.detail.hand) === -1) {\n      this.clickers.push(evt.detail.hand)\n      if (evt.preventDefault) { evt.preventDefault() }\n    }\n  },\n  end: function (evt) {\n    const handIndex = this.clickers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (handIndex !== -1) {\n      this.clickers.splice(handIndex, 1)\n    }\n    if (this.clickers.length < 1) {\n      this.el.removeState(this.CLICKED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonCore = require('./prototypes/buttons-proto.js')\n\nAFRAME.registerComponent('drag-droppable', inherit({}, buttonCore, {\n  init: function () {\n    console.warn('Warning: drag-droppable is deprecated. Use draggable and droppable components instead')\n    this.HOVERED_STATE = 'dragover'\n    this.DRAGGED_STATE = 'dragged'\n    this.HOVER_EVENT = 'dragover-start'\n    this.UNHOVER_EVENT = 'dragover-end'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    this.hoverStart = this.hoverStart.bind(this)\n    this.dragStart = this.dragStart.bind(this)\n    this.hoverEnd = this.hoverEnd.bind(this)\n    this.dragEnd = this.dragEnd.bind(this)\n    this.dragDrop = this.dragDrop.bind(this)\n\n    this.el.addEventListener(this.HOVER_EVENT, this.hoverStart)\n    this.el.addEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.hoverEnd)\n    this.el.addEventListener(this.UNDRAG_EVENT, this.dragEnd)\n    this.el.addEventListener(this.DRAGDROP_EVENT, this.dragDrop)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.hoverStart)\n    this.el.removeEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.hoverEnd)\n    this.el.removeEventListener(this.UNDRAG_EVENT, this.dragEnd)\n    this.el.removeEventListener(this.DRAGDROP_EVENT, this.dragDrop)\n  },\n  hoverStart: function (evt) {\n    this.el.addState(this.HOVERED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragStart: function (evt) {\n    if (!this.startButtonOk(evt)) { return }\n    this.el.addState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  hoverEnd: function (evt) {\n    this.el.removeState(this.HOVERED_STATE)\n  },\n  dragEnd: function (evt) {\n    if (!this.endButtonOk(evt)) { return }\n    this.el.removeState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragDrop: function (evt) {\n    if (!this.endButtonOk(evt)) { return }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonCore = require('./prototypes/buttons-proto.js')\n\nAFRAME.registerComponent('draggable', inherit({}, buttonCore, {\n  init: function () {\n    this.DRAGGED_STATE = 'dragged'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n\n    this.dragStartBound = this.dragStart.bind(this)\n    this.dragEndBound = this.dragEnd.bind(this)\n\n    this.el.addEventListener(this.DRAG_EVENT, this.dragStartBound)\n    this.el.addEventListener(this.UNDRAG_EVENT, this.dragEndBound)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.removeEventListener(this.UNDRAG_EVENT, this.dragEnd)\n  },\n  dragStart: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) { return }\n    this.el.addState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragEnd: function (evt) {\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    this.el.removeState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nfunction elementMatches (el, selector) {\n  if (el.matches) { return el.matches(selector) }\n  if (el.msMatchesSelector) { return el.msMatchesSelector(selector) }\n  if (el.webkitMatchesSelector) { return el.webkitMatchesSelector(selector) }\n}\nAFRAME.registerComponent('droppable', {\n  schema: {\n    accepts: { default: '' },\n    autoUpdate: { default: true },\n    acceptEvent: { default: '' },\n    rejectEvent: { default: '' }\n  },\n  multiple: true,\n  init: function () {\n    this.HOVERED_STATE = 'dragover'\n    this.HOVER_EVENT = 'dragover-start'\n    this.UNHOVER_EVENT = 'dragover-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    // better for Sinon spying if original method not overwritten\n    this.hoverStartBound = this.hoverStart.bind(this)\n    this.hoverEndBound = this.hoverEnd.bind(this)\n    this.dragDropBound = this.dragDrop.bind(this)\n    this.mutateAcceptsBound = this.mutateAccepts.bind(this)\n\n    this.acceptableEntities = []\n    this.observer = new window.MutationObserver(this.mutateAcceptsBound)\n    this.observerOpts = { childList: true, subtree: true }\n\n    this.el.addEventListener(this.HOVER_EVENT, this.hoverStartBound)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.hoverEndBound)\n    this.el.addEventListener(this.DRAGDROP_EVENT, this.dragDropBound)\n  },\n  update: function () {\n    if (this.data.accepts.length) {\n      this.acceptableEntities = Array.prototype.slice.call(\n        this.el.sceneEl.querySelectorAll(this.data.accepts)\n      )\n    } else {\n      this.acceptableEntities = null\n    }\n    if (this.data.autoUpdate && this.acceptableEntities != null) {\n      this.observer.observe(this.el.sceneEl, this.observerOpts)\n    } else {\n      this.observer.disconnect()\n    }\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.hoverStartBound)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.hoverEndBound)\n    this.el.removeEventListener(this.DRAGDROP_EVENT, this.dragDropBound)\n    this.observer.disconnect()\n  },\n  mutateAccepts: function (mutations) {\n    const query = this.data.accepts\n    mutations.forEach(mutation => {\n      mutation.addedNodes.forEach(added => {\n        if (elementMatches(added, query)) {\n          this.acceptableEntities.push(added)\n        }\n      })\n    })\n  },\n  entityAcceptable: function (entity) {\n    const acceptableEntities = this.acceptableEntities\n    if (acceptableEntities == null) { return true }\n    for (const item of acceptableEntities) {\n      if (item === entity) {\n        return true\n      }\n    }\n    return false\n  },\n  hoverStart: function (evt) {\n    if (evt.defaultPrevented || !this.entityAcceptable(evt.detail.carried)) {\n      return\n    }\n    this.el.addState(this.HOVERED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  hoverEnd: function (evt) {\n    if (evt.defaultPrevented) { return }\n    this.el.removeState(this.HOVERED_STATE)\n  },\n  dragDrop: function (evt) {\n    if (evt.defaultPrevented) { return }\n    const dropped = evt.detail.dropped\n    if (!this.entityAcceptable(dropped)) {\n      if (this.data.rejectEvent.length) {\n        this.el.emit(this.data.rejectEvent, { el: dropped })\n      }\n      return\n    }\n    if (this.data.acceptEvent.length) {\n      this.el.emit(this.data.acceptEvent, { el: dropped })\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n})\n","/* global AFRAME, THREE */\nconst inherit = AFRAME.utils.extendDeep\nconst physicsCore = require('./prototypes/physics-grab-proto.js')\nconst buttonsCore = require('./prototypes/buttons-proto.js')\n// new object with all core modules\nconst base = inherit({}, physicsCore, buttonsCore)\nAFRAME.registerComponent('sh-grabbable', inherit(base, {\n  schema: {\n    maxGrabbers: { type: 'int', default: NaN },\n    invert: { default: false },\n    suppressY: { default: false }\n  },\n  init: function () {\n    this.GRABBED_STATE = 'grabbed'\n    this.GRAB_EVENT = 'grab-start'\n    this.UNGRAB_EVENT = 'grab-end'\n    this.grabbed = false\n    this.grabbers = []\n    this.constraints = new Map()\n    this.deltaPositionIsValid = false\n    this.grabDistance = undefined\n    this.grabDirection = { x: 0, y: 0, z: -1 }\n    this.grabOffset = { x: 0, y: 0, z: 0 }\n    // persistent object speeds up repeat setAttribute calls\n    this.destPosition = { x: 0, y: 0, z: 0 }\n    this.deltaPosition = new THREE.Vector3()\n    this.targetPosition = new THREE.Vector3()\n    this.physicsInit()\n\n    this.el.addEventListener(this.GRAB_EVENT, e => this.start(e))\n    this.el.addEventListener(this.UNGRAB_EVENT, e => this.end(e))\n    this.el.addEventListener('mouseout', e => this.lostGrabber(e))\n  },\n  update: function () {\n    this.physicsUpdate()\n    this.xFactor = (this.data.invert) ? -1 : 1\n    this.zFactor = (this.data.invert) ? -1 : 1\n    this.yFactor = ((this.data.invert) ? -1 : 1) * !this.data.suppressY\n  },\n  tick: (function () {\n    const q = new THREE.Quaternion()\n    const v = new THREE.Vector3()\n\n    return function () {\n      let entityPosition\n      if (this.grabber) {\n        // reflect on z-axis to point in same direction as the laser\n        this.targetPosition.copy(this.grabDirection)\n        this.targetPosition\n          .applyQuaternion(this.grabber.object3D.getWorldQuaternion(q))\n          .setLength(this.grabDistance)\n          .add(this.grabber.object3D.getWorldPosition(v))\n          .add(this.grabOffset)\n        if (this.deltaPositionIsValid) {\n          // relative position changes work better with nested entities\n          this.deltaPosition.sub(this.targetPosition)\n          entityPosition = this.el.getAttribute('position')\n          this.destPosition.x =\n              entityPosition.x - this.deltaPosition.x * this.xFactor\n          this.destPosition.y =\n              entityPosition.y - this.deltaPosition.y * this.yFactor\n          this.destPosition.z =\n              entityPosition.z - this.deltaPosition.z * this.zFactor\n          this.el.setAttribute('position', this.destPosition)\n        } else {\n          this.deltaPositionIsValid = true\n        }\n        this.deltaPosition.copy(this.targetPosition)\n      }\n    }\n  })(),\n  remove: function () {\n    this.el.removeEventListener(this.GRAB_EVENT, this.start)\n    this.el.removeEventListener(this.UNGRAB_EVENT, this.end)\n    this.physicsRemove()\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) {\n      return\n    }\n    // room for more grabbers?\n    const grabAvailable = !Number.isFinite(this.data.maxGrabbers) ||\n        this.grabbers.length < this.data.maxGrabbers\n\n    if (this.grabbers.indexOf(evt.detail.hand) === -1 && grabAvailable) {\n      if (!evt.detail.hand.object3D) {\n        console.warn('sh-grabbable entities must have an object3D')\n        return\n      }\n      this.grabbers.push(evt.detail.hand)\n      // initiate physics if available, otherwise manual\n      if (!this.physicsStart(evt) && !this.grabber) {\n        this.grabber = evt.detail.hand\n        this.resetGrabber()\n      }\n      // notify super-hands that the gesture was accepted\n      if (evt.preventDefault) { evt.preventDefault() }\n      this.grabbed = true\n      this.el.addState(this.GRABBED_STATE)\n    }\n  },\n  end: function (evt) {\n    const handIndex = this.grabbers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (handIndex !== -1) {\n      this.grabbers.splice(handIndex, 1)\n      this.grabber = this.grabbers[0]\n    }\n    this.physicsEnd(evt)\n    if (!this.resetGrabber()) {\n      this.grabbed = false\n      this.el.removeState(this.GRABBED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  resetGrabber: (function () {\n    const objPos = new THREE.Vector3()\n    const grabPos = new THREE.Vector3()\n    return function () {\n      if (!this.grabber) {\n        return false\n      }\n      const raycaster = this.grabber.getAttribute('raycaster')\n      this.deltaPositionIsValid = false\n      this.grabDistance = this.el.object3D.getWorldPosition(objPos).distanceTo(this.grabber.object3D.getWorldPosition(grabPos))\n      if (raycaster) {\n        this.grabDirection = raycaster.direction\n        this.grabOffset = raycaster.origin\n      }\n      return true\n    }\n  })(),\n  lostGrabber: function (evt) {\n    const i = this.grabbers.indexOf(evt.relatedTarget)\n    // if a queued, non-physics grabber leaves the collision zone, forget it\n    if (i !== -1 && evt.relatedTarget !== this.grabber &&\n        !this.physicsIsConstrained(evt.relatedTarget)) {\n      this.grabbers.splice(i, 1)\n    }\n  }\n}))\n","/* global AFRAME */\nAFRAME.registerComponent('hoverable', {\n  init: function () {\n    this.HOVERED_STATE = 'hovered'\n    this.HOVER_EVENT = 'hover-start'\n    this.UNHOVER_EVENT = 'hover-end'\n\n    this.hoverers = []\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n\n    this.el.addEventListener(this.HOVER_EVENT, this.start)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.end)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.start)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented) { return }\n    this.el.addState(this.HOVERED_STATE)\n    if (this.hoverers.indexOf(evt.detail.hand) === -1) {\n      this.hoverers.push(evt.detail.hand)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  end: function (evt) {\n    if (evt.defaultPrevented) { return }\n    const handIndex = this.hoverers.indexOf(evt.detail.hand)\n    if (handIndex !== -1) {\n      this.hoverers.splice(handIndex, 1)\n    }\n    if (this.hoverers.length < 1) {\n      this.el.removeState(this.HOVERED_STATE)\n    }\n  }\n})\n","// common code used in customizing reaction components by button\nmodule.exports = (function () {\n  function buttonIsValid (evt, buttonList) {\n    return buttonList.length === 0 ||\n        buttonList.indexOf(evt.detail.buttonEvent.type) !== -1\n  }\n  return {\n    schema: {\n      startButtons: { default: [] },\n      endButtons: { default: [] }\n    },\n    startButtonOk: function (evt) {\n      return buttonIsValid(evt, this.data.startButtons)\n    },\n    endButtonOk: function (evt) {\n      return buttonIsValid(evt, this.data.endButtons)\n    }\n  }\n})()\n","// base code used by grabbable for physics interactions\nmodule.exports = {\n  schema: {\n    usePhysics: { default: 'ifavailable' }\n  },\n  physicsInit: function () {\n    this.constraints = new Map()\n  },\n  physicsUpdate: function () {\n    if (this.data.usePhysics === 'never' && this.constraints.size) {\n      this.physicsClear()\n    }\n  },\n  physicsRemove: function () {\n    this.physicsClear()\n  },\n  physicsStart: function (evt) {\n    // initiate physics constraint if available and not already existing\n    if (this.data.usePhysics !== 'never' && this.el.body &&\n        evt.detail.hand.body && !this.constraints.has(evt.detail.hand)) {\n      const newConId = Math.random().toString(36).substr(2, 9)\n      this.el.setAttribute('constraint__' + newConId, {\n        target: evt.detail.hand\n      })\n      this.constraints.set(evt.detail.hand, newConId)\n      return true\n    }\n    // Prevent manual grab by returning true\n    if (this.data.usePhysics === 'only') { return true }\n    return false\n  },\n  physicsEnd: function (evt) {\n    const constraintId = this.constraints.get(evt.detail.hand)\n    if (constraintId) {\n      this.el.removeAttribute('constraint__' + constraintId)\n      this.constraints.delete(evt.detail.hand)\n    }\n  },\n  physicsClear: function () {\n    if (this.el.body) {\n      for (const c of this.constraints.values()) {\n        this.el.body.world.removeConstraint(c)\n      }\n    }\n    this.constraints.clear()\n  },\n  physicsIsConstrained: function (el) {\n    return this.constraints.has(el)\n  },\n  physicsIsGrabbing () {\n    return this.constraints.size > 0\n  }\n}\n","/* global AFRAME, THREE */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonsCore = require('./prototypes/buttons-proto.js')\n// new object with all core modules\nconst base = inherit({}, buttonsCore)\nAFRAME.registerComponent('stretchable', inherit(base, {\n  schema: {\n    usePhysics: { default: 'ifavailable' },\n    invert: { default: false },\n    physicsUpdateRate: { default: 100 }\n  },\n  init: function () {\n    this.STRETCHED_STATE = 'stretched'\n    this.STRETCH_EVENT = 'stretch-start'\n    this.UNSTRETCH_EVENT = 'stretch-end'\n    this.stretched = false\n    this.stretchers = []\n\n    this.scale = new THREE.Vector3()\n    this.handPos = new THREE.Vector3()\n    this.otherHandPos = new THREE.Vector3()\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n\n    this.el.addEventListener(this.STRETCH_EVENT, this.start)\n    this.el.addEventListener(this.UNSTRETCH_EVENT, this.end)\n  },\n  update: function (oldDat) {\n    this.updateBodies = AFRAME.utils.throttleTick(\n      this._updateBodies,\n      this.data.physicsUpdateRate,\n      this\n    )\n  },\n  tick: function (time, timeDelta) {\n    if (!this.stretched) { return }\n    this.scale.copy(this.el.getAttribute('scale'))\n    this.stretchers[0].object3D.getWorldPosition(this.handPos)\n    this.stretchers[1].object3D.getWorldPosition(this.otherHandPos)\n    const currentStretch = this.handPos.distanceTo(this.otherHandPos)\n    let deltaStretch = 1\n    if (this.previousStretch !== null && currentStretch !== 0) {\n      deltaStretch = Math.pow(\n        currentStretch / this.previousStretch,\n        (this.data.invert)\n          ? -1\n          : 1\n      )\n    }\n    this.previousStretch = currentStretch\n    if (this.previousPhysicsStretch == null) {\n      // establish correct baseline even if throttled function isn't called\n      this.previousPhysicsStretch = currentStretch\n    }\n    this.scale.multiplyScalar(deltaStretch)\n    this.el.setAttribute('scale', this.scale)\n    // scale update for all nested physics bodies (throttled)\n    this.updateBodies(time, timeDelta)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.STRETCH_EVENT, this.start)\n    this.el.removeEventListener(this.UNSTRETCH_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (this.stretched || this.stretchers.includes(evt.detail.hand) ||\n        !this.startButtonOk(evt) || evt.defaultPrevented) {\n      return\n    } // already stretched or already captured this hand or wrong button\n    this.stretchers.push(evt.detail.hand)\n    if (this.stretchers.length === 2) {\n      this.stretched = true\n      this.previousStretch = null\n      this.previousPhysicsStretch = null\n      this.el.addState(this.STRETCHED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() } // gesture accepted\n  },\n  end: function (evt) {\n    const stretcherIndex = this.stretchers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (stretcherIndex !== -1) {\n      this.stretchers.splice(stretcherIndex, 1)\n      this.stretched = false\n      this.el.removeState(this.STRETCHED_STATE)\n      // override throttle to push last stretch to physics bodies\n      this._updateBodies()\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  _updateBodies: function () {\n    if (!this.el.body || this.data.usePhysics === 'never') { return }\n    const currentStretch = this.previousStretch // last visible geometry stretch\n    let deltaStretch = 1\n    if (this.previousPhysicsStretch !== null && currentStretch > 0) {\n      deltaStretch = Math.pow(\n        currentStretch / this.previousPhysicsStretch,\n        (this.data.invert)\n          ? -1\n          : 1\n      )\n    }\n    this.previousPhysicsStretch = currentStretch\n    if (deltaStretch === 1) { return }\n    for (const c of this.el.childNodes) { this.stretchBody(c, deltaStretch) }\n    this.stretchBody(this.el, deltaStretch)\n  },\n  stretchBody: function (el, deltaStretch) {\n    if (!el.body) { return }\n    let physicsShape\n    let offset\n    for (let i = 0; i < el.body.shapes.length; i++) {\n      physicsShape = el.body.shapes[i]\n      if (physicsShape.halfExtents) {\n        physicsShape.halfExtents\n          .scale(deltaStretch, physicsShape.halfExtents)\n        physicsShape.updateConvexPolyhedronRepresentation()\n      } else if (physicsShape.radius) {\n        physicsShape.radius *= deltaStretch\n        physicsShape.updateBoundingSphereRadius()\n      } else if (!this.shapeWarned) {\n        console.warn('Unable to stretch physics body: unsupported shape')\n        this.shapeWarned = true\n      }\n      // also move offset to match scale change\n      offset = el.body.shapeOffsets[i]\n      offset.scale(deltaStretch, offset)\n    }\n    el.body.updateBoundingRadius()\n  }\n}))\n","/* global AFRAME */\nAFRAME.registerSystem('super-hands', {\n  init: function () {\n    this.superHands = []\n  },\n  registerMe: function (comp) {\n    // when second hand registers, store links\n    if (this.superHands.length === 1) {\n      this.superHands[0].otherSuperHand = comp\n      comp.otherSuperHand = this.superHands[0]\n    }\n    this.superHands.push(comp)\n  },\n  unregisterMe: function (comp) {\n    const index = this.superHands.indexOf(comp)\n    if (index !== -1) {\n      this.superHands.splice(index, 1)\n    }\n    this.superHands.forEach(x => {\n      if (x.otherSuperHand === comp) { x.otherSuperHand = null }\n    })\n  }\n})\n","import AssetManager from \"./assetManager\";\nimport \"./components/renderer\";\n\nexport default class AframeContext {\n    constructor(settings) {\n        this.inVR = false;\n        // settings pointer\n        this.settings = settings;\n        this.createScene();\n        // create asset manager\n        this.assetManager = new AssetManager(this.scene);\n    }\n\n    createScene() {\n        // find scene if exists else create scene\n        const scene = document.getElementsByTagName(\"a-scene\");\n        if (scene.length > 0)\n            this.scene = scene[0];\n        else {\n            this.scene = document.createElement(\"a-scene\");\n            document.body.appendChild(this.scene);\n            this.newScene = true;\n        }\n\n        // add stats to scene if debug\n        if (this.settings.debug)\n            this.scene.setAttribute(\"stats\", \"\")\n\n        //custom renderer params like local clipping\n        this.scene.setAttribute(\"vr-renderer\", \"\");\n\n        // check if in VR\n        this.scene.addEventListener(\"enter-vr\", (() => {\n            this.inVR = true;\n        }).bind(this));\n        this.scene.addEventListener(\"exit-vr\", (() => {\n            this.inVR = false;\n        }).bind(this));\n    }\n\n    createContainer(web2vr) {\n        // conttainer for all aframe elements\n        this.container = document.createElement(\"a-entity\");\n        this.container.classList.add(\"vr-container\");\n        this.container.classList.add(this.settings.interactiveTag);\n\n        // position container\n        const width = parseFloat(window.getComputedStyle(web2vr.container).width) * (1 / this.settings.scale);\n        let x = this.settings.position.x;\n        // if x=0 then then we want to be in center for testing and showcase\n        if (x == 0)\n            x = x - width / 2;\n        this.container.object3D.position.set(x, this.settings.position.y, this.settings.position.z);\n        // update rotation from aframe(1.0.4) because there is bug(rotation x will be wrong) if you update with three.js\n        this.container.setAttribute(\"rotation\", { x: this.settings.rotation.x, y: this.settings.rotation.y, z: this.settings.rotation.z });\n\n        const parentElement = document.querySelector(this.settings.parentSelector);\n        if (parentElement)\n            parentElement.appendChild(this.container);\n        else {\n            this.container.setAttribute(\"vr-grab-rotate-static\", \"\");\n            this.container.setAttribute(\"sh-grabbable\", \"\");\n            this.container.setAttribute(\"stretchable\", \"\");\n            this.scene.appendChild(this.container);\n        }\n\n        // pointer for grabRotateStatic\n        this.container.web2vr = web2vr;\n    }\n\n    createSky() {\n        // create sky if sky doesnt exist\n        if (document.getElementsByTagName(\"a-sky\").length == 0 && this.settings.skybox) {\n            this.sky = document.createElement(\"a-sky\");\n            this.sky.setAttribute(\"color\", \"#a9f8fe\");\n            this.scene.appendChild(this.sky);\n        }\n    }\n\n    createControllers() {\n        // cursor only for dev testing on desktop\n        if (!document.getElementById(\"mouseCursor\")) {\n            const cursor = document.createElement(\"a-entity\");\n            cursor.id = \"mouseCursor\";\n            cursor.setAttribute(\"cursor\", \"rayOrigin\", \"mouse\");\n            cursor.setAttribute(\"raycaster\", `objects: .${this.settings.interactiveTag}, .collidable`);\n            this.scene.appendChild(cursor);\n        }\n\n        // super hands 6DOF\n        if (this.settings.createControllers && !document.getElementById(\"leftHand\")) {\n            const raycaster = `objects: .${this.settings.interactiveTag}, .collidable; far: ${this.settings.raycasterFar}`;\n            const superhands = \"colliderEvent: raycaster-intersection; colliderEventProperty: els; colliderEndEvent:raycaster-intersection-cleared; colliderEndEventProperty: clearedEls; grabStartButtons: gripdown; grabEndButtons: gripup; stretchStartButtons: gripdown; stretchEndButtons: gripup\";\n\n            const leftHand = document.createElement(\"a-entity\");\n            leftHand.id = \"leftHand\";\n            leftHand.setAttribute(\"hand-controls\", \"hand:left; handModelStyle: highPoly; color: #ffcccc\");\n            leftHand.setAttribute(\"laser-controls\", \"\");\n            leftHand.setAttribute(\"raycaster\", raycaster);\n            leftHand.setAttribute(\"super-hands\", superhands);\n\n            const rightHand = document.createElement(\"a-entity\");\n            rightHand.id = \"rightHand\";\n            rightHand.setAttribute(\"hand-controls\", \"hand:right; handModelStyle: highPoly; color: #ffcccc\");\n            rightHand.setAttribute(\"laser-controls\", \"\");\n            rightHand.setAttribute(\"raycaster\", raycaster);\n            rightHand.setAttribute(\"super-hands\", superhands);\n\n            this.scene.appendChild(leftHand);\n            this.scene.appendChild(rightHand);\n        }\n        // keyboard\n        this.keyboard = document.getElementById(\"vr-keyboard\");\n        if (!this.keyboard) {\n            this.keyboard = document.createElement(\"a-entity\");\n            this.keyboard.id = \"vr-keyboard\";\n            this.keyboard.setAttribute(\"a-keyboard\", \"\");\n            this.keyboard.setAttribute(\"sh-grabbable\", \"\");\n            this.scene.appendChild(this.keyboard);\n            this.keyboard.object3D.visible = false;\n\n            // current active input\n            this.keyboard.activeInput = null;\n            // event listener for the keyboard key press \n            document.addEventListener('a-keyboard-update', (e) => {\n                if (this.keyboard.activeInput) {\n                    const code = parseInt(e.detail.code);\n                    let value = this.keyboard.activeInput.value;\n\n                    // backspace\n                    if (code == 8)\n                        value = value.slice(0, -1);\n                    // submit or cancel\n                    else if (code == 6 || code == 24) {\n                        this.keyboard.object3D.visible = false;\n                        this.keyboard.object3D.position.y = 10000; // because raycasting still collides with invisible objects\n                        this.keyboard.activeInput.element.active = false;\n                        this.keyboard.activeInput.element.update();\n                        this.keyboard.activeInput = null;\n                        return;\n                    }\n                    // ignore arrow keys\n                    else if (![37, 38, 39, 40].includes(code))\n                        value += e.detail.value;\n\n                    this.keyboard.activeInput.value = value;\n                    this.keyboard.activeInput.element.update();\n                }\n            });\n        }\n    }\n}","export default class AssetManager {\n    constructor(scene) {\n        const assets = document.getElementsByTagName(\"a-assets\")[0];\n        if (assets)\n            this.assets = assets;\n        else {\n            this.assets = document.createElement(\"a-assets\");\n            scene.appendChild(this.assets);\n        }\n    }\n\n    // update current-id attribute\n    updateCurrentAssetId() {\n        let currentAssetId = parseInt(this.assets.getAttribute(\"current-id\"));\n        if (!this.assets.getAttribute(\"current-id\")) {\n            this.assets.setAttribute(\"current-id\", 0);\n            currentAssetId = 0;\n        }\n        this.assets.setAttribute(\"current-id\", currentAssetId + 1);\n    }\n    // update current-id attribute and return it.\n    // used for elements (ex. video) outside a-assets tag\n    updateCurrentAssetIdReturn(){\n        this.updateCurrentAssetId();\n        return \"asset-\"+this.assets.getAttribute(\"current-id\");\n    }\n\n    // find asset if exists if not create and return it\n    getAsset(path, type) {\n        const assets = this.assets.getChildren();\n\n        for (const asset of assets) {\n            if (asset.getAttribute(\"src\") === path)\n                return asset.getAttribute(\"id\");\n        }\n\n        return this.createAsset(path, type);\n    }\n\n    createAsset(path, type) {\n        const asset = document.createElement(type);\n        asset.setAttribute(\"src\", path);\n        this.updateCurrentAssetId();\n        const id = \"asset-\" + this.assets.getAttribute(\"current-id\");\n        asset.setAttribute(\"id\", id);\n        // have to manualy add crossorigin for all external assets to load\n        asset.setAttribute(\"crossorigin\", \"Anonymous\");\n\n        this.assets.appendChild(asset);\n        return id;\n    }\n\n    removeAsset(id) {\n        this.assets.querySelector(\"#\" + id).remove();\n    }\n}","AFRAME.registerComponent(\"vr-animate\", {\n    init: function () {\n        this.running = false;\n        // listenes for css animation and translation\n        this.el.element.domElement.addEventListener(\"animationstart\", this.startAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"animationend\", this.stopAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"transitionstart\", this.startAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"transitionend\", this.stopAnimation.bind(this));\n    },\n    tick: function () {\n        if (this.running)\n            this.el.element.web2vr.update();\n    },\n    startAnimation: function () {\n        this.running = true;\n    },\n    stopAnimation: function () {\n        this.running = false;\n        // one final update\n        this.el.element.web2vr.update();\n    }\n});","AFRAME.registerComponent(\"vr-border\", {\n    schema: {\n        width: { type: \"number\" },\n        color: { type: \"string\" },\n    },\n    init: function () {\n        this.running = true;\n        const plane = this.el.object3D.children[0];\n        const edges = new THREE.EdgesGeometry(plane.geometry);\n        const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x000000, linewidth: this.data.width }));\n\n        this.borderObject = line;\n        this.el.element.web2vr.aframe.container.object3D.add(this.borderObject);\n\n        //maybe clippingContext inside tick?\n        if (this.el.element.clippingContext) {\n            line.material.clippingPlanes = this.el.element.clippingContext.planes;\n            line.material.needsUpdate = true;\n        }\n    },\n    update: function () {\n        // waiting for three.js(WebGL) to add lineWidth support for Windows(DirectX) browsers for now linewidth is 1 no matter what you set it.\n        // lineWidth works for other OS.\n        const borderWidth = this.data.width;\n\n        // custom element border width\n        if (this.el.element.borderWidth)\n            this.borderObject.material.linewidth = this.el.element.borderWidth;\n        else\n            this.borderObject.material.linewidth = borderWidth;\n\n        // custom element border color\n        if (this.el.element.borderColor)\n            this.borderObject.material.color = this.el.element.borderColor;\n        else\n            this.borderObject.material.color = new THREE.Color(this.data.color);\n    },\n    updateBorder: function () {\n        if (this.el.element.visible) {\n            this.running = true;\n            this.borderObject.material.visible = true;\n        }\n        else\n            this.borderObject.material.visible = false;\n    },\n    tick: function () {\n        if (this.running) {\n            const scale = this.el.object3D.scale;\n            const plane = this.el.object3D.children[0].geometry.clone();\n            plane.scale(scale.x, scale.y, scale.z);\n            const edges = new THREE.EdgesGeometry(plane);\n            const position = this.el.object3D.position;\n\n            this.borderObject.geometry = edges;\n\n            this.borderObject.position.set(position.x, position.y, position.z + this.el.element.web2vr.settings.layerStep * 2);\n            this.running = false;\n        }\n    },\n    remove: function () {\n        this.el.element.web2vr.aframe.container.object3D.remove(this.borderObject);\n    }\n});","AFRAME.registerComponent(\"vr-grab-rotate-static\", {\n    tick: function () {\n        if (this.el.components[\"sh-grabbable\"].grabbed) {\n            // update clipping when moving\n            if (this.el.web2vr.scroll.hasScroll) {\n                for (const element of this.el.web2vr.elements)\n                    element.updateClipping();\n            }\n\n            const obj = this.el.object3D;\n            const hand = this.el.components[\"sh-grabbable\"].grabbers[0].object3D;\n\n            obj.rotation.y = Math.atan2(hand.position.x - (obj.position.x + this.el.children[0].getAttribute(\"width\") / 2), hand.position.z - obj.position.z);\n\n            //obj.rotation.x = hand.rotation.x;\n            //obj.rotation.y = hand.rotation.y;\n            //obj.rotation.z = hand.rotation.z;\n        }\n    },\n});","AFRAME.registerComponent(\"vr-renderer\", {\n    init: function () {\n        this.el.sceneEl.renderer.localClippingEnabled = true;\n    }\n});","AFRAME.registerComponent(\"vr-scrollbar\", {\n    init: function () {\n        this.el.addEventListener(\"click\", (function (evt) {\n            let scrollHeight = parseFloat(this.el.web2vr.aframe.container.firstElementChild.element.style.height) - this.el.web2vr.settings.scrollWindowHeight;\n            if (this.el.web2vr.scroll.scrollContainer == this.el.web2vr.container)\n                scrollHeight = this.el.web2vr.scroll.scrollContainer.scrollHeight - this.el.web2vr.scroll.scrollContainer.clientHeight;\n\n            const scrollY = (1 - evt.detail.intersection.uv.y) * (scrollHeight) / this.el.web2vr.settings.scale;\n            const elements = [...this.el.web2vr.elements];\n            // remove first element that is the backgorund of container\n            elements.shift();\n\n            this.el.pointer.object3D.position.setY(this.pointEndY + evt.detail.intersection.uv.y * (this.pointStartY - this.pointEndY));\n\n            for (const element of elements) {\n                element.position.scrollY = scrollY;\n            }\n            this.el.web2vr.update();\n        }).bind(this));\n    },\n    play: function () {\n        const width = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"width\"));\n        const height = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"height\"));\n\n        // init plane size\n        this.el.setAttribute(\"width\", width / 20);\n        this.el.setAttribute(\"height\", height);\n\n        //init scrollbar position\n        this.el.scrollbar.object3D.position.setX(width + parseFloat(this.el.getAttribute(\"width\") / 2));\n        this.el.scrollbar.object3D.position.setY(0 - height / 2); //1.96\n        this.el.scrollbar.object3D.position.setZ(-(this.el.web2vr.settings.layerStep*4));\n\n        // init pointer position and size\n        this.el.pointer.setAttribute(\"height\", width / 20);\n        this.el.pointer.setAttribute(\"width\", width / 20);\n\n        this.pointStartY = height / 2 - parseFloat(this.el.pointer.getAttribute(\"height\")) / 2;\n        this.pointEndY = this.pointStartY - height + parseFloat(this.el.pointer.getAttribute(\"height\"));\n\n        this.el.pointer.object3D.position.setY(this.pointStartY);\n        this.el.pointer.object3D.position.setZ(this.el.web2vr.settings.layerStep*2);\n    }\n\n});","import TextElement from \"./textElement\";\n\nexport default class ButtomElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n    }\n\n    updateTextPadding() {\n        // ignore padding for buttons\n    }\n\n    updateText() {\n        if (this.domElement.tagName == \"INPUT\")\n            this.textValue = this.domElement.value.replace(/\\s{2,}/g, ' ');\n    }\n}","import Element from \"./element\";\n\nexport default class CanvasElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.updateImage(this.domElement.toDataURL());\n    }\n}","import Element from \"./element\";\n\nexport default class CheckBoxElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-plane\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.specificUpdate();\n        }).bind(this))\n    }\n\n    specificUpdate() {\n        if (this.domElement.checked)\n            this.entity.setAttribute(\"color\", \"#0075FF\");\n        else\n            this.entity.setAttribute(\"color\", \"#FFFFFF\");\n    }\n}","import Element from \"./element\";\nimport Helper from \"../utils/helper\";\n\nexport default class ContainerElement extends Element {\n    constructor(web2vr, domElement, layer, textOnly = false) {\n        super(web2vr, domElement, layer);\n        this.textOnly = textOnly;\n        this.entity = document.createElement(\"a-plane\");\n\n        // if hyperlink trigger a click event\n        if (this.domElement.tagName == \"A\") {\n            this.entity.addEventListener(\"click\", () => { console.log(\"Link clicked!\", this.domElement.click()); });\n        }\n\n        if (!this.textOnly) {\n            // show back plane for the main container\n            if (this.domElement == this.web2vr.container)\n                this.entity.setAttribute(\"material\", \"side\", \"double\");\n\n            // only needed for experimental background\n            this.expImageId = null;\n            this.oldBackgroundImage = null;\n            this.oldDomPosition = null;\n        }\n    }\n\n    specificUpdate() {\n        if (!this.textOnly) {\n            const backgroundColor = this.style.backgroundColor;\n            let backgroundImage = this.style.backgroundImage; // to get 1:1 as html have to use background-size: cover; or use experimental\n\n            if (backgroundImage != \"none\") {\n                // cannot use animations that require update to be called every frame. html2canvas is very performance heavy.\n                if (this.web2vr.settings.experimental) {\n                    if ((backgroundImage != this.oldBackgroundImage || (this.oldDomPosition && !this.position.equalsDOMPosition(this.oldDomPosition)))) {\n                        let id = this.domElement.id;\n                        let customId = false;\n                        if (!id) {\n                            customId = true;\n                            id = \"html2canvas-\" + this.web2vr.html2canvasIDcounter++;\n                            this.domElement.id = id;\n                        }\n\n                        html2canvas(this.domElement, {\n                            onclone: (clone) => {\n                                const style = document.createElement('style');\n\n                                clone.head.appendChild(style);\n                                // ignoring opacity because we use opacity from aframe\n                                style.sheet.insertRule(`\n                    #${id} {\n                        opacity: 1;\n                    }`);\n                                // hide the text\n                                style.sheet.insertRule(`\n                    #${id} {\n                        color: transparent;\n                    }`);\n                                // hide the children elements\n                                style.sheet.insertRule(`\n                    #${id} > * {\n                        display:none\n                    }`);\n                                // vr-span has to be block so it can render properly\n                                style.sheet.insertRule(`\n                    #${id} > .vr-span {\n                        display:block\n                    }`);\n                                if (customId)\n                                    this.domElement.removeAttribute(\"id\");\n                            }\n                        }).then(canvas => {\n                            if (this.expImageId)\n                                this.web2vr.aframe.assetManager.removeAsset(this.expImageId);\n                            this.expImageId = this.web2vr.aframe.assetManager.getAsset(canvas.toDataURL(), \"img\");\n                            this.entity.setAttribute(\"material\", \"src: #\" + this.expImageId);\n                        });\n                        this.oldBackgroundImage = backgroundImage;\n                    }\n                }\n                else if (Helper.isUrl(backgroundImage)) {\n                    // remove url(\"\")\n                    backgroundImage = backgroundImage.substring(backgroundImage.lastIndexOf('(\\\"') + 2, backgroundImage.lastIndexOf('\\\")'));\n                    this.entity.setAttribute(\"material\", \"src: #\" + this.web2vr.aframe.assetManager.getAsset(backgroundImage, \"img\"));\n                    // transparent images support\n                    this.entity.setAttribute(\"material\", \"transparent\", true);\n                }\n            }\n            else {\n                // if there is no backgroundColor dont renders\n                if (backgroundColor == \"rgba(0, 0, 0, 0)\") {\n                    this.entity.setAttribute(\"material\", \"visible\", false);\n                }\n                else {\n                    this.entity.setAttribute(\"material\", \"visible\", true);\n                    this.entity.setAttribute(\"color\", backgroundColor);\n                    this.updateOpacity();\n                }\n            }\n            this.oldDomPosition = this.position.domPosition;\n        }\n    }\n\n    updateOpacity() {\n        const alpha = parseFloat(this.style.backgroundColor.split(',')[3]);\n        // calculate final alpha channel result\n        if (alpha) {\n            let a = alpha;\n            let b = this.style.opacity;\n            if (a < b) {\n                b = alpha;\n                a = this.style.opacity;\n            }\n            this.entity.setAttribute(\"opacity\", a - (a - b));\n        }\n    }\n}","import Position from \"../utils/position\";\nimport MouseEventHandler from \"../utils/mouseEventHandler\";\n\nexport default class Element {\n    constructor(web2vr, domElement, layer) {\n        this.web2vr = web2vr;\n        this.domElement = domElement;\n        this.layer = layer;\n        this.domElement.element = this; // so we can do domeElement.parentNode.element\n        this.childElements = new Set();\n\n        this.entity = null; // aframe entity this null becasue Element class is abstract\n        this.visible = true;\n        if (this.domElement.classList.contains(\"vr-span\"))\n            this.paddingToMargin();\n        this.position = new Position(this.domElement.getBoundingClientRect(), layer * this.web2vr.settings.layerStep, web2vr.settings.scale);\n        this.style = window.getComputedStyle(this.domElement);\n        this.parentTransform = \"none\";\n        this.needsStartingTransformSize = true;\n    }\n\n    // call after entity is created in inheriting class\n    initEventHandlers() {\n        this.initHover();\n\n        // setting up MouseEventHandler\n        this.mouseEventHandle = new MouseEventHandler(this);\n\n        // dynamic listeners\n        this.domElement.addEventListener(\"eventListenerAdded\", () => this.mouseEventHandle.resync());\n        this.domElement.addEventListener(\"eventListenerRemoved\", () => this.mouseEventHandle.resync());\n    }\n\n    // add animation compoment if dom element has animation\n    checkAnimation() {\n        if (parseFloat(this.style.animationDuration) || parseFloat(this.style.transitionDuration))\n            this.entity.setAttribute(\"vr-animate\", \"\");\n        else\n            this.entity.removeAttribute(\"vr-animate\");\n    }\n\n    initHover() {\n        // find what has hover\n        let tag = null;\n        if (this.web2vr.hoverSelectors.has(this.domElement.tagName.toLowerCase()))\n            tag = this.domElement.tagName.toLowerCase();\n        let classes = [];\n        for (const cls of this.domElement.classList) {\n            if (this.web2vr.hoverSelectors.has(\".\" + cls))\n                classes.push(cls);\n        }\n        let id = null;\n        if (this.web2vr.hoverSelectors.has(\"#\" + this.domElement.id))\n            id = this.domElement.id;\n\n        // add mouseenter and mouseleave if element has hover.\n        if (tag || classes.length > 0 || id) {\n            this.entity.addEventListener(\"mouseenter\", () => {\n                if (tag)\n                    this.domElement.classList.add(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.add(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.add(id + \"hover\");\n                // this is only for hover transform. Update all elements when transform gets added\n                if (this.style.transform != \"none\") {\n                    this.web2vr.update();\n                    this.hoverTransform = true;\n                }\n\n            });\n            this.entity.addEventListener(\"mouseleave\", () => {\n                if (tag)\n                    this.domElement.classList.remove(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.remove(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.remove(id + \"hover\");\n                if (this.hoverTransform) {\n                    this.position.depth = this.position.startDepth;\n                    for (const element of this.domElement.querySelectorAll('*')) {\n                        if (element.element) {\n                            element.element.parentTransform = \"none\";\n                            element.element.position.depth = element.element.position.startDepth;\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    // getBoundingClientRect works great with margin while with padding it has problems with paddingRight that needs to be manualy calculated and set\n    // because dealing with paddingRight is problematic we can make the padding be margin for the textNode(vr-span)\n    paddingToMargin() {\n        // only if element has text\n        if (this.domElement.textContent.trim()) {\n            //const left = this.domElement.parentElement.element.style.paddingLeft;\n            const right = this.domElement.parentElement.element.style.paddingRight;\n            //const top = this.domElement.parentElement.element.style.paddingTop;\n            //const bottom = this.domElement.parentElement.element.style.paddingBottom;\n\n            /*if (parseFloat(left)) {\n                this.domElement.style.marginLeft = left;\n                this.domElement.parentElement.style.paddingLeft = \"0px\";\n            }*/\n            if (parseFloat(right)) {\n                this.domElement.style.marginRight = right;\n                this.domElement.parentElement.style.paddingRight = \"0px\";\n            }\n            /*if (parseFloat(top)) {\n                this.domElement.style.marginTop = top;\n                //this.domElement.parentElement.style.paddingTop = \"0px\";\n            }\n            if (parseFloat(bottom)) {\n                this.domElement.style.marginBottom = bottom;\n                //this.domElement.parentElement.style.paddingBottom = \"0px\";\n            }*/\n        }\n    }\n\n    init() {\n        // reference of the element for aframe compoment\n        this.entity.element = this;\n\n        // dont need light to affect material\n        this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n\n        //init sizes at start\n        this.entity.setAttribute(\"width\", this.position.width);\n        this.entity.setAttribute(\"height\", this.position.height);\n\n        this.initEventHandlers();\n\n        this.setupClipping();\n    }\n\n    update() {\n        const clientRect = this.domElement.getBoundingClientRect();\n\n        // its not on the screen\n        if (clientRect.width == 0 || clientRect.height == 0) {\n            this.entity.object3D.visible = false;\n            if (!this.domElement.classList.contains(\"vr-span\"))\n                this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n            return;\n        }\n\n        // for future move this in TextElement class\n        if (this.domElement.classList.contains(\"vr-span\")) {\n            // dont need interaction with the text when we always have the background as interaction\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            // so all inline text width is good, dont do this if its text inside button\n            if (this.domElement.parentElement.tagName != \"BUTTON\") {\n                clientRect.width += 8;\n                clientRect.x -= 2;\n            }\n        }\n\n        // set fixed container height if its using scrollBody, best is to move this code outside update loop for future\n        if (this.web2vr.scroll.hasScroll && this.domElement == this.web2vr.container && this.web2vr.scroll.scrollBody)\n            clientRect.height = this.web2vr.settings.scrollWindowHeight;\n        this.position.updatePosition(clientRect);\n\n        this.checkVisible();\n        if (this.visible) {\n            this.style = window.getComputedStyle(this.domElement);\n\n            // its on visible screen but its hidden by style\n            if (this.style.visibility === \"hidden\" || this.style.display === \"none\") {\n                this.entity.object3D.visible = false;\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n                this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n                // update border so we can remove it because element is hidden\n                this.updateBorder();\n                return;\n            }\n            else {\n                this.entity.object3D.visible = true;\n                // for input text because it has custom event for entity it cannot detect with this.mouseEventHandle.listeningForMouseEvents\n                // we have to check tagName and type to see if its input text, for future make this work with mouseEventHandle\n                // also add interactiveTag if its main container\n                if ((!this.domElement.classList.contains(\"vr-span\") && (this.mouseEventHandle.listeningForMouseEvents || (this.domElement.tagName == \"INPUT\" && this.domElement.type == \"text\")) || this.domElement == this.web2vr.container))\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n\n            // if there is transform then width and height will be set with the transform matrix scale\n            // using needsStartingTransformSize so width and height are never 0 when doing transform scale\n            if (this.style.transform == \"none\" || this.needsStartingTransformSize) {\n                this.entity.setAttribute(\"width\", this.position.width);\n                this.entity.setAttribute(\"height\", this.position.height);\n            }\n\n            this.checkAnimation();\n\n            const opacity = this.style.opacity;\n            this.entity.setAttribute(\"opacity\", opacity);\n\n            this.specificUpdate();\n            this.updateTransform();\n            this.updateClipping();\n        }\n        this.updateBorder();\n    }\n\n    updateTransform() {\n\n        let transform = this.style.transform;\n        if (transform == \"none\")\n            transform = this.parentTransform;\n        else {\n            // give transform to all descendents\n            for (const element of this.domElement.querySelectorAll('*')) {\n                if (element.element)\n                    element.element.parentTransform = transform;\n            }\n        }\n\n        if (transform != \"none\") {\n            this.needsStartingTransformSize = false;\n            const matrixType = transform.split('(')[0];\n            // get matrix values in float\n            let values = transform.split('(')[1];\n            values = values.split(')')[0];\n            values = values.split(',');\n            values = values.map(v => parseFloat(v));\n            let matrix = null;\n\n            if (matrixType == \"matrix\") {\n                // transform to matrix4x4 and invert skewX to match three.js\n                matrix = new THREE.Matrix4().fromArray([values[0], values[1], 0, 0, -values[2], values[3], 0, 0, 0, 0, 1, 0, values[4], values[5], 0, 1]);\n            }\n            else if (matrixType == \"matrix3d\") {\n                // invert skewX and skewZ? to match three.js\n                values[4] *= -1;\n                values[9] *= -1;\n                matrix = new THREE.Matrix4().fromArray(values);\n            }\n            const position = new THREE.Vector3();\n            const quaternion = new THREE.Quaternion();\n            const scale = new THREE.Vector3();\n            matrix.decompose(position, quaternion, scale);\n\n            // position\n            this.position.domPosition.x += position.x;\n            this.position.domPosition.y += position.y;\n            if (position.z != 0)\n                this.position.depth = position.z * this.position.scalingFactor + this.position.startDepth;\n\n            // rotation\n            this.entity.object3D.rotation.setFromRotationMatrix(matrix);\n\n            // calcualte scale and set it to entity\n            if (this.parentTransform == \"none\") {\n                const elements = matrix.elements;\n                const scaleX = Math.sqrt(elements[0] * elements[0] + elements[1] * elements[1]);\n                const scaleY = Math.sqrt(elements[5] * elements[5] + elements[4] * elements[4]);\n                // for radio scale is 2 times smaller because its circle, for some rason checkbox scale needs to be in half else its too big\n                if (this.domElement.tagName == \"INPUT\" && (this.domElement.type == \"radio\" || this.domElement.type == \"checkbox\"))\n                    this.entity.object3D.scale.set(scaleX / 2, scaleY / 2, 1);\n                else\n                    this.entity.object3D.scale.set(scaleX, scaleY, 1);\n            }\n        }\n        this.entity.object3D.position.set(this.position.x, this.position.y, this.position.z);\n    }\n\n    // abstract method\n    specificUpdate() {\n\n    }\n\n    updateBorder() {\n        if (this.web2vr.settings.border) {\n            // using borderTopWidth and borderTopColor because borderWidth and borderColor doesnt work in firefox\n            const borderWidth = parseFloat(this.style.borderTopWidth);\n            if ((borderWidth || this.borderWidth) && this.entity.object3D.visible) {\n                this.entity.setAttribute(\"vr-border\", `width:${borderWidth}; color:${this.style.borderTopColor};`);\n                this.entity.components[\"vr-border\"].updateBorder();\n            }\n            else if (this.entity.components[\"vr-border\"])\n                this.entity.removeAttribute(\"vr-border\");\n        }\n    }\n\n    rotateNormal(normal) {\n        const normalMatrix = new THREE.Matrix3().getNormalMatrix(this.web2vr.aframe.container.object3D.matrixWorld);\n        const output = normal.clone().applyMatrix3(normalMatrix).normalize();\n        return output;\n    }\n\n    getClippingContext() {\n        let output = null;\n\n        if (this.domElement.parentNode && this.domElement.parentNode.element && this.domElement.parentNode.element.clippingContext)\n            output = this.domElement.parentNode.element.clippingContext;\n        else {\n            if ((this.style.overflow && this.style.overflow == \"hidden\") || (this.web2vr.scroll.hasScroll && this.domElement == this.web2vr.container) || (this.web2vr.settings.forceClipping && this.domElement == this.web2vr.container)) {\n                // ignore if its svg\n                if (this.domElement.tagName != \"svg\") {\n                    let clippingContext = {};\n                    clippingContext.authority = this;\n\n                    clippingContext.bottom = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, 1, 0))); // normal up\n                    clippingContext.top = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, -1, 0))); // normal down\n                    clippingContext.left = new THREE.Plane(this.rotateNormal(new THREE.Vector3(1, 0, 0))); // normal right\n                    clippingContext.right = new THREE.Plane(this.rotateNormal(new THREE.Vector3(-1, 0, 0))); // normal left\n\n                    clippingContext.planes = [clippingContext.bottom, clippingContext.top, clippingContext.left, clippingContext.right];\n\n                    output = clippingContext;\n                }\n            }\n        }\n        return output;\n    }\n\n    setupClipping() {\n        const clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            // we are sure the renderer is loaded\n            const object3D = this.entity.object3D;\n            if (!object3D || !object3D.children || !object3D.children.length > 0 || !object3D.children[0].material) {\n                return;\n            }\n\n            const material = object3D.children[0].material;\n            material.clippingPlanes = clippingContext.planes;\n\n            //this.updateClipping();\n            setTimeout(() => { this.updateClipping(); }, 200); // if it doesnt work use this\n        }\n    }\n\n    updateClipping() {\n        // only element with authority can change the clipping planes position\n        if (!this.clippingContext || this.clippingContext.authority != this)\n            return;\n\n        const position = this.entity.object3D.position;\n\n        const bottomLocal = position.clone().add((new THREE.Vector3(0, -1, 0)).multiplyScalar(this.position.height / 2));\n        const topLocal = position.clone().add((new THREE.Vector3(0, 1, 0)).multiplyScalar(this.position.height / 2));\n        const leftLocal = position.clone().add((new THREE.Vector3(-1, 0, 0)).multiplyScalar(this.position.width / 2));\n        const rightLocal = position.clone().add((new THREE.Vector3(1, 0, 0)).multiplyScalar(this.position.width / 2));\n\n        const bottomGlobal = this.web2vr.aframe.container.object3D.localToWorld(bottomLocal.clone());\n        const topGlobal = this.web2vr.aframe.container.object3D.localToWorld(topLocal.clone());\n        const leftGlobal = this.web2vr.aframe.container.object3D.localToWorld(leftLocal.clone());\n        const rightGlobal = this.web2vr.aframe.container.object3D.localToWorld(rightLocal.clone());\n\n        this.clippingContext.bottom.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, 1, 0)), bottomGlobal).normalize();\n        this.clippingContext.top.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, -1, 0)), topGlobal).normalize();\n        this.clippingContext.left.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(1, 0, 0)), leftGlobal).normalize();\n        this.clippingContext.right.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(-1, 0, 0)), rightGlobal).normalize();\n\n        if (this.web2vr.settings.showClipping) {\n            if (!this.clippingPlaneHelpers) {\n                this.clippingPlaneHelpers = [];\n\n                for (const plane of this.clippingContext.planes) {\n                    const material = new THREE.MeshBasicMaterial({ color: 0x00e33d, side: THREE.DoubleSide });\n                    const geometry = new THREE.PlaneGeometry(200 * this.position.scalingFactor, 200 * this.position.scalingFactor); // no need same width and height as container because this is only for debugging\n                    const mesh = new THREE.Mesh(geometry, material);\n\n                    mesh.debugPlane = plane;\n                    this.clippingPlaneHelpers.push(mesh);\n\n                    const axisHelper = new THREE.AxesHelper(5);\n                    mesh.add(axisHelper);\n                }\n\n                for (const helper of this.clippingPlaneHelpers) {\n                    this.web2vr.aframe.scene.object3D.add(helper);\n                }\n            }\n            for (const mesh of this.clippingPlaneHelpers) {\n                mesh.visible = true;\n\n                const worldPos = new THREE.Vector3();\n                this.entity.object3D.getWorldPosition(worldPos);\n                const point = new THREE.Vector3();\n                mesh.debugPlane.projectPoint(worldPos, point);\n                mesh.position.set(point.x, point.y, point.z);\n\n                // clipping plane normals are inverted, we multiply by -1\n                const focalPoint = point.clone().add(mesh.debugPlane.normal.clone().multiplyScalar(-1));\n                mesh.lookAt(focalPoint);\n            }\n\n        }\n        else {\n            if (this.clippingPlaneHelpers) {\n                for (const mesh of this.clippingPlaneHelpers)\n                    mesh.visible = false;\n            }\n        }\n    }\n\n    checkVisible() {\n        if (this.clippingContext) {\n            const container = this.clippingContext.authority;\n            if (this.position.bottom.y > container.position.top.y || this.position.top.y < container.position.bottom.y) {\n                this.visible = false;\n                this.entity.object3D.visible = false;\n                // remove interactive tag\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n            else {\n                this.visible = true;\n                this.entity.object3D.visible = true;\n                // interactive tag so we can do raycasting if it has mouse events or its container background\n                if ((!this.domElement.classList.contains(\"vr-span\") && this.mouseEventHandle.listeningForMouseEvents) || this.domElement == this.web2vr.container)\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","import Element from \"./element\";\n\nexport default class ImageElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.currentSrc = null;\n        this.changed = false;\n        this.entity = document.createElement(\"a-image\");\n        this.entity.setAttribute(\"material\", \"side\", \"front\");\n        // know when image is loaded\n        this.loaded = false;\n        this.domElement.addEventListener(\"load\", () => {\n            this.loaded = true;\n            // if image changed update all after image loaded\n            if (this.changed) {\n                this.changed = false;\n                this.web2vr.update();\n            }\n        });\n    }\n    updateImage(src) {\n        const assetID = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetID);\n\n        const isGif = /\\.(gif)$/i;\n        if (isGif.test(src)) {\n            this.entity.setAttribute(\"material\", \"shader\", \"gif\");\n            this.entity.setAttribute(\"material\", \"src\", \"#\" + assetID);\n        }\n        else {\n            this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n            this.entity.setAttribute(\"src\", \"#\" + assetID);\n        }\n    }\n\n    specificUpdate() {\n        const src = this.domElement.getAttribute(\"src\");\n        if (src != this.currentSrc) {\n            if (this.currentSrc) {\n                this.loaded = false;\n                this.changed = true;\n            }\n            this.currentSrc = src;\n            this.updateImage(this.currentSrc);\n        }\n    }\n}\n\n// TODO: No need to save image copy in assets you can directly read it from the orignal","import TextElement from \"./textElement\";\n\nexport default class InputElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.active = false;\n\n        // update when there is change of value\n        this.domElement.addEventListener(\"input\", () => this.update());\n        // when clicked make it active input for the keyboard and position the keyboard relative to camera\n        this.entity.addEventListener(\"click\", () => {\n            const camera = this.web2vr.aframe.scene.camera.parent;\n            const keyboard = this.web2vr.aframe.keyboard.object3D;\n\n            keyboard.position.copy(camera.position);\n            keyboard.rotation.copy(camera.rotation);\n            keyboard.rotation.z = 0;\n            keyboard.rotation.x = THREE.Math.degToRad(-30);\n            keyboard.translateX(-0.24);\n            keyboard.translateY(-0.1);\n            keyboard.translateZ(-0.6);\n            keyboard.visible = true;\n\n            if (this.web2vr.aframe.keyboard.activeInput){\n                this.web2vr.aframe.keyboard.activeInput.element.active = false;\n                // update web2vr where activeInput is located\n                this.web2vr.aframe.keyboard.activeInput.element.web2vr.update();\n            }\n            this.active = true;\n\n            this.web2vr.aframe.keyboard.activeInput = this.domElement;\n            this.web2vr.update();\n        })\n    }\n\n    updateText() {\n        const value = this.domElement.value;\n        if (value)\n            this.textValue = value;\n        else\n            this.textValue = this.domElement.placeholder;\n    }\n    updateTextColor() {\n        const value = this.domElement.value;\n        if (value)\n            super.updateTextColor();\n        else\n            this.entity.setAttribute(\"text\", \"color\", \"#999\");\n\n        if (this.active)\n            this.entity.setAttribute(\"color\", \"#ffffcc\");\n    }\n}","import Element from \"./element\";\n\nexport default class RadioElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-circle\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.web2vr.update();\n        }).bind(this));\n    }\n\n    specificUpdate() {\n        this.entity.setAttribute(\"radius\", this.position.width / 2);\n        \n            if (this.domElement.checked)\n                this.entity.setAttribute(\"color\", \"#0075FF\");\n            else\n                this.entity.setAttribute(\"color\", \"#FFFFFF\");\n        }\n    }","import Element from \"./element\";\n\nexport default class SvgElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    svgToImage() {\n        const svgString = new XMLSerializer().serializeToString(this.domElement);\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = this.position.domPosition.width * 2;\n        canvas.height = this.position.domPosition.height * 2;\n\n        const DOMURL = self.URL || self.webkitURL || self;\n        const img = new Image();\n        const svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n        const url = DOMURL.createObjectURL(svg);\n\n        img.onload = () => {\n            if (this.domElement.style.width)\n                ctx.drawImage(img, 0, 0, canvas.width*2, canvas.height*2);\n            else\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n            DOMURL.revokeObjectURL(url);\n            this.updateImage(canvas.toDataURL());\n            canvas.remove();\n        };\n        img.src = url;\n    }\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.svgToImage();\n    }\n}","import ContainerElement from \"./containerElement\";\n\nexport default class TextElement extends ContainerElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer, false);\n\n        this.entity.setAttribute(\"text\", \"value\", \"\");\n        this.textValue = null;\n    }\n\n    setupClipping() {\n        let clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            let material = this.entity.components.text.material;\n\n            // text component uses custom shader so default three.js clipping doesnt work, needed to inject clipping shader code inside the custom shader code(RawShaderMaterial)\n            // help from https://stackoverflow.com/questions/42532545/add-clipping-to-three-shadermaterial\n            // 1.1.0 version changes: Because Aframe 1.1.0 changes text material shader to use webgl 2(glsl 3) some of the three.js ShaderChunk had to be converted to glsl 3.\n            const fragmentShader = `#version 300 es\n            precision highp float;\n            uniform bool negate;\n            uniform float alphaTest;\n            uniform float opacity;\n            uniform sampler2D map;\n            uniform vec3 color;\n            in vec2 vUV;\n            out vec4 fragColor;\n            float median(float r, float g, float b) {\n                return max(min(r, g), min(max(r, g), b));\n            }\n            #define BIG_ENOUGH 0.001\n            #define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)\n            \n            // clipping_planes_pars_fragment converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n                in vec3 vClipPosition;\n                uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];\n            #endif\n            \n            void main() {\n                // compatible with glsl 3\n                #include <clipping_planes_fragment>\n\n                vec3 sampleColor = texture(map, vUV).rgb;\n                if (negate) { sampleColor = 1.0 - sampleColor; }\n                float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;\n                float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\n                float dscale = 0.353505;\n                vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));\n                float isBigEnough = max(abs(duv.x), abs(duv.y));\n                // Do modified alpha test.\n                if (isBigEnough > BIG_ENOUGH) {\n                    float ratio = BIG_ENOUGH / isBigEnough;\n                    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);\n                }\n                // Do modified alpha test.\n                if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }\n                fragColor = vec4(color.xyz, alpha * opacity);\n            }`;\n\n            const vertexShader = `#version 300 es\n            in vec2 uv;\n            in vec3 position;\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            out vec2 vUV;\n\n            // clipping_planes_pars_vertex converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n\t            out vec3 vClipPosition;\n            #endif\n\n            void main(void) {\n                // compatible with glsl 3\n                #include <begin_vertex>\n\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                vUV = uv;\n\n                // compatible with glsl 3\n                #include <project_vertex>\n                #include <clipping_planes_vertex>\n\n            }`;\n\n            material.fragmentShader = fragmentShader;\n            material.vertexShader = vertexShader;\n            material.clipping = true;\n            material.clippingPlanes = clippingContext.planes;\n\n            this.updateClipping();\n        }\n    }\n\n    updateTextAlignment() {\n        // align css text-align to text component\n        let align = this.style.textAlign;\n        if (![\"left\", \"right\", \"center\"].includes(align))\n            align = \"left\";\n        this.entity.setAttribute(\"text\", \"align\", align);\n\n        // set text lineHeight if it has custom css lineHeight\n        const text = this.entity.components.text;\n        if (this.style.lineHeight != \"normal\" && (typeof text.currentFont != \"undefined\")) {\n            this.entity.setAttribute(\"text\", \"lineHeight\", text.currentFont.common.lineHeight + parseFloat(this.style.lineHeight));\n        }\n    }\n\n    updateTextSize() {\n        const actualFontSize = parseFloat(this.style.fontSize);\n        const width = this.position.width;\n\n        const widthInPixels = width / this.position.scalingFactor;\n        let wrapPixels = widthInPixels * 42 / actualFontSize;\n        wrapPixels *= 1.107; //1.10706774183070233\n        this.entity.setAttribute(\"text\", \"wrapPixels\", wrapPixels);\n        this.entity.setAttribute(\"text\", \"width\", width);\n    }\n\n    updateTextColor() {\n        // opacity from parent because it doesnt pass it to children\n        const opacity = this.domElement.parentElement.element.style.opacity;\n        this.entity.setAttribute(\"text\", \"opacity\", opacity);\n\n        const textColor = this.style.color;\n        this.entity.setAttribute(\"text\", \"color\", textColor);\n    }\n\n    updateText() {\n        // remove new lines and whitespaces\n        this.textValue = this.domElement.textContent.replace(/\\s{2,}/g, ' ');\n    }\n\n    specificUpdate() {\n        super.specificUpdate();\n\n        this.updateTextSize();\n        this.updateTextAlignment();\n        this.updateText();\n        this.entity.setAttribute(\"text\", \"value\", this.textValue);\n        this.updateTextColor();\n    }\n}","import Element from \"./element\";\n\nexport default class VideoElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        // normal video\n        this.entity = document.createElement(\"a-video\");\n        // 360 video\n        this.video360 = document.createElement(\"a-videosphere\");\n        this.web2vr.aframe.scene.appendChild(this.video360);\n\n        this.createClickEvent();\n\n        this.domElement.addEventListener(\"play\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.play();\n        });\n\n        this.domElement.addEventListener(\"pause\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.pause();\n        });\n    }\n\n    createClickEvent() {\n        // for normal video\n        this.domElement.addEventListener(\"click\", () => {\n            this.domElement.paused ? this.domElement.play() : this.domElement.pause();\n        });\n    }\n\n    specificUpdate() {\n        const src = this.domElement.currentSrc;\n        let id = this.domElement.id;\n\n        // if there is no video id generate new id\n        if(!id){\n            id = this.web2vr.aframe.assetManager.updateCurrentAssetIdReturn();\n            this.domElement.id = id;\n        }\n\n        if (this.domElement.hasAttribute(\"vr\")) {\n            this.video360.object3D.visible = true;\n            this.video360.classList.add(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = false;\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n\n            this.video360.setAttribute(\"src\", \"#\" + id);\n            // set video360 rotation\n            const rotation = this.domElement.getAttribute(\"vr\");\n            if (rotation)\n                this.video360.object3D.rotation.y = THREE.Math.degToRad(rotation);\n            else\n                this.video360.object3D.rotation.y = 0;\n        }\n        else {\n            this.video360.object3D.visible = false;\n            this.video360.classList.remove(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = true;\n            this.entity.classList.add(this.web2vr.settings.interactiveTag);\n\n            this.entity.setAttribute(\"src\", \"#\" + id);\n        }\n    }\n}","!function(e){var t={};function a(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,d){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)a.d(d,n,function(t){return e[t]}.bind(null,n));return d},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t,a){a(1),a(3);const d=a(4),n={mode:\"normal\"};n.template=new d,e.exports=window.AFK=n},function(e,t,a){const d=a(2);if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"a-keyboard\",{schema:{audio:{default:!1},color:{default:\"#fff\"},highlightColor:{default:\"#1a79dc\"},dismissable:{default:!0},font:{default:\"monoid\"},fontSize:{default:\"0.39\"},locale:{default:\"en\"},model:{default:\"\"},baseTexture:{default:\"\"},keyTexture:{default:\"\"},verticalAlign:{default:\"center\"}},init:function(){AFK.template.draw({...this.data,el:this.el}),this.attachEventListeners()},attachEventListeners:function(){window.addEventListener(\"keydown\",this.handleKeyboardPress),this.el.addEventListener(\"click\",this.handleKeyboardVR)},removeEventListeners:function(){window.removeEventListener(\"keydown\",this.handleKeyboardPress),this.el.removeEventListener(\"click\",this.handleKeyboardVR)},handleKeyboardPress:function(e){d(e)},handleKeyboardVR:function(e){d(e,\"vr\")},remove:function(){this.removeEventListeners()}})},function(e,t){e.exports=function(e,t){let a;const d=new Set([16,17,18,20,33,34,35,36,45,46,112,113,114,115,116,117,118,119,120,121,122,123]),n=e.key&&e.key.charCodeAt(0);let r=e.key,s=e.keyCode;if(\"vr\"===t)s=parseInt(document.querySelector(`#${e.target.id}`).getAttribute(\"key-code\")),r=document.querySelector(`#${e.target.id}`).getAttribute(\"value\");else if(d.has(e.keyCode))return;switch(s){case 9:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\t\"}}),document.dispatchEvent(a);break;case 8:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a);break;case 13:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\n\"}}),document.dispatchEvent(a);break;case 16:AFK.template.toggleActiveMode(\"shift\");break;case 18:AFK.template.toggleActiveMode(\"alt\");break;case 27:this.dismissable&&(a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a));break;case 32:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\" \"}}),document.dispatchEvent(a);break;default:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:r}}),document.dispatchEvent(a)}if(\"vr\"!==t){const t=document.querySelector(`#a-keyboard-${n}`)||document.querySelector(`#a-keyboard-${e.keyCode}`);t&&(t.dispatchEvent(new Event(\"mousedown\")),setTimeout((function(){t.dispatchEvent(new Event(\"mouseleave\"))}),80))}}},function(e,t){if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"keyboard-button\",{init:function(){const e=this.el;e.addEventListener(\"mousedown\",(function(){e.setAttribute(\"material\",\"opacity\",\"0.7\")})),e.addEventListener(\"mouseup\",()=>{e.setAttribute(\"material\",\"opacity\",this.isMouseEnter?\"0.9\":\"0\")}),e.addEventListener(\"mouseenter\",()=>{e.setAttribute(\"material\",\"opacity\",\"0.9\"),self.isMouseEnter=!0}),e.addEventListener(\"mouseleave\",()=>{e.setAttribute(\"material\",\"opacity\",\"0\"),self.isMouseEnter=!1})}})},function(e,t,a){const d=a(5);e.exports=class{constructor(){this.keyboardKeys={},this.activeMode=\"normal\"}draw(e){for(const t in e)this[t]=e[t];this.keyboardKeys=d(e.locale),this.drawKeyboard()}drawButton(e){const t=e.key,a=t.size.split(\" \")[0],d=t.size.split(\" \")[1],n=document.createElement(\"a-entity\");n.setAttribute(\"position\",e.position);const r=document.createElement(\"a-entity\");r.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d};`),this.keyTexture&&this.keyTexture.length>0?r.setAttribute(\"material\",`src: ${this.keyTexture}`):r.setAttribute(\"material\",\"color: #4a4a4a; opacity: 0.9\");const s=document.createElement(\"a-text\");s.id=`a-keyboard-${t.code}`,s.setAttribute(\"key-code\",t.code),s.setAttribute(\"value\",t.value),s.setAttribute(\"align\",\"center\"),s.setAttribute(\"baseline\",this.verticalAlign),s.setAttribute(\"position\",\"0 0 0.001\"),s.setAttribute(\"width\",this.fontSize),s.setAttribute(\"height\",this.fontSize),s.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),s.setAttribute(\"material\",`opacity: 0.0; transparent: true; color: ${this.highlightColor}`),s.setAttribute(\"color\",this.color),s.setAttribute(\"font\",this.font),s.setAttribute(\"shader\",\"msdf\"),s.setAttribute(\"negate\",\"false\"),s.setAttribute(\"keyboard-button\",!0),s.setAttribute(\"class\",\"collidable\"),n.appendChild(r),n.appendChild(s),this.el.appendChild(n)}drawKeyboard(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);if(this.keyboardKeys){const e=this.keyboardKeys[this.activeMode]||this.keyboardKeys.normal,t=document.createElement(\"a-entity\"),a=.52,d=.04*e.length+.004*(e.length-1)+.04;t.setAttribute(\"position\",`${a/2-.02} ${-d/2+.02} -0.01`),t.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),this.baseTexture&&this.baseTexture.length>0?t.setAttribute(\"material\",`src: ${this.baseTexture}`):t.setAttribute(\"material\",\"color: #4a4a4a; side: double; opacity: 0.7\"),this.el.appendChild(t);let n=0;for(let t=0;t<e.length;t++){const a=e[t];let d=0;for(let e=0;e<a.length;e++){const t=a[e],r=this.parseKeyObjects(t);if(!this.dismissable&&\"cancel\"===t.type)continue;const s=r.size.split(\" \")[0],l=r.size.split(\" \")[1];this.drawButton({key:r,position:`${d+s/2} ${n-l/2} 0`}),d+=parseFloat(s)+.004,a.length===e+1&&(n-=.044)}}}}toggleActiveMode(e){e===this.activeMode?(this.activeMode=\"normal\",this.drawKeyboard()):(this.activeMode=e,this.drawKeyboard())}parseKeyObjects(e){const t=e.type,a=e.value;switch(t){case\"delete\":return{size:\"0.04 0.04 0\",value:a,code:\"8\"};case\"enter\":return{size:\"0.04 0.084 0\",value:a,code:\"13\"};case\"shift\":return{size:\"0.084 0.04 0\",value:a,code:\"16\"};case\"alt\":return{size:\"0.084 0.04 0\",value:a,code:\"18\"};case\"space\":return{size:`${.2+.016} 0.04 0`,value:a,code:\"32\"};case\"cancel\":return{size:\"0.084 0.04 0\",value:a,code:\"24\"};case\"submit\":return{size:\"0.084 0.04 0\",value:a,code:\"06\"};default:return{size:\"0.04 0.04 0\",value:a,code:a.charCodeAt(0)}}}}},function(e,t,a){const d=a(6);e.exports=function(e){switch(e){case\"en\":default:return d}}},function(e,t){e.exports={name:\"ms-US-International\",normal:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"q\",type:\"standard\"},{value:\"w\",type:\"standard\"},{value:\"e\",type:\"standard\"},{value:\"r\",type:\"standard\"},{value:\"t\",type:\"standard\"},{value:\"y\",type:\"standard\"},{value:\"u\",type:\"standard\"},{value:\"i\",type:\"standard\"},{value:\"o\",type:\"standard\"},{value:\"p\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"a\",type:\"standard\"},{value:\"s\",type:\"standard\"},{value:\"d\",type:\"standard\"},{value:\"f\",type:\"standard\"},{value:\"g\",type:\"standard\"},{value:\"h\",type:\"standard\"},{value:\"j\",type:\"standard\"},{value:\"k\",type:\"standard\"},{value:\"l\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"z\",type:\"standard\"},{value:\"x\",type:\"standard\"},{value:\"c\",type:\"standard\"},{value:\"v\",type:\"standard\"},{value:\"b\",type:\"standard\"},{value:\"n\",type:\"standard\"},{value:\"m\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],shift:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"Q\",type:\"standard\"},{value:\"W\",type:\"standard\"},{value:\"E\",type:\"standard\"},{value:\"R\",type:\"standard\"},{value:\"T\",type:\"standard\"},{value:\"Y\",type:\"standard\"},{value:\"U\",type:\"standard\"},{value:\"I\",type:\"standard\"},{value:\"O\",type:\"standard\"},{value:\"P\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"A\",type:\"standard\"},{value:\"S\",type:\"standard\"},{value:\"D\",type:\"standard\"},{value:\"F\",type:\"standard\"},{value:\"G\",type:\"standard\"},{value:\"H\",type:\"standard\"},{value:\"J\",type:\"standard\"},{value:\"K\",type:\"standard\"},{value:\"L\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"Z\",type:\"standard\"},{value:\"X\",type:\"standard\"},{value:\"C\",type:\"standard\"},{value:\"V\",type:\"standard\"},{value:\"B\",type:\"standard\"},{value:\"N\",type:\"standard\"},{value:\"M\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],alt:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"~\",type:\"standard\"},{value:\"`\",type:\"standard\"},{value:\"|\",type:\"standard\"},{value:\"(\",type:\"standard\"},{value:\")\",type:\"standard\"},{value:\"^\",type:\"standard\"},{value:\"_\",type:\"standard\"},{value:\"-\",type:\"standard\"},{value:\"=\",type:\"standard\"},{value:\"!\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"@\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"$\",type:\"standard\"},{value:\"%\",type:\"standard\"},{value:\"*\",type:\"standard\"},{value:\"[\",type:\"standard\"},{value:\"]\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"<\",type:\"standard\"},{value:\"?\",type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\":\",type:\"standard\"},{value:\";\",type:\"standard\"},{value:\"{\",type:\"standard\"},{value:\"}\",type:\"standard\"},{value:\"/\",type:\"standard\"},{value:\"\\\\\",type:\"standard\"},{value:\">\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]]}}]);","// https://gist.github.com/stringparser/a3b0555fd915138a0ed3 edited version from DOM2AFrame\n;[Element].forEach(function (self) {\n\n  //self.prototype.eventListenerList = {}; // shared STATIC object across all instances... NOT what we want\n  self.prototype._addEventListener = self.prototype.addEventListener;\n  self.prototype.addEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    useCapture = useCapture === void 0 ? false : useCapture;\n    var node = this;\n\n    node._addEventListener(type, handle, useCapture);\n    if (!node.eventListenerList[type]) {\n      node.eventListenerList[type] = [];\n    }\n\n    node.eventListenerList[type].push({\n      type: type,\n      handle: handle,\n      useCapture: useCapture,\n      remove: function () {\n        node.removeEventListener(\n          this.type, this.handle, this.useCapture\n        );\n        return node.eventListenerList[type];\n      }\n    });\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let addedEvent = new CustomEvent(\"eventListenerAdded\", { detail: eventDetail });\n      this.dispatchEvent(addedEvent);\n    }\n  };\n\n\n  self.prototype._removeEventListener = self.prototype.removeEventListener;\n  self.prototype.removeEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    var node = this;\n    if (!node.eventListenerList[type])\n      return;\n\n    node._removeEventListener(type, handle, useCapture);\n    node.eventListenerList[type] = node.eventListenerList[type].filter(\n      function (listener) {\n        return listener && listener.handle && handle && (listener.handle.toString() !== handle.toString()); // native event listener API supports empty handles/listeners, but .toString obviously doesn't\n      }\n    )\n\n    if (node.eventListenerList[type].length === 0) {\n      delete node.eventListenerList[type];\n    }\n\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let removedEvent = new CustomEvent(\"eventListenerRemoved\", { detail: eventDetail });\n      this.dispatchEvent(removedEvent);\n    }\n  }\n});","import \"./components/scrollbar\";\nexport default class Scroll {\n    constructor(web2vr) {\n        this.web2vr = web2vr;\n\n        this.hasScroll = false;\n        this.scrollBody = false;\n        this.scrollContainer = null;\n        if (this.web2vr.settings.scroll) {\n            this.checkScrollbar();\n            if (this.hasScroll)\n                this.createScrollbar();\n        }\n    }\n\n    checkScrollbar() {\n        // entire body scroll\n        const body = document.scrollingElement;\n        // div container scroll\n        const container = this.web2vr.container;\n\n        if (body.scrollHeight > body.clientHeight) {\n            this.hasScroll = true;\n            this.scrollContainer = body;\n            this.scrollBody = true;\n        }\n        else if (container.element.style.overflow == \"scroll\") { //container.scrollHeight > container.clientHeight\n            this.hasScroll = true;\n            this.scrollContainer = container;\n        }\n    }\n\n    createScrollbar() {\n        this.scrollbar = document.createElement(\"a-entity\");\n\n        this.pointer = document.createElement(\"a-plane\");\n        this.pointer.setAttribute(\"material\", \"shader\", \"flat\");\n        this.pointer.setAttribute(\"color\", \"#C1C1C1\");\n\n        this.plane = document.createElement(\"a-plane\");\n        this.plane.setAttribute(\"material\", \"shader\", \"flat\");\n        this.plane.setAttribute(\"material\", \"side\", \"double\");\n        this.plane.classList.add(this.web2vr.settings.interactiveTag);\n        this.plane.setAttribute(\"color\", \"#F1F1F1\");\n        this.plane.setAttribute(\"width\", 1);\n        this.plane.setAttribute(\"vr-scrollbar\", \"\");\n\n        // pointers for scroll compoment\n        this.plane.web2vr = this.web2vr;\n        this.plane.pointer = this.pointer;\n        this.plane.scrollbar = this.scrollbar;\n\n        this.plane.appendChild(this.pointer);\n        this.scrollbar.appendChild(this.plane);\n        this.web2vr.aframe.container.appendChild(this.scrollbar);\n    }\n\n    update() {\n        // there is no need to show scrollbar if the main container is hidden\n        if (this.hasScroll) {\n            if (this.web2vr.container.element.style.visibility == \"visible\") {\n                this.scrollbar.object3D.visible = true;\n                this.plane.classList.add(this.web2vr.settings.interactiveTag);\n            }\n            else if (this.web2vr.container.element.style.visibility == \"hidden\") {\n                this.scrollbar.object3D.visible = false;\n                this.plane.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","export default class Settings {\n    constructor() {\n        this.scale = 600;\n        this.position = { x: 0, y: 2, z: -1 }\n        this.rotation = { x: 0, y: 0, z: 0 }\n        this.layerStep = 0.0005; // z space between the layers\n\n        this.parentSelector= null;\n        this.interactiveTag = \"vr-interactable\";\n        this.ignoreTags = [\"BR\", \"SOURCE\", \"SCRIPT\", \"AUDIO\", \"NOSCRIPT\"];\n\n        this.debug = false;\n        this.showClipping = false;\n        this.forceClipping = false;\n        this.experimental = false;\n\n        this.scroll = true;\n        this.scrollWindowHeight = 800;\n        this.createControllers = true;\n        this.raycasterFar = 5;\n        this.skybox = true;\n        this.border = true;\n    }\n}                  ","export default class Helper {\n    static isUrl(string) {\n        const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n        return regexp.test(string);\n    }\n\n    static clamp(value, min, max) {\n        return Math.min(max, Math.max(min, value));\n    }\n}","export default class MouseEventHandler {\n    constructor(element) {\n        this.element = element;\n        this.listeningForMouseEvents = false;\n        this.resync();\n        this.checkEntityEvents();\n    }\n\n    resync() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        const mouseProperties = [\"onclick\", \"onmouseenter\", \"onmouseleave\", \"onmousedown\", \"onmouseup\"];\n\n        let hasMouseEventRegistered = false;\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.domElement.eventListenerList && this.element.domElement.eventListenerList[mouseEvent]) {\n                hasMouseEventRegistered = true;\n                break;\n            }\n        }\n\n        let hasMouseProperty = false;\n        for (const mouseProperty of mouseProperties) {\n            if (this.element.domElement[mouseProperty]) {\n                hasMouseProperty = true;\n                break;\n            }\n        }\n\n        if (hasMouseEventRegistered || hasMouseProperty) {\n            if (!this.listeningForMouseEvents) {\n                this.addMouseListeners(mouseEvents);\n                this.listeningForMouseEvents = true;\n            }\n        }\n        // no event handlers or event properties registered, so we can safely remove our listeners\n        else if (this.listeningForMouseEvents) {\n            this.removeMouseListeners(mouseEvents);\n            this.listeningForMouseEvents = false;\n        }\n    }\n    mouseEventHandler(evt) {\n        const mouseEvent = new MouseEvent(evt.type, {\n            \"view\": window,\n            \"bubbles\": true,\n            \"cancelable\": true,\n            \"target\": this.element.domElement // maybe?\n        });\n        this.element.domElement.dispatchEvent(mouseEvent);\n    }\n\n    addMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.addEventListener(eventName, this.mouseEventHandler.bind(this))\n        })\n    }\n\n    removeMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.removeEventListener(eventName, this.mouseEventHandler.bind(this))\n        });\n    }\n\n    // for hover and input element\n    checkEntityEvents() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.entity.eventListenerList && this.element.entity.eventListenerList[mouseEvent]) {\n                this.listeningForMouseEvents = true;\n                break;\n            }\n        }\n    }\n}","export default class Position {\n    constructor(domPosition, depth, scale) {\n        // depth = z\n        this.depth = depth;\n        this.startDepth = depth;\n        this.scale = scale;\n        this.scrollY = 0;\n        this.updatePosition(domPosition);\n    }\n\n    updatePosition(domPosition) {\n        this.domPosition = domPosition;\n        this.aframePosition = this.calculateAFramePosition(this.domPosition);\n    }\n\n    calculateAFramePosition(domPosition) {\n        // making positions be in center because dom positions are in top left\n        const aframePosition = {\n            x: domPosition.x + domPosition.width / 2,\n            y: domPosition.y + domPosition.height / 2,\n            z: this.depth\n        };\n\n        // scaling\n        aframePosition.x *= this.scalingFactor;\n        aframePosition.y *= this.scalingFactor * -1; // * -1 to match aframe y-axis\n\n        aframePosition.width = domPosition.width * this.scalingFactor;\n        aframePosition.height = domPosition.height * this.scalingFactor;\n\n        return aframePosition;\n    }\n\n    equalsDOMPosition(domPosition) {\n        return this.domPosition.top == domPosition.top && this.domPosition.bottom == domPosition.bottom && this.domPosition.left == domPosition.left && this.domPosition.right == domPosition.right;\n    }\n\n    get scalingFactor() {\n        return 1 / this.scale;\n    }\n\n    get x() {\n        return this.aframePosition.x;\n    }\n\n    get y() {\n        return this.aframePosition.y + this.scrollY;\n    }\n\n    get z() {\n        return this.aframePosition.z;\n    }\n\n    get width() {\n        return this.aframePosition.width;\n    }\n\n    get height() {\n        return this.aframePosition.height;\n    }\n\n    // vector3\n    get xyz() {\n        return { x: this.x, y: this.y, z: this.z };\n    }\n\n    get left() {\n        return { x: this.x - this.width / 2, y: this.y, z: this.z };\n    }\n\n    get right() {\n        return { x: this.x + this.width / 2, y: this.y, z: this.z };\n    }\n\n    get top() {\n        return { x: this.x, y: this.y + this.height / 2, z: this.z };\n    }\n\n    get bottom() {\n        return { x: this.x, y: this.y - this.height / 2, z: this.z };\n    }\n\n}","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","module.exports = __WEBPACK_EXTERNAL_MODULE_aframe__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"./plugins/eventListenerListPlugin\"; // Get all event listeners for DOM elements\nimport Deepmerge from \"deepmerge\";\nimport \"aframe\";\n\n// import \"aframe-gif-shader\";\nimport \"./plugins/aframe-keyboard.min\";\nimport \"super-hands\";\nimport Settings from \"./settings\";\nimport \"./components/border\";\nimport \"./components/animate\";\nimport \"./components/grabRotateStatic\";\nimport Scroll from \"./scroll\"\nimport AframeContext from \"./aframeContext\";\nimport ContainerElement from \"./elements/containerElement\";\nimport TextElement from \"./elements/textElement\";\nimport ImageElement from \"./elements/imageElement\";\nimport VideoElement from \"./elements/videoElement\";\nimport CheckBoxElement from \"./elements/checkboxElement\";\nimport RadioElement from \"./elements/radioElement\";\nimport InputElement from \"./elements/inputElement\";\nimport ButtonElement from \"./elements/buttonElement\";\nimport SvgElement from \"./elements/svgElement\";\nimport CanvasElement from \"./elements/canvasElement\";\n\nexport default class Web2VR {\n    constructor(container, settings = {}) {\n        // main div container\n        if (container.nodeType == Node.ELEMENT_NODE)\n            this.container = container;\n        else\n            this.container = document.querySelector(container);\n\n        // deep merge settings\n        this.settings = Deepmerge(new Settings(), settings, {\n            arrayMerge: (destination, source) => {\n                return [...destination, ...source];\n            }\n        });\n\n        // aframe context\n        this.aframe = new AframeContext(this.settings);\n        // vr elements\n        this.elements = new Set();\n        // set of all the hover css selectors\n        this.hoverSelectors = new Set();\n        this.observer = null;\n        // observer parametars\n        this.observerConfig = { childList: true, subtree: true, characterData: true, attributes: true };//attributeFilter: [\"style\", \"class\", \"id\"]\n        this.updating = false;\n\n        // experimental only\n        this.html2canvasIDcounter = 0;\n    }\n\n    // find all hover css rules and add {selector}hover class to them\n    findHoverCss() {\n        try {\n            for (const styleSheet of [...document.styleSheets]) {\n                for (const rule of [...styleSheet.cssRules]) {\n                    if (rule instanceof CSSStyleRule) {\n                        const selectors = rule.selectorText.split(\",\");\n                        for (const selector of selectors) {\n                            const sel = selector.split(\":\");\n                            // is hover\n                            if (sel[1] == \"hover\") {\n                                const s = sel[0].replace(/\\s/g, '');\n                                if (s[0] == \".\")\n                                    rule.selectorText += `, ${s}hover`;\n                                else if (s[0] == \"#\")\n                                    rule.selectorText += `, .${s.substr(1)}hover`;\n                                else\n                                    rule.selectorText += `, .${s}hover`;\n                                this.hoverSelectors.add(s);\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    // add all svg needed styles to defs inside svg so we can convert svg to png with all styles applied \n    generateStyleDefs(svgDomElement) {\n        let styleDefs = \"\";\n        const sheets = document.styleSheets;\n        for (let i = 0; i < sheets.length; i++) {\n            const rules = sheets[i].cssRules;\n            for (let j = 0; j < rules.length; j++) {\n                const rule = rules[j];\n                if (rule.style) {\n                    const selectorText = rule.selectorText;\n                    const elems = svgDomElement.querySelectorAll(selectorText);\n                    if (elems.length) {\n                        styleDefs += selectorText + \" { \" + rule.style.cssText + \" }\\n\";\n                    }\n                }\n            }\n        }\n\n        const s = document.createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.innerHTML = styleDefs;\n\n        const defs = document.createElement('defs');\n        defs.appendChild(s);\n        svgDomElement.insertBefore(defs, svgDomElement.firstChild);\n    }\n\n    start() {\n        // Return a promise that will resolve when the VR elements are added / scene is loaded.\n        return new Promise((resolve, reject) => {\n            this.findHoverCss();\n\n            if (!this.aframe.scene.hasLoaded)\n                this.aframe.scene.addEventListener(\"loaded\", this.init(resolve, reject), { once: true });\n            else\n                this.init(resolve, reject);    \n        });\n    }\n\n    init(resolve, reject) {\n        this.aframe.createContainer(this);\n        this.aframe.createSky();\n        this.aframe.createControllers();\n\n        this.convertToVR();\n        // scroll feature\n        this.scroll = new Scroll(this);\n\n        this.allLoadedUpdate();\n        resolve();\n    }\n\n    // update once after all images are loaded in the dom\n    allLoadedUpdate() {\n        const interval = setInterval(() => {\n            let allLoaded = true;\n            for (const element of this.elements)\n                if (element instanceof ImageElement && !element.loaded)\n                    allLoaded = false;\n            if (allLoaded) {\n                this.update();\n                clearInterval(interval);\n            }\n        }, 100);\n    }\n\n    addElement(domElement, parentElement, layer) {\n        // ignore tag if in ignoreTags list or text element(vr-span) is already added\n        if (this.settings.ignoreTags.includes(domElement.tagName) || (domElement.classList && domElement.classList.contains(\"vr-span\")))\n            return null;\n\n        let element = null;\n        // its text node and not empty\n        if (domElement.nodeType == Node.TEXT_NODE && domElement.nodeValue.trim()) {\n            const span = document.createElement(\"span\");\n            span.classList.add(\"vr-span\");\n            span.textContent = domElement.textContent;\n\n            // dont want observer to listen changes when adding(replacing) span text into dom\n            if (this.observer)\n                this.observer.disconnect();\n            domElement.replaceWith(span);\n            if (this.observer)\n                this.observer.observe(this.container, this.observerConfig);\n\n            element = new TextElement(this, span, layer);\n        }\n        // for future convert this to switch statement\n        else if (domElement.tagName == \"VIDEO\")\n            element = new VideoElement(this, domElement, layer);\n        else if (domElement.tagName == \"IMG\")\n            element = new ImageElement(this, domElement, layer);\n        else if (domElement.tagName == \"svg\")\n            element = new SvgElement(this, domElement, layer);\n        else if (domElement.tagName == \"CANVAS\")\n            element = new CanvasElement(this, domElement, layer);\n        else if (domElement.tagName == \"BUTTON\")\n            element = new ButtonElement(this, domElement, layer);\n        else if (domElement.tagName == \"TEXTAREA\")\n            element = new InputElement(this, domElement, layer);\n        else if (domElement.tagName == \"INPUT\") {\n            const type = domElement.getAttribute(\"type\");\n            if (type == \"checkbox\")\n                element = new CheckBoxElement(this, domElement, layer);\n            else if (type == \"radio\")\n                element = new RadioElement(this, domElement, layer);\n            else if ([\"text\", \"email\", \"number\", \"password\", \"search\", \"tel\", \"url\"].includes(type))\n                element = new InputElement(this, domElement, layer);\n            else if ([\"button\", \"submit\", \"reset\"].includes(type)) {\n                element = new ButtonElement(this, domElement, layer);\n            }\n            else\n                return;\n        }\n        // any other type of element will be container\n        else if (domElement.nodeType == Node.ELEMENT_NODE) {\n            element = new ContainerElement(this, domElement, layer);\n        }\n        else\n            return;\n\n        this.elements.add(element);\n        this.aframe.container.appendChild(element.entity);\n\n        if (this.settings.debug)\n            console.log(\"Added element\", element);\n\n        // init element and add element to parent children when aframe entity is loaded(play)\n        const onLoaded = (event) => {\n            if (parentElement)\n                parentElement.childElements.add(element);\n            element.init();\n            element.update();\n        };\n        element.entity.addEventListener(\"play\", onLoaded, { once: true });\n\n        return element;\n    }\n\n    removeElement(element) {\n        // remove the element\n        this.aframe.container.removeChild(element.entity);\n        this.elements.delete(element);\n        // remove all the children of the element recursively\n        for (const child of element.childElements) {\n            this.removeElement(child);\n        }\n    }\n\n    // start at root and interate over child nodes recursively\n    addElementChildren(currentNode, parentElement = null, layer = 0) {\n        if (currentNode.tagName == \"svg\")\n            this.generateStyleDefs(currentNode);\n\n        const element = this.addElement(currentNode, parentElement, layer);\n        // not supported tags or svg element that we dont need to check its children\n        if (!element || element instanceof SvgElement)\n            return;\n\n        if (currentNode.childNodes && currentNode.childNodes.length > 0) {\n            layer++;\n            for (const child of currentNode.childNodes)\n                this.addElementChildren(child, element, layer);\n        }\n    }\n\n    convertToVR() {\n        this.addElementChildren(this.container);\n        // observer dom element changes and for newly added and deleted dom elements\n        this.observer = new MutationObserver((mutations) => {\n            for (const mutation of mutations) {\n                let emptyRemove = false;\n                for (const node of mutation.removedNodes) {\n                    // not empty textNode\n                    if (!(node.nodeType == Node.TEXT_NODE && !node.nodeValue.trim()))\n                        this.removeElement(node.element);\n                    else\n                        emptyRemove = true;\n                }\n\n                for (const node of mutation.addedNodes)\n                    this.addElementChildren(node, mutation.target.element, mutation.target.element.layer + 1);\n\n                if (!emptyRemove) {\n                    // when adding new nodes we also need to check for new loaded images\n                    if (mutation.addedNodes.length > 0)\n                        this.allLoadedUpdate();\n                    else\n                        this.update();\n                }\n            }\n        });\n        this.observer.observe(this.container, this.observerConfig);\n    }\n\n    update() {\n        // we check for updating so we dont do multiple updating at same time from the async functions\n        this.updating = true;\n        if (this.updating) {\n            // using try and catch because sometimes when element is removed it calls update after and it wont find element, the errors doesnt matter because the final result is the same\n            try {\n                for (const element of this.elements)\n                    element.update();\n            }\n            catch (err) {\n                console.error(err);\n            }\n            this.scroll.update();\n            this.updating = false;\n        }\n    }\n}"],"names":["AFRAME","Error","require","registerComponent","schema","colliderEvent","colliderEventProperty","colliderEndEvent","colliderEndEventProperty","grabStartButtons","grabEndButtons","stretchStartButtons","stretchEndButtons","dragDropStartButtons","dragDropEndButtons","interval","multiple","init","HOVER_EVENT","UNHOVER_EVENT","GRAB_EVENT","UNGRAB_EVENT","STRETCH_EVENT","UNSTRETCH_EVENT","DRAG_EVENT","UNDRAG_EVENT","DRAGOVER_EVENT","UNDRAGOVER_EVENT","DRAGDROP_EVENT","otherSuperHand","gehDragged","Set","gehClicking","hoverEls","hoverElsIntersections","prevCheckTime","state","Map","dragging","unHover","bind","unWatch","onHit","onGrabStartButton","onGrabEndButton","onStretchStartButton","onStretchEndButton","onDragDropStartButton","onDragDropEndButton","system","registerMe","update","oldData","unRegisterListeners","registerListeners","remove","unregisterMe","length","get","_unHover","tick","sorter","a","b","aDist","distance","bDist","time","data","orderChanged","sort","i","object","el","hover","evt","carried","dispatchMouseEventAll","findTarget","hand","buttonEvent","set","_this","clickables","filter","h","has","grabbed","endEvt","dispatchMouseEvent","clear","emitCancelable","promoteHoveredEl","stretched","dragged","_this2","forEach","ddEvt","dropped","on","dropTarget","processHitEl","hitEl","intersection","_this3","dist","sects","hitElIndex","indexOf","hoverNeedsUpdate","splice","push","size","detail","Array","isArray","sect","intersections","hvrevt","hoverEl","hovered","_this4","clearedEls","skipNextHover","unHovered","_this5","_unWatch","target","_this6","hoverIndex","_this7","addEventListener","_this8","Object","keys","removeEventListener","name","bubbles","cancelable","window","CustomEvent","dispatchEvent","relatedTarget","mEvt","MouseEvent","filterUsed","alsoReverse","_this9","els","evType","_this10","elIndex","eligibleEls","buttonCore","utils","extendDeep","onclick","type","CLICKED_STATE","CLICK_EVENT","UNCLICK_EVENT","clickers","start","end","defaultPrevented","startButtonOk","addState","preventDefault","handIndex","endButtonOk","removeState","inherit","console","warn","HOVERED_STATE","DRAGGED_STATE","hoverStart","dragStart","hoverEnd","dragEnd","dragDrop","dragStartBound","dragEndBound","elementMatches","selector","matches","msMatchesSelector","webkitMatchesSelector","accepts","autoUpdate","acceptEvent","rejectEvent","hoverStartBound","hoverEndBound","dragDropBound","mutateAcceptsBound","mutateAccepts","acceptableEntities","observer","MutationObserver","observerOpts","childList","subtree","prototype","slice","call","sceneEl","querySelectorAll","observe","disconnect","mutations","query","mutation","addedNodes","added","entityAcceptable","entity","_iterator","_createForOfIteratorHelper","_step","s","n","done","item","value","err","e","f","emit","physicsCore","buttonsCore","base","maxGrabbers","NaN","invert","suppressY","GRABBED_STATE","grabbers","constraints","deltaPositionIsValid","grabDistance","undefined","grabDirection","x","y","z","grabOffset","destPosition","deltaPosition","THREE","Vector3","targetPosition","physicsInit","lostGrabber","physicsUpdate","xFactor","zFactor","yFactor","q","Quaternion","v","entityPosition","grabber","copy","applyQuaternion","object3D","getWorldQuaternion","setLength","add","getWorldPosition","sub","getAttribute","setAttribute","physicsRemove","grabAvailable","Number","isFinite","physicsStart","resetGrabber","physicsEnd","objPos","grabPos","raycaster","distanceTo","direction","origin","physicsIsConstrained","hoverers","module","exports","buttonIsValid","buttonList","startButtons","endButtons","usePhysics","physicsClear","body","newConId","Math","random","toString","substr","constraintId","removeAttribute","values","c","world","removeConstraint","physicsIsGrabbing","physicsUpdateRate","STRETCHED_STATE","stretchers","scale","handPos","otherHandPos","oldDat","updateBodies","throttleTick","_updateBodies","timeDelta","currentStretch","deltaStretch","previousStretch","pow","previousPhysicsStretch","multiplyScalar","includes","stretcherIndex","childNodes","stretchBody","physicsShape","offset","shapes","halfExtents","updateConvexPolyhedronRepresentation","radius","updateBoundingSphereRadius","shapeWarned","shapeOffsets","updateBoundingRadius","registerSystem","superHands","comp","index","AssetManager","AframeContext","settings","_classCallCheck","inVR","createScene","assetManager","scene","_createClass","key","document","getElementsByTagName","createElement","appendChild","newScene","debug","createContainer","web2vr","container","classList","interactiveTag","width","parseFloat","getComputedStyle","position","rotation","parentElement","querySelector","parentSelector","createSky","skybox","sky","createControllers","getElementById","cursor","id","concat","raycasterFar","superhands","leftHand","rightHand","keyboard","visible","activeInput","code","parseInt","element","active","default","assets","updateCurrentAssetId","currentAssetId","updateCurrentAssetIdReturn","getAsset","path","getChildren","asset","createAsset","removeAsset","running","domElement","startAnimation","stopAnimation","color","plane","children","edges","EdgesGeometry","geometry","line","LineSegments","LineBasicMaterial","linewidth","borderObject","aframe","clippingContext","material","clippingPlanes","planes","needsUpdate","borderWidth","borderColor","Color","updateBorder","clone","layerStep","components","scroll","hasScroll","elements","updateClipping","obj","atan2","renderer","localClippingEnabled","scrollHeight","firstElementChild","style","height","scrollWindowHeight","scrollContainer","clientHeight","scrollY","uv","_toConsumableArray","shift","pointer","setY","pointEndY","pointStartY","play","scrollbar","setX","setZ","TextElement","ButtomElement","_TextElement","layer","_callSuper","_inherits","updateTextPadding","updateText","tagName","textValue","replace","Element","CanvasElement","_Element","imageId","updateImage","src","assetId","specificUpdate","toDataURL","CheckBoxElement","checked","Helper","ContainerElement","textOnly","arguments","log","click","expImageId","oldBackgroundImage","oldDomPosition","backgroundColor","backgroundImage","experimental","equalsDOMPosition","customId","html2canvasIDcounter","html2canvas","onclone","head","sheet","insertRule","then","canvas","isUrl","substring","lastIndexOf","updateOpacity","domPosition","alpha","split","opacity","Position","MouseEventHandler","childElements","contains","paddingToMargin","getBoundingClientRect","parentTransform","needsStartingTransformSize","initEventHandlers","initHover","mouseEventHandle","resync","checkAnimation","animationDuration","transitionDuration","tag","hoverSelectors","toLowerCase","classes","cls","_iterator2","_step2","transform","hoverTransform","_iterator3","_step3","depth","startDepth","_iterator4","_step4","textContent","trim","right","paddingRight","marginRight","setupClipping","clientRect","aframePosition","scrollBody","updatePosition","checkVisible","visibility","display","listeningForMouseEvents","updateTransform","_iterator5","_step5","matrixType","map","matrix","Matrix4","fromArray","quaternion","decompose","scalingFactor","setFromRotationMatrix","scaleX","sqrt","scaleY","border","borderTopWidth","borderTopColor","rotateNormal","normal","normalMatrix","Matrix3","getNormalMatrix","matrixWorld","output","applyMatrix3","normalize","getClippingContext","parentNode","overflow","forceClipping","authority","bottom","Plane","top","left","setTimeout","bottomLocal","topLocal","leftLocal","rightLocal","bottomGlobal","localToWorld","topGlobal","leftGlobal","rightGlobal","setFromNormalAndCoplanarPoint","showClipping","clippingPlaneHelpers","_iterator6","_step6","MeshBasicMaterial","side","DoubleSide","PlaneGeometry","mesh","Mesh","debugPlane","axisHelper","AxesHelper","_iterator7","_step7","helper","_iterator8","_step8","worldPos","point","projectPoint","focalPoint","lookAt","_iterator9","_step9","ImageElement","currentSrc","changed","loaded","assetID","isGif","test","InputElement","camera","parent","degToRad","translateX","translateY","translateZ","placeholder","updateTextColor","_get","_getPrototypeOf","RadioElement","SvgElement","svgToImage","svgString","XMLSerializer","serializeToString","ctx","getContext","DOMURL","self","URL","webkitURL","img","Image","svg","Blob","url","createObjectURL","onload","drawImage","revokeObjectURL","_ContainerElement","text","fragmentShader","vertexShader","clipping","updateTextAlignment","align","textAlign","lineHeight","currentFont","common","updateTextSize","actualFontSize","fontSize","widthInPixels","wrapPixels","textColor","VideoElement","video360","createClickEvent","hasAttribute","image","pause","paused","t","d","l","m","o","defineProperty","enumerable","r","Symbol","toStringTag","_typeof","__esModule","create","hasOwnProperty","p","mode","template","AFK","audio","highlightColor","dismissable","font","locale","model","baseTexture","keyTexture","verticalAlign","draw","_objectSpread","attachEventListeners","handleKeyboardPress","handleKeyboardVR","removeEventListeners","charCodeAt","keyCode","toggleActiveMode","Event","isMouseEnter","_class","keyboardKeys","activeMode","drawKeyboard","drawButton","firstChild","removeChild","parseKeyObjects","alt","_addEventListener","handle","useCapture","eventListenerList","node","eventDetail","addedEvent","_removeEventListener","listener","removedEvent","Scroll","checkScrollbar","createScrollbar","scrollingElement","Settings","ignoreTags","string","regexp","clamp","min","max","checkEntityEvents","mouseEvents","mouseProperties","hasMouseEventRegistered","_i","_mouseEvents","mouseEvent","hasMouseProperty","_i2","_mouseProperties","mouseProperty","addMouseListeners","removeMouseListeners","mouseEventHandler","eventName","_i3","_mouseEvents2","calculateAFramePosition","Deepmerge","ButtonElement","Web2VR","nodeType","Node","ELEMENT_NODE","arrayMerge","destination","source","observerConfig","characterData","attributes","updating","findHoverCss","_arr","styleSheets","styleSheet","_arr2","cssRules","rule","CSSStyleRule","selectors","selectorText","sel","error","generateStyleDefs","svgDomElement","styleDefs","sheets","rules","j","elems","cssText","innerHTML","defs","insertBefore","Promise","resolve","reject","hasLoaded","once","convertToVR","allLoadedUpdate","setInterval","allLoaded","clearInterval","addElement","TEXT_NODE","nodeValue","span","replaceWith","onLoaded","event","removeElement","child","addElementChildren","currentNode","emptyRemove","removedNodes"],"sourceRoot":""}