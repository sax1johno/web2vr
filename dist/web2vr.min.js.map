{"version":3,"file":"web2vr.min.js","mappings":"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","sources":["webpack://Web2VR/webpack/universalModuleDefinition","webpack://Web2VR/./aframe-super-hands-component/index.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/clickable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/drag-droppable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/draggable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/droppable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/grabbable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/hoverable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/prototypes/buttons-proto.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/prototypes/physics-grab-proto.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/stretchable.js","webpack://Web2VR/./aframe-super-hands-component/systems/super-hands-system.js","webpack://Web2VR/./src/components/animate.js","webpack://Web2VR/./src/components/border.js","webpack://Web2VR/./src/components/grabRotateStatic.js","webpack://Web2VR/./src/components/renderer.js","webpack://Web2VR/./src/components/scrollbar.js","webpack://Web2VR/./src/plugins/aframe-keyboard.min.js","webpack://Web2VR/./src/plugins/eventListenerListPlugin.js","webpack://Web2VR/../node_modules/deepmerge/dist/cjs.js","webpack://Web2VR/external umd \"aframe\"","webpack://Web2VR/webpack/bootstrap","webpack://Web2VR/webpack/runtime/compat get default export","webpack://Web2VR/webpack/runtime/define property getters","webpack://Web2VR/webpack/runtime/hasOwnProperty shorthand","webpack://Web2VR/./src/settings.js","webpack://Web2VR/./src/scroll.js","webpack://Web2VR/./src/assetManager.js","webpack://Web2VR/./src/aframeContext.js","webpack://Web2VR/./src/utils/position.js","webpack://Web2VR/./src/utils/mouseEventHandler.js","webpack://Web2VR/./src/elements/element.js","webpack://Web2VR/./src/utils/helper.js","webpack://Web2VR/./src/elements/containerElement.js","webpack://Web2VR/./src/elements/textElement.js","webpack://Web2VR/./src/elements/imageElement.js","webpack://Web2VR/./src/elements/videoElement.js","webpack://Web2VR/./src/elements/checkboxElement.js","webpack://Web2VR/./src/elements/radioElement.js","webpack://Web2VR/./src/elements/inputElement.js","webpack://Web2VR/./src/elements/buttonElement.js","webpack://Web2VR/./src/elements/svgElement.js","webpack://Web2VR/./src/elements/canvasElement.js","webpack://Web2VR/./src/web2vr.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aframe\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aframe\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Web2VR\"] = factory(require(\"aframe\"));\n\telse\n\t\troot[\"Web2VR\"] = factory(root[\"aframe\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__668__) => {\nreturn ","/* global AFRAME */\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.')\n}\n\nrequire('./systems/super-hands-system.js')\nrequire('./reaction_components/hoverable.js')\nrequire('./reaction_components/grabbable.js')\nrequire('./reaction_components/stretchable.js')\nrequire('./reaction_components/drag-droppable.js')\nrequire('./reaction_components/draggable.js')\nrequire('./reaction_components/droppable.js')\nrequire('./reaction_components/clickable.js')\n\n/**\n * Super Hands component for A-Frame.\n */\nAFRAME.registerComponent('super-hands', {\n  schema: {\n    colliderEvent: { default: 'hit' },\n    colliderEventProperty: { default: 'el' },\n    colliderEndEvent: { default: 'hitend' },\n    colliderEndEventProperty: { default: 'el' },\n    grabStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    grabEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    stretchStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    stretchEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    dragDropStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    dragDropEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    interval: { default: 0 }\n  },\n\n  /**\n   * Set if component needs multiple instancing.\n   */\n  multiple: false,\n\n  /**\n   * Called once when component is attached. Generally for initial setup.\n   */\n  init: function () {\n    // constants\n    this.HOVER_EVENT = 'hover-start'\n    this.UNHOVER_EVENT = 'hover-end'\n    this.GRAB_EVENT = 'grab-start'\n    this.UNGRAB_EVENT = 'grab-end'\n    this.STRETCH_EVENT = 'stretch-start'\n    this.UNSTRETCH_EVENT = 'stretch-end'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n    this.DRAGOVER_EVENT = 'dragover-start'\n    this.UNDRAGOVER_EVENT = 'dragover-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    // links to other systems/components\n    this.otherSuperHand = null\n\n    // state tracking - global event handlers (GEH)\n    this.gehDragged = new Set()\n    this.gehClicking = new Set()\n\n    // state tracking - reaction components\n    this.hoverEls = []\n    this.hoverElsIntersections = []\n    this.prevCheckTime = null\n    this.state = new Map()\n    this.dragging = false\n\n    this.unHover = this.unHover.bind(this)\n    this.unWatch = this.unWatch.bind(this)\n    this.onHit = this.onHit.bind(this)\n    this.onGrabStartButton = this.onGrabStartButton.bind(this)\n    this.onGrabEndButton = this.onGrabEndButton.bind(this)\n    this.onStretchStartButton = this.onStretchStartButton.bind(this)\n    this.onStretchEndButton = this.onStretchEndButton.bind(this)\n    this.onDragDropStartButton = this.onDragDropStartButton.bind(this)\n    this.onDragDropEndButton = this.onDragDropEndButton.bind(this)\n    this.system.registerMe(this)\n  },\n\n  /**\n   * Called when component is attached and when component data changes.\n   * Generally modifies the entity based on the data.\n   */\n  update: function (oldData) {\n    this.unRegisterListeners(oldData)\n    this.registerListeners()\n  },\n\n  /**\n   * Called when a component is removed (e.g., via removeAttribute).\n   * Generally undoes all modifications to the entity.\n   */\n  remove: function () {\n    this.system.unregisterMe(this)\n    this.unRegisterListeners()\n    this.hoverEls.length = 0\n    if (this.state.get(this.HOVER_EVENT)) {\n      this._unHover(this.state.get(this.HOVER_EVENT))\n    }\n    this.onGrabEndButton()\n    this.onStretchEndButton()\n    this.onDragDropEndButton()\n  },\n  tick: (function () {\n    // closer objects and objects with no distance come later in list\n    function sorter (a, b) {\n      const aDist = a.distance == null ? -1 : a.distance\n      const bDist = b.distance == null ? -1 : b.distance\n      if (aDist < bDist) {\n        return 1\n      }\n      if (bDist < aDist) {\n        return -1\n      }\n      return 0\n    }\n    return function (time) {\n      const data = this.data\n      const prevCheckTime = this.prevCheckTime\n      if (prevCheckTime && (time - prevCheckTime < data.interval)) { return }\n      this.prevCheckTime = time\n\n      let orderChanged = false\n      this.hoverElsIntersections.sort(sorter)\n      for (let i = 0; i < this.hoverElsIntersections.length; i++) {\n        if (this.hoverEls[i] !== this.hoverElsIntersections[i].object.el) {\n          orderChanged = true\n          this.hoverEls[i] = this.hoverElsIntersections[i].object.el\n        }\n      }\n      if (orderChanged) {\n        this.hover()\n      }\n    }\n  })(),\n  onGrabStartButton: function (evt) {\n    let carried = this.state.get(this.GRAB_EVENT)\n    this.dispatchMouseEventAll('mousedown', this.el)\n    this.gehClicking = new Set(this.hoverEls)\n    if (!carried) {\n      carried = this.findTarget(this.GRAB_EVENT, {\n        hand: this.el,\n        buttonEvent: evt\n      })\n      if (carried) {\n        this.state.set(this.GRAB_EVENT, carried)\n        this._unHover(carried)\n      }\n    }\n  },\n  onGrabEndButton: function (evt) {\n    const clickables = this.hoverEls.filter(h => this.gehClicking.has(h))\n    const grabbed = this.state.get(this.GRAB_EVENT)\n    const endEvt = { hand: this.el, buttonEvent: evt }\n    this.dispatchMouseEventAll('mouseup', this.el)\n    for (let i = 0; i < clickables.length; i++) {\n      this.dispatchMouseEvent(clickables[i], 'click', this.el)\n    }\n    this.gehClicking.clear()\n    // check if grabbed entity accepts ungrab event\n    if (grabbed && !this.emitCancelable(grabbed, this.UNGRAB_EVENT, endEvt)) {\n      /* push to top of stack so a drop followed by re-grab gets the same\n         target */\n      this.promoteHoveredEl(this.state.get(this.GRAB_EVENT))\n      this.state.delete(this.GRAB_EVENT)\n      this.hover()\n    }\n  },\n  onStretchStartButton: function (evt) {\n    let stretched = this.state.get(this.STRETCH_EVENT)\n    if (!stretched) {\n      stretched = this.findTarget(this.STRETCH_EVENT, {\n        hand: this.el,\n        buttonEvent: evt\n      })\n      if (stretched) {\n        this.state.set(this.STRETCH_EVENT, stretched)\n        this._unHover(stretched)\n      }\n    }\n  },\n  onStretchEndButton: function (evt) {\n    const stretched = this.state.get(this.STRETCH_EVENT)\n    const endEvt = { hand: this.el, buttonEvent: evt }\n    // check if end event accepted\n    if (stretched &&\n        !this.emitCancelable(stretched, this.UNSTRETCH_EVENT, endEvt)) {\n      this.promoteHoveredEl(stretched)\n      this.state.delete(this.STRETCH_EVENT)\n      this.hover()\n    }\n  },\n  onDragDropStartButton: function (evt) {\n    let dragged = this.state.get(this.DRAG_EVENT)\n    this.dragging = true\n    if (this.hoverEls.length) {\n      this.gehDragged = new Set(this.hoverEls)\n      this.dispatchMouseEventAll('dragstart', this.el)\n    }\n    if (!dragged) {\n      /* prefer carried so that a drag started after a grab will work\n       with carried element rather than a currently intersected drop target.\n       fall back to queue in case a drag is initiated independent\n       of a grab */\n      if (this.state.get(this.GRAB_EVENT) &&\n          !this.emitCancelable(this.state.get(this.GRAB_EVENT), this.DRAG_EVENT,\n            { hand: this.el, buttonEvent: evt })) {\n        dragged = this.state.get(this.GRAB_EVENT)\n      } else {\n        dragged = this.findTarget(this.DRAG_EVENT, {\n          hand: this.el,\n          buttonEvent: evt\n        })\n      }\n      if (dragged) {\n        this.state.set(this.DRAG_EVENT, dragged)\n        this._unHover(dragged)\n      }\n    }\n  },\n  onDragDropEndButton: function (evt) {\n    const carried = this.state.get(this.DRAG_EVENT)\n    this.dragging = false // keep _unHover() from activating another droptarget\n    this.gehDragged.forEach(carried => {\n      this.dispatchMouseEvent(carried, 'dragend', this.el)\n      // fire event both ways for all intersected targets\n      this.dispatchMouseEventAll('drop', carried, true, true)\n      this.dispatchMouseEventAll('dragleave', carried, true, true)\n    })\n    this.gehDragged.clear()\n    if (carried) {\n      const ddEvt = {\n        hand: this.el,\n        dropped: carried,\n        on: null,\n        buttonEvent: evt\n      }\n      const endEvt = { hand: this.el, buttonEvent: evt }\n      const dropTarget = this.findTarget(this.DRAGDROP_EVENT, ddEvt, true)\n      if (dropTarget) {\n        ddEvt.on = dropTarget\n        this.emitCancelable(carried, this.DRAGDROP_EVENT, ddEvt)\n        this._unHover(dropTarget)\n      }\n      // check if end event accepted\n      if (!this.emitCancelable(carried, this.UNDRAG_EVENT, endEvt)) {\n        this.promoteHoveredEl(carried)\n        this.state.delete(this.DRAG_EVENT)\n        this.hover()\n      }\n    }\n  },\n  processHitEl: function (hitEl, intersection) {\n    const dist = intersection && intersection.distance\n    const sects = this.hoverElsIntersections\n    const hoverEls = this.hoverEls\n    const hitElIndex = this.hoverEls.indexOf(hitEl)\n    let hoverNeedsUpdate = false\n    if (hitElIndex === -1) {\n      hoverNeedsUpdate = true\n      // insert in order of distance when available\n      if (dist != null) {\n        let i = 0\n        while (i < sects.length && dist < sects[i].distance) { i++ }\n        hoverEls.splice(i, 0, hitEl)\n        sects.splice(i, 0, intersection)\n      } else {\n        hoverEls.push(hitEl)\n        sects.push({ object: { el: hitEl } })\n      }\n      this.dispatchMouseEvent(hitEl, 'mouseover', this.el)\n      if (this.dragging && this.gehDragged.size) {\n        // events on targets and on dragged\n        this.gehDragged.forEach(dragged => {\n          this.dispatchMouseEventAll('dragenter', dragged, true, true)\n        })\n      }\n    }\n    return hoverNeedsUpdate\n  },\n  onHit: function (evt) {\n    const hitEl = evt.detail[this.data.colliderEventProperty]\n    let hoverNeedsUpdate = 0\n    if (!hitEl) { return }\n    if (Array.isArray(hitEl)) {\n      for (let i = 0, sect; i < hitEl.length; i++) {\n        sect = evt.detail.intersections && evt.detail.intersections[i]\n        hoverNeedsUpdate += this.processHitEl(hitEl[i], sect)\n      }\n    } else {\n      hoverNeedsUpdate += this.processHitEl(hitEl, null)\n    }\n    if (hoverNeedsUpdate) { this.hover() }\n  },\n  /* search collided entities for target to hover/dragover */\n  hover: function () {\n    let hvrevt, hoverEl\n    // end previous hover\n    if (this.state.has(this.HOVER_EVENT)) {\n      this._unHover(this.state.get(this.HOVER_EVENT), true)\n    }\n    if (this.state.has(this.DRAGOVER_EVENT)) {\n      this._unHover(this.state.get(this.DRAGOVER_EVENT), true)\n    }\n    if (this.dragging && this.state.get(this.DRAG_EVENT)) {\n      hvrevt = {\n        hand: this.el,\n        hovered: hoverEl,\n        carried: this.state.get(this.DRAG_EVENT)\n      }\n      hoverEl = this.findTarget(this.DRAGOVER_EVENT, hvrevt, true)\n      if (hoverEl) {\n        this.emitCancelable(this.state.get(this.DRAG_EVENT), this.DRAGOVER_EVENT, hvrevt)\n        this.state.set(this.DRAGOVER_EVENT, hoverEl)\n      }\n    }\n    // fallback to hover if not dragging or dragover wasn't successful\n    if (!this.state.has(this.DRAGOVER_EVENT)) {\n      hoverEl = this.findTarget(this.HOVER_EVENT, { hand: this.el }, true)\n      if (hoverEl) {\n        this.state.set(this.HOVER_EVENT, hoverEl)\n      }\n    }\n  },\n  /* called when controller moves out of collision range of entity */\n  unHover: function (evt) {\n    const clearedEls = evt.detail[this.data.colliderEndEventProperty]\n    if (clearedEls) {\n      if (Array.isArray(clearedEls)) {\n        clearedEls.forEach(el => this._unHover(el))\n      } else {\n        this._unHover(clearedEls)\n      }\n    }\n  },\n  /* inner unHover steps needed regardless of cause of unHover */\n  _unHover: function (el, skipNextHover) {\n    let unHovered = false\n    let evt\n    if (el === this.state.get(this.DRAGOVER_EVENT)) {\n      this.state.delete(this.DRAGOVER_EVENT)\n      unHovered = true\n      evt = {\n        hand: this.el,\n        hovered: el,\n        carried: this.state.get(this.DRAG_EVENT)\n      }\n      this.emitCancelable(el, this.UNDRAGOVER_EVENT, evt)\n      if (this.state.has(this.DRAG_EVENT)) {\n        this.emitCancelable(\n          this.state.get(this.DRAG_EVENT),\n          this.UNDRAGOVER_EVENT,\n          evt\n        )\n      }\n    }\n    if (el === this.state.get(this.HOVER_EVENT)) {\n      this.state.delete(this.HOVER_EVENT)\n      unHovered = true\n      this.emitCancelable(el, this.UNHOVER_EVENT, { hand: this.el })\n    }\n    // activate next target, if present\n    if (unHovered && !skipNextHover) {\n      this.hover()\n    }\n  },\n  unWatch: function (evt) {\n    const clearedEls = evt.detail[this.data.colliderEndEventProperty]\n    if (clearedEls) {\n      if (Array.isArray(clearedEls)) {\n        clearedEls.forEach(el => this._unWatch(el))\n      } else {\n        // deprecation path: sphere-collider\n        this._unWatch(clearedEls)\n      }\n    }\n  },\n  _unWatch: function (target) {\n    const hoverIndex = this.hoverEls.indexOf(target)\n    if (hoverIndex !== -1) {\n      this.hoverEls.splice(hoverIndex, 1)\n      this.hoverElsIntersections.splice(hoverIndex, 1)\n    }\n    this.gehDragged.forEach(dragged => {\n      this.dispatchMouseEvent(target, 'dragleave', dragged)\n      this.dispatchMouseEvent(dragged, 'dragleave', target)\n    })\n    this.dispatchMouseEvent(target, 'mouseout', this.el)\n  },\n  registerListeners: function () {\n    this.el.addEventListener(this.data.colliderEvent, this.onHit)\n    this.el.addEventListener(this.data.colliderEndEvent, this.unWatch)\n    this.el.addEventListener(this.data.colliderEndEvent, this.unHover)\n\n    // binding order to keep grabEnd from triggering dragover\n    // again before dragDropEnd can delete its carried state\n    this.data.grabStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onGrabStartButton)\n    })\n    this.data.stretchStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onStretchStartButton)\n    })\n    this.data.dragDropStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onDragDropStartButton)\n    })\n    this.data.dragDropEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onDragDropEndButton)\n    })\n    this.data.stretchEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onStretchEndButton)\n    })\n    this.data.grabEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onGrabEndButton)\n    })\n  },\n  unRegisterListeners: function (data) {\n    data = data || this.data\n    if (Object.keys(data).length === 0) {\n      // Empty object passed on initalization\n      return\n    }\n    this.el.removeEventListener(data.colliderEvent, this.onHit)\n    this.el.removeEventListener(data.colliderEndEvent, this.unHover)\n    this.el.removeEventListener(data.colliderEndEvent, this.unWatch)\n\n    data.grabStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onGrabStartButton)\n    })\n    data.grabEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onGrabEndButton)\n    })\n    data.stretchStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onStretchStartButton)\n    })\n    data.stretchEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onStretchEndButton)\n    })\n    data.dragDropStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onDragDropStartButton)\n    })\n    data.dragDropEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onDragDropEndButton)\n    })\n  },\n  emitCancelable: function (target, name, detail) {\n    detail = detail || {}\n    const data = { bubbles: true, cancelable: true, detail }\n    data.detail.target = data.detail.target || target\n    const evt = new window.CustomEvent(name, data)\n    return target.dispatchEvent(evt)\n  },\n  dispatchMouseEvent: function (target, name, relatedTarget) {\n    const mEvt = new window.MouseEvent(name, { relatedTarget })\n    target.dispatchEvent(mEvt)\n  },\n  dispatchMouseEventAll: function (name, relatedTarget, filterUsed, alsoReverse) {\n    let els = this.hoverEls\n    if (filterUsed) {\n      els = els\n        .filter(el => el !== this.state.get(this.GRAB_EVENT) &&\n                el !== this.state.get(this.DRAG_EVENT) &&\n                el !== this.state.get(this.STRETCH_EVENT) &&\n                !this.gehDragged.has(el))\n    }\n    if (alsoReverse) {\n      for (let i = 0; i < els.length; i++) {\n        this.dispatchMouseEvent(els[i], name, relatedTarget)\n        this.dispatchMouseEvent(relatedTarget, name, els[i])\n      }\n    } else {\n      for (let i = 0; i < els.length; i++) {\n        this.dispatchMouseEvent(els[i], name, relatedTarget)\n      }\n    }\n  },\n  findTarget: function (evType, detail, filterUsed) {\n    let elIndex\n    let eligibleEls = this.hoverEls\n    if (filterUsed) {\n      eligibleEls = eligibleEls\n        .filter(el => el !== this.state.get(this.GRAB_EVENT) &&\n                el !== this.state.get(this.DRAG_EVENT) &&\n                el !== this.state.get(this.STRETCH_EVENT))\n    }\n    for (elIndex = eligibleEls.length - 1; elIndex >= 0; elIndex--) {\n      if (!this.emitCancelable(eligibleEls[elIndex], evType, detail)) {\n        return eligibleEls[elIndex]\n      }\n    }\n    return null\n  },\n  // Helper to ensure dropping and regrabbing finds the same target for\n  // for order-sorted hoverEls (grabbing; no-op for distance-sorted (pointing)\n  promoteHoveredEl: function (el) {\n    const hoverIndex = this.hoverEls.indexOf(el)\n    if (hoverIndex !== -1 &&\n        this.hoverElsIntersections[hoverIndex].distance == null) {\n      this.hoverEls.splice(hoverIndex, 1)\n      const sect = this.hoverElsIntersections.splice(hoverIndex, 1)\n      this.hoverEls.push(el)\n      this.hoverElsIntersections.push(sect[0])\n    }\n  }\n})\n","/* global AFRAME */\nconst buttonCore = require('./prototypes/buttons-proto.js')\nAFRAME.registerComponent('clickable', AFRAME.utils.extendDeep({}, buttonCore, {\n  schema: {\n    onclick: { type: 'string' }\n  },\n  init: function () {\n    this.CLICKED_STATE = 'clicked'\n    this.CLICK_EVENT = 'grab-start'\n    this.UNCLICK_EVENT = 'grab-end'\n    this.clickers = []\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n    this.el.addEventListener(this.CLICK_EVENT, this.start)\n    this.el.addEventListener(this.UNCLICK_EVENT, this.end)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.CLICK_EVENT, this.start)\n    this.el.removeEventListener(this.UNCLICK_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) { return }\n    this.el.addState(this.CLICKED_STATE)\n    if (this.clickers.indexOf(evt.detail.hand) === -1) {\n      this.clickers.push(evt.detail.hand)\n      if (evt.preventDefault) { evt.preventDefault() }\n    }\n  },\n  end: function (evt) {\n    const handIndex = this.clickers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (handIndex !== -1) {\n      this.clickers.splice(handIndex, 1)\n    }\n    if (this.clickers.length < 1) {\n      this.el.removeState(this.CLICKED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonCore = require('./prototypes/buttons-proto.js')\n\nAFRAME.registerComponent('drag-droppable', inherit({}, buttonCore, {\n  init: function () {\n    console.warn('Warning: drag-droppable is deprecated. Use draggable and droppable components instead')\n    this.HOVERED_STATE = 'dragover'\n    this.DRAGGED_STATE = 'dragged'\n    this.HOVER_EVENT = 'dragover-start'\n    this.UNHOVER_EVENT = 'dragover-end'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    this.hoverStart = this.hoverStart.bind(this)\n    this.dragStart = this.dragStart.bind(this)\n    this.hoverEnd = this.hoverEnd.bind(this)\n    this.dragEnd = this.dragEnd.bind(this)\n    this.dragDrop = this.dragDrop.bind(this)\n\n    this.el.addEventListener(this.HOVER_EVENT, this.hoverStart)\n    this.el.addEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.hoverEnd)\n    this.el.addEventListener(this.UNDRAG_EVENT, this.dragEnd)\n    this.el.addEventListener(this.DRAGDROP_EVENT, this.dragDrop)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.hoverStart)\n    this.el.removeEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.hoverEnd)\n    this.el.removeEventListener(this.UNDRAG_EVENT, this.dragEnd)\n    this.el.removeEventListener(this.DRAGDROP_EVENT, this.dragDrop)\n  },\n  hoverStart: function (evt) {\n    this.el.addState(this.HOVERED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragStart: function (evt) {\n    if (!this.startButtonOk(evt)) { return }\n    this.el.addState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  hoverEnd: function (evt) {\n    this.el.removeState(this.HOVERED_STATE)\n  },\n  dragEnd: function (evt) {\n    if (!this.endButtonOk(evt)) { return }\n    this.el.removeState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragDrop: function (evt) {\n    if (!this.endButtonOk(evt)) { return }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonCore = require('./prototypes/buttons-proto.js')\n\nAFRAME.registerComponent('draggable', inherit({}, buttonCore, {\n  init: function () {\n    this.DRAGGED_STATE = 'dragged'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n\n    this.dragStartBound = this.dragStart.bind(this)\n    this.dragEndBound = this.dragEnd.bind(this)\n\n    this.el.addEventListener(this.DRAG_EVENT, this.dragStartBound)\n    this.el.addEventListener(this.UNDRAG_EVENT, this.dragEndBound)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.removeEventListener(this.UNDRAG_EVENT, this.dragEnd)\n  },\n  dragStart: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) { return }\n    this.el.addState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragEnd: function (evt) {\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    this.el.removeState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nfunction elementMatches (el, selector) {\n  if (el.matches) { return el.matches(selector) }\n  if (el.msMatchesSelector) { return el.msMatchesSelector(selector) }\n  if (el.webkitMatchesSelector) { return el.webkitMatchesSelector(selector) }\n}\nAFRAME.registerComponent('droppable', {\n  schema: {\n    accepts: { default: '' },\n    autoUpdate: { default: true },\n    acceptEvent: { default: '' },\n    rejectEvent: { default: '' }\n  },\n  multiple: true,\n  init: function () {\n    this.HOVERED_STATE = 'dragover'\n    this.HOVER_EVENT = 'dragover-start'\n    this.UNHOVER_EVENT = 'dragover-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    // better for Sinon spying if original method not overwritten\n    this.hoverStartBound = this.hoverStart.bind(this)\n    this.hoverEndBound = this.hoverEnd.bind(this)\n    this.dragDropBound = this.dragDrop.bind(this)\n    this.mutateAcceptsBound = this.mutateAccepts.bind(this)\n\n    this.acceptableEntities = []\n    this.observer = new window.MutationObserver(this.mutateAcceptsBound)\n    this.observerOpts = { childList: true, subtree: true }\n\n    this.el.addEventListener(this.HOVER_EVENT, this.hoverStartBound)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.hoverEndBound)\n    this.el.addEventListener(this.DRAGDROP_EVENT, this.dragDropBound)\n  },\n  update: function () {\n    if (this.data.accepts.length) {\n      this.acceptableEntities = Array.prototype.slice.call(\n        this.el.sceneEl.querySelectorAll(this.data.accepts)\n      )\n    } else {\n      this.acceptableEntities = null\n    }\n    if (this.data.autoUpdate && this.acceptableEntities != null) {\n      this.observer.observe(this.el.sceneEl, this.observerOpts)\n    } else {\n      this.observer.disconnect()\n    }\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.hoverStartBound)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.hoverEndBound)\n    this.el.removeEventListener(this.DRAGDROP_EVENT, this.dragDropBound)\n    this.observer.disconnect()\n  },\n  mutateAccepts: function (mutations) {\n    const query = this.data.accepts\n    mutations.forEach(mutation => {\n      mutation.addedNodes.forEach(added => {\n        if (elementMatches(added, query)) {\n          this.acceptableEntities.push(added)\n        }\n      })\n    })\n  },\n  entityAcceptable: function (entity) {\n    const acceptableEntities = this.acceptableEntities\n    if (acceptableEntities == null) { return true }\n    for (const item of acceptableEntities) {\n      if (item === entity) {\n        return true\n      }\n    }\n    return false\n  },\n  hoverStart: function (evt) {\n    if (evt.defaultPrevented || !this.entityAcceptable(evt.detail.carried)) {\n      return\n    }\n    this.el.addState(this.HOVERED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  hoverEnd: function (evt) {\n    if (evt.defaultPrevented) { return }\n    this.el.removeState(this.HOVERED_STATE)\n  },\n  dragDrop: function (evt) {\n    if (evt.defaultPrevented) { return }\n    const dropped = evt.detail.dropped\n    if (!this.entityAcceptable(dropped)) {\n      if (this.data.rejectEvent.length) {\n        this.el.emit(this.data.rejectEvent, { el: dropped })\n      }\n      return\n    }\n    if (this.data.acceptEvent.length) {\n      this.el.emit(this.data.acceptEvent, { el: dropped })\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n})\n","/* global AFRAME, THREE */\nconst inherit = AFRAME.utils.extendDeep\nconst physicsCore = require('./prototypes/physics-grab-proto.js')\nconst buttonsCore = require('./prototypes/buttons-proto.js')\n// new object with all core modules\nconst base = inherit({}, physicsCore, buttonsCore)\nAFRAME.registerComponent('sh-grabbable', inherit(base, {\n  schema: {\n    maxGrabbers: { type: 'int', default: NaN },\n    invert: { default: false },\n    suppressY: { default: false }\n  },\n  init: function () {\n    this.GRABBED_STATE = 'grabbed'\n    this.GRAB_EVENT = 'grab-start'\n    this.UNGRAB_EVENT = 'grab-end'\n    this.grabbed = false\n    this.grabbers = []\n    this.constraints = new Map()\n    this.deltaPositionIsValid = false\n    this.grabDistance = undefined\n    this.grabDirection = { x: 0, y: 0, z: -1 }\n    this.grabOffset = { x: 0, y: 0, z: 0 }\n    // persistent object speeds up repeat setAttribute calls\n    this.destPosition = { x: 0, y: 0, z: 0 }\n    this.deltaPosition = new THREE.Vector3()\n    this.targetPosition = new THREE.Vector3()\n    this.physicsInit()\n\n    this.el.addEventListener(this.GRAB_EVENT, e => this.start(e))\n    this.el.addEventListener(this.UNGRAB_EVENT, e => this.end(e))\n    this.el.addEventListener('mouseout', e => this.lostGrabber(e))\n  },\n  update: function () {\n    this.physicsUpdate()\n    this.xFactor = (this.data.invert) ? -1 : 1\n    this.zFactor = (this.data.invert) ? -1 : 1\n    this.yFactor = ((this.data.invert) ? -1 : 1) * !this.data.suppressY\n  },\n  tick: (function () {\n    const q = new THREE.Quaternion()\n    const v = new THREE.Vector3()\n\n    return function () {\n      let entityPosition\n      if (this.grabber) {\n        // reflect on z-axis to point in same direction as the laser\n        this.targetPosition.copy(this.grabDirection)\n        this.targetPosition\n          .applyQuaternion(this.grabber.object3D.getWorldQuaternion(q))\n          .setLength(this.grabDistance)\n          .add(this.grabber.object3D.getWorldPosition(v))\n          .add(this.grabOffset)\n        if (this.deltaPositionIsValid) {\n          // relative position changes work better with nested entities\n          this.deltaPosition.sub(this.targetPosition)\n          entityPosition = this.el.getAttribute('position')\n          this.destPosition.x =\n              entityPosition.x - this.deltaPosition.x * this.xFactor\n          this.destPosition.y =\n              entityPosition.y - this.deltaPosition.y * this.yFactor\n          this.destPosition.z =\n              entityPosition.z - this.deltaPosition.z * this.zFactor\n          this.el.setAttribute('position', this.destPosition)\n        } else {\n          this.deltaPositionIsValid = true\n        }\n        this.deltaPosition.copy(this.targetPosition)\n      }\n    }\n  })(),\n  remove: function () {\n    this.el.removeEventListener(this.GRAB_EVENT, this.start)\n    this.el.removeEventListener(this.UNGRAB_EVENT, this.end)\n    this.physicsRemove()\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) {\n      return\n    }\n    // room for more grabbers?\n    const grabAvailable = !Number.isFinite(this.data.maxGrabbers) ||\n        this.grabbers.length < this.data.maxGrabbers\n\n    if (this.grabbers.indexOf(evt.detail.hand) === -1 && grabAvailable) {\n      if (!evt.detail.hand.object3D) {\n        console.warn('sh-grabbable entities must have an object3D')\n        return\n      }\n      this.grabbers.push(evt.detail.hand)\n      // initiate physics if available, otherwise manual\n      if (!this.physicsStart(evt) && !this.grabber) {\n        this.grabber = evt.detail.hand\n        this.resetGrabber()\n      }\n      // notify super-hands that the gesture was accepted\n      if (evt.preventDefault) { evt.preventDefault() }\n      this.grabbed = true\n      this.el.addState(this.GRABBED_STATE)\n    }\n  },\n  end: function (evt) {\n    const handIndex = this.grabbers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (handIndex !== -1) {\n      this.grabbers.splice(handIndex, 1)\n      this.grabber = this.grabbers[0]\n    }\n    this.physicsEnd(evt)\n    if (!this.resetGrabber()) {\n      this.grabbed = false\n      this.el.removeState(this.GRABBED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  resetGrabber: (function () {\n    const objPos = new THREE.Vector3()\n    const grabPos = new THREE.Vector3()\n    return function () {\n      if (!this.grabber) {\n        return false\n      }\n      const raycaster = this.grabber.getAttribute('raycaster')\n      this.deltaPositionIsValid = false\n      this.grabDistance = this.el.object3D.getWorldPosition(objPos).distanceTo(this.grabber.object3D.getWorldPosition(grabPos))\n      if (raycaster) {\n        this.grabDirection = raycaster.direction\n        this.grabOffset = raycaster.origin\n      }\n      return true\n    }\n  })(),\n  lostGrabber: function (evt) {\n    const i = this.grabbers.indexOf(evt.relatedTarget)\n    // if a queued, non-physics grabber leaves the collision zone, forget it\n    if (i !== -1 && evt.relatedTarget !== this.grabber &&\n        !this.physicsIsConstrained(evt.relatedTarget)) {\n      this.grabbers.splice(i, 1)\n    }\n  }\n}))\n","/* global AFRAME */\nAFRAME.registerComponent('hoverable', {\n  init: function () {\n    this.HOVERED_STATE = 'hovered'\n    this.HOVER_EVENT = 'hover-start'\n    this.UNHOVER_EVENT = 'hover-end'\n\n    this.hoverers = []\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n\n    this.el.addEventListener(this.HOVER_EVENT, this.start)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.end)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.start)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented) { return }\n    this.el.addState(this.HOVERED_STATE)\n    if (this.hoverers.indexOf(evt.detail.hand) === -1) {\n      this.hoverers.push(evt.detail.hand)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  end: function (evt) {\n    if (evt.defaultPrevented) { return }\n    const handIndex = this.hoverers.indexOf(evt.detail.hand)\n    if (handIndex !== -1) {\n      this.hoverers.splice(handIndex, 1)\n    }\n    if (this.hoverers.length < 1) {\n      this.el.removeState(this.HOVERED_STATE)\n    }\n  }\n})\n","// common code used in customizing reaction components by button\nmodule.exports = (function () {\n  function buttonIsValid (evt, buttonList) {\n    return buttonList.length === 0 ||\n        buttonList.indexOf(evt.detail.buttonEvent.type) !== -1\n  }\n  return {\n    schema: {\n      startButtons: { default: [] },\n      endButtons: { default: [] }\n    },\n    startButtonOk: function (evt) {\n      return buttonIsValid(evt, this.data.startButtons)\n    },\n    endButtonOk: function (evt) {\n      return buttonIsValid(evt, this.data.endButtons)\n    }\n  }\n})()\n","// base code used by grabbable for physics interactions\nmodule.exports = {\n  schema: {\n    usePhysics: { default: 'ifavailable' }\n  },\n  physicsInit: function () {\n    this.constraints = new Map()\n  },\n  physicsUpdate: function () {\n    if (this.data.usePhysics === 'never' && this.constraints.size) {\n      this.physicsClear()\n    }\n  },\n  physicsRemove: function () {\n    this.physicsClear()\n  },\n  physicsStart: function (evt) {\n    // initiate physics constraint if available and not already existing\n    if (this.data.usePhysics !== 'never' && this.el.body &&\n        evt.detail.hand.body && !this.constraints.has(evt.detail.hand)) {\n      const newConId = Math.random().toString(36).substr(2, 9)\n      this.el.setAttribute('constraint__' + newConId, {\n        target: evt.detail.hand\n      })\n      this.constraints.set(evt.detail.hand, newConId)\n      return true\n    }\n    // Prevent manual grab by returning true\n    if (this.data.usePhysics === 'only') { return true }\n    return false\n  },\n  physicsEnd: function (evt) {\n    const constraintId = this.constraints.get(evt.detail.hand)\n    if (constraintId) {\n      this.el.removeAttribute('constraint__' + constraintId)\n      this.constraints.delete(evt.detail.hand)\n    }\n  },\n  physicsClear: function () {\n    if (this.el.body) {\n      for (const c of this.constraints.values()) {\n        this.el.body.world.removeConstraint(c)\n      }\n    }\n    this.constraints.clear()\n  },\n  physicsIsConstrained: function (el) {\n    return this.constraints.has(el)\n  },\n  physicsIsGrabbing () {\n    return this.constraints.size > 0\n  }\n}\n","/* global AFRAME, THREE */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonsCore = require('./prototypes/buttons-proto.js')\n// new object with all core modules\nconst base = inherit({}, buttonsCore)\nAFRAME.registerComponent('stretchable', inherit(base, {\n  schema: {\n    usePhysics: { default: 'ifavailable' },\n    invert: { default: false },\n    physicsUpdateRate: { default: 100 }\n  },\n  init: function () {\n    this.STRETCHED_STATE = 'stretched'\n    this.STRETCH_EVENT = 'stretch-start'\n    this.UNSTRETCH_EVENT = 'stretch-end'\n    this.stretched = false\n    this.stretchers = []\n\n    this.scale = new THREE.Vector3()\n    this.handPos = new THREE.Vector3()\n    this.otherHandPos = new THREE.Vector3()\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n\n    this.el.addEventListener(this.STRETCH_EVENT, this.start)\n    this.el.addEventListener(this.UNSTRETCH_EVENT, this.end)\n  },\n  update: function (oldDat) {\n    this.updateBodies = AFRAME.utils.throttleTick(\n      this._updateBodies,\n      this.data.physicsUpdateRate,\n      this\n    )\n  },\n  tick: function (time, timeDelta) {\n    if (!this.stretched) { return }\n    this.scale.copy(this.el.getAttribute('scale'))\n    this.stretchers[0].object3D.getWorldPosition(this.handPos)\n    this.stretchers[1].object3D.getWorldPosition(this.otherHandPos)\n    const currentStretch = this.handPos.distanceTo(this.otherHandPos)\n    let deltaStretch = 1\n    if (this.previousStretch !== null && currentStretch !== 0) {\n      deltaStretch = Math.pow(\n        currentStretch / this.previousStretch,\n        (this.data.invert)\n          ? -1\n          : 1\n      )\n    }\n    this.previousStretch = currentStretch\n    if (this.previousPhysicsStretch == null) {\n      // establish correct baseline even if throttled function isn't called\n      this.previousPhysicsStretch = currentStretch\n    }\n    this.scale.multiplyScalar(deltaStretch)\n    this.el.setAttribute('scale', this.scale)\n    // scale update for all nested physics bodies (throttled)\n    this.updateBodies(time, timeDelta)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.STRETCH_EVENT, this.start)\n    this.el.removeEventListener(this.UNSTRETCH_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (this.stretched || this.stretchers.includes(evt.detail.hand) ||\n        !this.startButtonOk(evt) || evt.defaultPrevented) {\n      return\n    } // already stretched or already captured this hand or wrong button\n    this.stretchers.push(evt.detail.hand)\n    if (this.stretchers.length === 2) {\n      this.stretched = true\n      this.previousStretch = null\n      this.previousPhysicsStretch = null\n      this.el.addState(this.STRETCHED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() } // gesture accepted\n  },\n  end: function (evt) {\n    const stretcherIndex = this.stretchers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (stretcherIndex !== -1) {\n      this.stretchers.splice(stretcherIndex, 1)\n      this.stretched = false\n      this.el.removeState(this.STRETCHED_STATE)\n      // override throttle to push last stretch to physics bodies\n      this._updateBodies()\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  _updateBodies: function () {\n    if (!this.el.body || this.data.usePhysics === 'never') { return }\n    const currentStretch = this.previousStretch // last visible geometry stretch\n    let deltaStretch = 1\n    if (this.previousPhysicsStretch !== null && currentStretch > 0) {\n      deltaStretch = Math.pow(\n        currentStretch / this.previousPhysicsStretch,\n        (this.data.invert)\n          ? -1\n          : 1\n      )\n    }\n    this.previousPhysicsStretch = currentStretch\n    if (deltaStretch === 1) { return }\n    for (const c of this.el.childNodes) { this.stretchBody(c, deltaStretch) }\n    this.stretchBody(this.el, deltaStretch)\n  },\n  stretchBody: function (el, deltaStretch) {\n    if (!el.body) { return }\n    let physicsShape\n    let offset\n    for (let i = 0; i < el.body.shapes.length; i++) {\n      physicsShape = el.body.shapes[i]\n      if (physicsShape.halfExtents) {\n        physicsShape.halfExtents\n          .scale(deltaStretch, physicsShape.halfExtents)\n        physicsShape.updateConvexPolyhedronRepresentation()\n      } else if (physicsShape.radius) {\n        physicsShape.radius *= deltaStretch\n        physicsShape.updateBoundingSphereRadius()\n      } else if (!this.shapeWarned) {\n        console.warn('Unable to stretch physics body: unsupported shape')\n        this.shapeWarned = true\n      }\n      // also move offset to match scale change\n      offset = el.body.shapeOffsets[i]\n      offset.scale(deltaStretch, offset)\n    }\n    el.body.updateBoundingRadius()\n  }\n}))\n","/* global AFRAME */\nAFRAME.registerSystem('super-hands', {\n  init: function () {\n    this.superHands = []\n  },\n  registerMe: function (comp) {\n    // when second hand registers, store links\n    if (this.superHands.length === 1) {\n      this.superHands[0].otherSuperHand = comp\n      comp.otherSuperHand = this.superHands[0]\n    }\n    this.superHands.push(comp)\n  },\n  unregisterMe: function (comp) {\n    const index = this.superHands.indexOf(comp)\n    if (index !== -1) {\n      this.superHands.splice(index, 1)\n    }\n    this.superHands.forEach(x => {\n      if (x.otherSuperHand === comp) { x.otherSuperHand = null }\n    })\n  }\n})\n","AFRAME.registerComponent(\"vr-animate\", {\n    init: function () {\n        this.running = false;\n        // listenes for css animation and translation\n        this.el.element.domElement.addEventListener(\"animationstart\", this.startAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"animationend\", this.stopAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"transitionstart\", this.startAnimation.bind(this));\n        this.el.element.domElement.addEventListener(\"transitionend\", this.stopAnimation.bind(this));\n    },\n    tick: function () {\n        if (this.running)\n            this.el.element.web2vr.update();\n    },\n    startAnimation: function () {\n        this.running = true;\n    },\n    stopAnimation: function () {\n        this.running = false;\n        // one final update\n        this.el.element.web2vr.update();\n    }\n});","AFRAME.registerComponent(\"vr-border\", {\n    schema: {\n        width: { type: \"number\" },\n        color: { type: \"string\" },\n    },\n    init: function () {\n        this.running = true;\n        const plane = this.el.object3D.children[0];\n        const edges = new THREE.EdgesGeometry(plane.geometry);\n        const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x000000, linewidth: this.data.width }));\n\n        this.borderObject = line;\n        this.el.element.web2vr.aframe.container.object3D.add(this.borderObject);\n\n        //maybe clippingContext inside tick?\n        if (this.el.element.clippingContext) {\n            line.material.clippingPlanes = this.el.element.clippingContext.planes;\n            line.material.needsUpdate = true;\n        }\n    },\n    update: function () {\n        // waiting for three.js(WebGL) to add lineWidth support for Windows(DirectX) browsers for now linewidth is 1 no matter what you set it.\n        // lineWidth works for other OS.\n        const borderWidth = this.data.width;\n\n        // custom element border width\n        if (this.el.element.borderWidth)\n            this.borderObject.material.linewidth = this.el.element.borderWidth;\n        else\n            this.borderObject.material.linewidth = borderWidth;\n\n        // custom element border color\n        if (this.el.element.borderColor)\n            this.borderObject.material.color = this.el.element.borderColor;\n        else\n            this.borderObject.material.color = new THREE.Color(this.data.color);\n    },\n    updateBorder: function () {\n        if (this.el.element.visible) {\n            this.running = true;\n            this.borderObject.material.visible = true;\n        }\n        else\n            this.borderObject.material.visible = false;\n    },\n    tick: function () {\n        if (this.running) {\n            const scale = this.el.object3D.scale;\n            const plane = this.el.object3D.children[0].geometry.clone();\n            plane.scale(scale.x, scale.y, scale.z);\n            const edges = new THREE.EdgesGeometry(plane);\n            const position = this.el.object3D.position;\n\n            this.borderObject.geometry = edges;\n\n            this.borderObject.position.set(position.x, position.y, position.z + this.el.element.web2vr.settings.layerStep * 2);\n            this.running = false;\n        }\n    },\n    remove: function () {\n        this.el.element.web2vr.aframe.container.object3D.remove(this.borderObject);\n    }\n});","AFRAME.registerComponent(\"vr-grab-rotate-static\", {\n    tick: function () {\n        if (this.el.components[\"sh-grabbable\"].grabbed) {\n            // update clipping when moving\n            if (this.el.web2vr.scroll.hasScroll) {\n                for (const element of this.el.web2vr.elements)\n                    element.updateClipping();\n            }\n\n            const obj = this.el.object3D;\n            const hand = this.el.components[\"sh-grabbable\"].grabbers[0].object3D;\n\n            obj.rotation.y = Math.atan2(hand.position.x - (obj.position.x + this.el.children[0].getAttribute(\"width\") / 2), hand.position.z - obj.position.z);\n\n            //obj.rotation.x = hand.rotation.x;\n            //obj.rotation.y = hand.rotation.y;\n            //obj.rotation.z = hand.rotation.z;\n        }\n    },\n});","AFRAME.registerComponent(\"vr-renderer\", {\n    init: function () {\n        this.el.sceneEl.renderer.localClippingEnabled = true;\n    }\n});","AFRAME.registerComponent(\"vr-scrollbar\", {\n    init: function () {\n        this.el.addEventListener(\"click\", (function (evt) {\n            let scrollHeight = parseFloat(this.el.web2vr.aframe.container.firstElementChild.element.style.height) - this.el.web2vr.settings.scrollWindowHeight;\n            if (this.el.web2vr.scroll.scrollContainer == this.el.web2vr.container)\n                scrollHeight = this.el.web2vr.scroll.scrollContainer.scrollHeight - this.el.web2vr.scroll.scrollContainer.clientHeight;\n\n            const scrollY = (1 - evt.detail.intersection.uv.y) * (scrollHeight) / this.el.web2vr.settings.scale;\n            const elements = [...this.el.web2vr.elements];\n            // remove first element that is the backgorund of container\n            elements.shift();\n\n            this.el.pointer.object3D.position.setY(this.pointEndY + evt.detail.intersection.uv.y * (this.pointStartY - this.pointEndY));\n\n            for (const element of elements) {\n                element.position.scrollY = scrollY;\n            }\n            this.el.web2vr.update();\n        }).bind(this));\n    },\n    play: function () {\n        const width = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"width\"));\n        const height = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"height\"));\n\n        // init plane size\n        this.el.setAttribute(\"width\", width / 20);\n        this.el.setAttribute(\"height\", height);\n\n        //init scrollbar position\n        this.el.scrollbar.object3D.position.setX(width + parseFloat(this.el.getAttribute(\"width\") / 2));\n        this.el.scrollbar.object3D.position.setY(0 - height / 2); //1.96\n        this.el.scrollbar.object3D.position.setZ(-(this.el.web2vr.settings.layerStep*4));\n\n        // init pointer position and size\n        this.el.pointer.setAttribute(\"height\", width / 20);\n        this.el.pointer.setAttribute(\"width\", width / 20);\n\n        this.pointStartY = height / 2 - parseFloat(this.el.pointer.getAttribute(\"height\")) / 2;\n        this.pointEndY = this.pointStartY - height + parseFloat(this.el.pointer.getAttribute(\"height\"));\n\n        this.el.pointer.object3D.position.setY(this.pointStartY);\n        this.el.pointer.object3D.position.setZ(this.el.web2vr.settings.layerStep*2);\n    }\n\n});","!function(e){var t={};function a(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,d){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)a.d(d,n,function(t){return e[t]}.bind(null,n));return d},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t,a){a(1),a(3);const d=a(4),n={mode:\"normal\"};n.template=new d,e.exports=window.AFK=n},function(e,t,a){const d=a(2);if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"a-keyboard\",{schema:{audio:{default:!1},color:{default:\"#fff\"},highlightColor:{default:\"#1a79dc\"},dismissable:{default:!0},font:{default:\"monoid\"},fontSize:{default:\"0.39\"},locale:{default:\"en\"},model:{default:\"\"},baseTexture:{default:\"\"},keyTexture:{default:\"\"},verticalAlign:{default:\"center\"}},init:function(){AFK.template.draw({...this.data,el:this.el}),this.attachEventListeners()},attachEventListeners:function(){window.addEventListener(\"keydown\",this.handleKeyboardPress),this.el.addEventListener(\"click\",this.handleKeyboardVR)},removeEventListeners:function(){window.removeEventListener(\"keydown\",this.handleKeyboardPress),this.el.removeEventListener(\"click\",this.handleKeyboardVR)},handleKeyboardPress:function(e){d(e)},handleKeyboardVR:function(e){d(e,\"vr\")},remove:function(){this.removeEventListeners()}})},function(e,t){e.exports=function(e,t){let a;const d=new Set([16,17,18,20,33,34,35,36,45,46,112,113,114,115,116,117,118,119,120,121,122,123]),n=e.key&&e.key.charCodeAt(0);let r=e.key,s=e.keyCode;if(\"vr\"===t)s=parseInt(document.querySelector(`#${e.target.id}`).getAttribute(\"key-code\")),r=document.querySelector(`#${e.target.id}`).getAttribute(\"value\");else if(d.has(e.keyCode))return;switch(s){case 9:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\t\"}}),document.dispatchEvent(a);break;case 8:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a);break;case 13:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\n\"}}),document.dispatchEvent(a);break;case 16:AFK.template.toggleActiveMode(\"shift\");break;case 18:AFK.template.toggleActiveMode(\"alt\");break;case 27:this.dismissable&&(a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a));break;case 32:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\" \"}}),document.dispatchEvent(a);break;default:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:r}}),document.dispatchEvent(a)}if(\"vr\"!==t){const t=document.querySelector(`#a-keyboard-${n}`)||document.querySelector(`#a-keyboard-${e.keyCode}`);t&&(t.dispatchEvent(new Event(\"mousedown\")),setTimeout((function(){t.dispatchEvent(new Event(\"mouseleave\"))}),80))}}},function(e,t){if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"keyboard-button\",{init:function(){const e=this.el;e.addEventListener(\"mousedown\",(function(){e.setAttribute(\"material\",\"opacity\",\"0.7\")})),e.addEventListener(\"mouseup\",()=>{e.setAttribute(\"material\",\"opacity\",this.isMouseEnter?\"0.9\":\"0\")}),e.addEventListener(\"mouseenter\",()=>{e.setAttribute(\"material\",\"opacity\",\"0.9\"),self.isMouseEnter=!0}),e.addEventListener(\"mouseleave\",()=>{e.setAttribute(\"material\",\"opacity\",\"0\"),self.isMouseEnter=!1})}})},function(e,t,a){const d=a(5);e.exports=class{constructor(){this.keyboardKeys={},this.activeMode=\"normal\"}draw(e){for(const t in e)this[t]=e[t];this.keyboardKeys=d(e.locale),this.drawKeyboard()}drawButton(e){const t=e.key,a=t.size.split(\" \")[0],d=t.size.split(\" \")[1],n=document.createElement(\"a-entity\");n.setAttribute(\"position\",e.position);const r=document.createElement(\"a-entity\");r.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d};`),this.keyTexture&&this.keyTexture.length>0?r.setAttribute(\"material\",`src: ${this.keyTexture}`):r.setAttribute(\"material\",\"color: #4a4a4a; opacity: 0.9\");const s=document.createElement(\"a-text\");s.id=`a-keyboard-${t.code}`,s.setAttribute(\"key-code\",t.code),s.setAttribute(\"value\",t.value),s.setAttribute(\"align\",\"center\"),s.setAttribute(\"baseline\",this.verticalAlign),s.setAttribute(\"position\",\"0 0 0.001\"),s.setAttribute(\"width\",this.fontSize),s.setAttribute(\"height\",this.fontSize),s.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),s.setAttribute(\"material\",`opacity: 0.0; transparent: true; color: ${this.highlightColor}`),s.setAttribute(\"color\",this.color),s.setAttribute(\"font\",this.font),s.setAttribute(\"shader\",\"msdf\"),s.setAttribute(\"negate\",\"false\"),s.setAttribute(\"keyboard-button\",!0),s.setAttribute(\"class\",\"collidable\"),n.appendChild(r),n.appendChild(s),this.el.appendChild(n)}drawKeyboard(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);if(this.keyboardKeys){const e=this.keyboardKeys[this.activeMode]||this.keyboardKeys.normal,t=document.createElement(\"a-entity\"),a=.52,d=.04*e.length+.004*(e.length-1)+.04;t.setAttribute(\"position\",`${a/2-.02} ${-d/2+.02} -0.01`),t.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),this.baseTexture&&this.baseTexture.length>0?t.setAttribute(\"material\",`src: ${this.baseTexture}`):t.setAttribute(\"material\",\"color: #4a4a4a; side: double; opacity: 0.7\"),this.el.appendChild(t);let n=0;for(let t=0;t<e.length;t++){const a=e[t];let d=0;for(let e=0;e<a.length;e++){const t=a[e],r=this.parseKeyObjects(t);if(!this.dismissable&&\"cancel\"===t.type)continue;const s=r.size.split(\" \")[0],l=r.size.split(\" \")[1];this.drawButton({key:r,position:`${d+s/2} ${n-l/2} 0`}),d+=parseFloat(s)+.004,a.length===e+1&&(n-=.044)}}}}toggleActiveMode(e){e===this.activeMode?(this.activeMode=\"normal\",this.drawKeyboard()):(this.activeMode=e,this.drawKeyboard())}parseKeyObjects(e){const t=e.type,a=e.value;switch(t){case\"delete\":return{size:\"0.04 0.04 0\",value:a,code:\"8\"};case\"enter\":return{size:\"0.04 0.084 0\",value:a,code:\"13\"};case\"shift\":return{size:\"0.084 0.04 0\",value:a,code:\"16\"};case\"alt\":return{size:\"0.084 0.04 0\",value:a,code:\"18\"};case\"space\":return{size:`${.2+.016} 0.04 0`,value:a,code:\"32\"};case\"cancel\":return{size:\"0.084 0.04 0\",value:a,code:\"24\"};case\"submit\":return{size:\"0.084 0.04 0\",value:a,code:\"06\"};default:return{size:\"0.04 0.04 0\",value:a,code:a.charCodeAt(0)}}}}},function(e,t,a){const d=a(6);e.exports=function(e){switch(e){case\"en\":default:return d}}},function(e,t){e.exports={name:\"ms-US-International\",normal:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"q\",type:\"standard\"},{value:\"w\",type:\"standard\"},{value:\"e\",type:\"standard\"},{value:\"r\",type:\"standard\"},{value:\"t\",type:\"standard\"},{value:\"y\",type:\"standard\"},{value:\"u\",type:\"standard\"},{value:\"i\",type:\"standard\"},{value:\"o\",type:\"standard\"},{value:\"p\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"a\",type:\"standard\"},{value:\"s\",type:\"standard\"},{value:\"d\",type:\"standard\"},{value:\"f\",type:\"standard\"},{value:\"g\",type:\"standard\"},{value:\"h\",type:\"standard\"},{value:\"j\",type:\"standard\"},{value:\"k\",type:\"standard\"},{value:\"l\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"z\",type:\"standard\"},{value:\"x\",type:\"standard\"},{value:\"c\",type:\"standard\"},{value:\"v\",type:\"standard\"},{value:\"b\",type:\"standard\"},{value:\"n\",type:\"standard\"},{value:\"m\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],shift:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"Q\",type:\"standard\"},{value:\"W\",type:\"standard\"},{value:\"E\",type:\"standard\"},{value:\"R\",type:\"standard\"},{value:\"T\",type:\"standard\"},{value:\"Y\",type:\"standard\"},{value:\"U\",type:\"standard\"},{value:\"I\",type:\"standard\"},{value:\"O\",type:\"standard\"},{value:\"P\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"A\",type:\"standard\"},{value:\"S\",type:\"standard\"},{value:\"D\",type:\"standard\"},{value:\"F\",type:\"standard\"},{value:\"G\",type:\"standard\"},{value:\"H\",type:\"standard\"},{value:\"J\",type:\"standard\"},{value:\"K\",type:\"standard\"},{value:\"L\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"Z\",type:\"standard\"},{value:\"X\",type:\"standard\"},{value:\"C\",type:\"standard\"},{value:\"V\",type:\"standard\"},{value:\"B\",type:\"standard\"},{value:\"N\",type:\"standard\"},{value:\"M\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],alt:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"~\",type:\"standard\"},{value:\"`\",type:\"standard\"},{value:\"|\",type:\"standard\"},{value:\"(\",type:\"standard\"},{value:\")\",type:\"standard\"},{value:\"^\",type:\"standard\"},{value:\"_\",type:\"standard\"},{value:\"-\",type:\"standard\"},{value:\"=\",type:\"standard\"},{value:\"!\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"@\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"$\",type:\"standard\"},{value:\"%\",type:\"standard\"},{value:\"*\",type:\"standard\"},{value:\"[\",type:\"standard\"},{value:\"]\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"<\",type:\"standard\"},{value:\"?\",type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\":\",type:\"standard\"},{value:\";\",type:\"standard\"},{value:\"{\",type:\"standard\"},{value:\"}\",type:\"standard\"},{value:\"/\",type:\"standard\"},{value:\"\\\\\",type:\"standard\"},{value:\">\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]]}}]);","// https://gist.github.com/stringparser/a3b0555fd915138a0ed3 edited version from DOM2AFrame\n;[Element].forEach(function (self) {\n\n  //self.prototype.eventListenerList = {}; // shared STATIC object across all instances... NOT what we want\n  self.prototype._addEventListener = self.prototype.addEventListener;\n  self.prototype.addEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    useCapture = useCapture === void 0 ? false : useCapture;\n    var node = this;\n\n    node._addEventListener(type, handle, useCapture);\n    if (!node.eventListenerList[type]) {\n      node.eventListenerList[type] = [];\n    }\n\n    node.eventListenerList[type].push({\n      type: type,\n      handle: handle,\n      useCapture: useCapture,\n      remove: function () {\n        node.removeEventListener(\n          this.type, this.handle, this.useCapture\n        );\n        return node.eventListenerList[type];\n      }\n    });\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let addedEvent = new CustomEvent(\"eventListenerAdded\", { detail: eventDetail });\n      this.dispatchEvent(addedEvent);\n    }\n  };\n\n\n  self.prototype._removeEventListener = self.prototype.removeEventListener;\n  self.prototype.removeEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    var node = this;\n    if (!node.eventListenerList[type])\n      return;\n\n    node._removeEventListener(type, handle, useCapture);\n    node.eventListenerList[type] = node.eventListenerList[type].filter(\n      function (listener) {\n        return listener && listener.handle && handle && (listener.handle.toString() !== handle.toString()); // native event listener API supports empty handles/listeners, but .toString obviously doesn't\n      }\n    )\n\n    if (node.eventListenerList[type].length === 0) {\n      delete node.eventListenerList[type];\n    }\n\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let removedEvent = new CustomEvent(\"eventListenerRemoved\", { detail: eventDetail });\n      this.dispatchEvent(removedEvent);\n    }\n  }\n});","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__668__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default class Settings {\n    constructor() {\n        this.scale = 600;\n        this.position = { x: 0, y: 2, z: -1 }\n        this.rotation = { x: 0, y: 0, z: 0 }\n        this.layerStep = 0.0005; // z space between the layers\n\n        this.parentSelector= null;\n        this.interactiveTag = \"vr-interactable\";\n        this.ignoreTags = [\"BR\", \"SOURCE\", \"SCRIPT\", \"AUDIO\", \"NOSCRIPT\"];\n\n        this.debug = false;\n        this.showClipping = false;\n        this.forceClipping = false;\n        this.experimental = false;\n\n        this.scroll = true;\n        this.scrollWindowHeight = 800;\n        this.createControllers = true;\n        this.raycasterFar = 5;\n        this.skybox = true;\n        this.border = true;\n    }\n}                  ","import \"./components/scrollbar\";\nexport default class Scroll {\n    constructor(web2vr) {\n        this.web2vr = web2vr;\n\n        this.hasScroll = false;\n        this.scrollBody = false;\n        this.scrollContainer = null;\n        if (this.web2vr.settings.scroll) {\n            this.checkScrollbar();\n            if (this.hasScroll)\n                this.createScrollbar();\n        }\n    }\n\n    checkScrollbar() {\n        // entire body scroll\n        const body = document.scrollingElement;\n        // div container scroll\n        const container = this.web2vr.container;\n\n        if (body.scrollHeight > body.clientHeight) {\n            this.hasScroll = true;\n            this.scrollContainer = body;\n            this.scrollBody = true;\n        }\n        else if (container.element.style.overflow == \"scroll\") { //container.scrollHeight > container.clientHeight\n            this.hasScroll = true;\n            this.scrollContainer = container;\n        }\n    }\n\n    createScrollbar() {\n        this.scrollbar = document.createElement(\"a-entity\");\n\n        this.pointer = document.createElement(\"a-plane\");\n        this.pointer.setAttribute(\"material\", \"shader\", \"flat\");\n        this.pointer.setAttribute(\"color\", \"#C1C1C1\");\n\n        this.plane = document.createElement(\"a-plane\");\n        this.plane.setAttribute(\"material\", \"shader\", \"flat\");\n        this.plane.setAttribute(\"material\", \"side\", \"double\");\n        this.plane.classList.add(this.web2vr.settings.interactiveTag);\n        this.plane.setAttribute(\"color\", \"#F1F1F1\");\n        this.plane.setAttribute(\"width\", 1);\n        this.plane.setAttribute(\"vr-scrollbar\", \"\");\n\n        // pointers for scroll compoment\n        this.plane.web2vr = this.web2vr;\n        this.plane.pointer = this.pointer;\n        this.plane.scrollbar = this.scrollbar;\n\n        this.plane.appendChild(this.pointer);\n        this.scrollbar.appendChild(this.plane);\n        this.web2vr.aframe.container.appendChild(this.scrollbar);\n    }\n\n    update() {\n        // there is no need to show scrollbar if the main container is hidden\n        if (this.hasScroll) {\n            if (this.web2vr.container.element.style.visibility == \"visible\") {\n                this.scrollbar.object3D.visible = true;\n                this.plane.classList.add(this.web2vr.settings.interactiveTag);\n            }\n            else if (this.web2vr.container.element.style.visibility == \"hidden\") {\n                this.scrollbar.object3D.visible = false;\n                this.plane.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","export default class AssetManager {\n    constructor(scene) {\n        const assets = document.getElementsByTagName(\"a-assets\")[0];\n        if (assets)\n            this.assets = assets;\n        else {\n            this.assets = document.createElement(\"a-assets\");\n            scene.appendChild(this.assets);\n        }\n    }\n\n    // update current-id attribute\n    updateCurrentAssetId() {\n        let currentAssetId = parseInt(this.assets.getAttribute(\"current-id\"));\n        if (!this.assets.getAttribute(\"current-id\")) {\n            this.assets.setAttribute(\"current-id\", 0);\n            currentAssetId = 0;\n        }\n        this.assets.setAttribute(\"current-id\", currentAssetId + 1);\n    }\n    // update current-id attribute and return it.\n    // used for elements (ex. video) outside a-assets tag\n    updateCurrentAssetIdReturn(){\n        this.updateCurrentAssetId();\n        return \"asset-\"+this.assets.getAttribute(\"current-id\");\n    }\n\n    // find asset if exists if not create and return it\n    getAsset(path, type) {\n        const assets = this.assets.getChildren();\n\n        for (const asset of assets) {\n            if (asset.getAttribute(\"src\") === path)\n                return asset.getAttribute(\"id\");\n        }\n\n        return this.createAsset(path, type);\n    }\n\n    createAsset(path, type) {\n        const asset = document.createElement(type);\n        asset.setAttribute(\"src\", path);\n        this.updateCurrentAssetId();\n        const id = \"asset-\" + this.assets.getAttribute(\"current-id\");\n        asset.setAttribute(\"id\", id);\n        // have to manualy add crossorigin for all external assets to load\n        asset.setAttribute(\"crossorigin\", \"Anonymous\");\n\n        this.assets.appendChild(asset);\n        return id;\n    }\n\n    removeAsset(id) {\n        this.assets.querySelector(\"#\" + id).remove();\n    }\n}","import AssetManager from \"./assetManager\";\nimport \"./components/renderer\";\n\nexport default class AframeContext {\n    constructor(settings) {\n        this.inVR = false;\n        // settings pointer\n        this.settings = settings;\n        this.createScene();\n        // create asset manager\n        this.assetManager = new AssetManager(this.scene);\n    }\n\n    createScene() {\n        // find scene if exists else create scene\n        const scene = document.getElementsByTagName(\"a-scene\");\n        if (scene.length > 0)\n            this.scene = scene[0];\n        else {\n            this.scene = document.createElement(\"a-scene\");\n            document.body.appendChild(this.scene);\n            this.newScene = true;\n        }\n\n        // add stats to scene if debug\n        if (this.settings.debug)\n            this.scene.setAttribute(\"stats\", \"\")\n\n        //custom renderer params like local clipping\n        this.scene.setAttribute(\"vr-renderer\", \"\");\n\n        // check if in VR\n        this.scene.addEventListener(\"enter-vr\", (() => {\n            this.inVR = true;\n        }).bind(this));\n        this.scene.addEventListener(\"exit-vr\", (() => {\n            this.inVR = false;\n        }).bind(this));\n    }\n\n    createContainer(web2vr) {\n        // conttainer for all aframe elements\n        this.container = document.createElement(\"a-entity\");\n        this.container.classList.add(\"vr-container\");\n        this.container.classList.add(this.settings.interactiveTag);\n\n        // position container\n        const width = parseFloat(window.getComputedStyle(web2vr.container).width) * (1 / this.settings.scale);\n        let x = this.settings.position.x;\n        // if x=0 then then we want to be in center for testing and showcase\n        if (x == 0)\n            x = x - width / 2;\n        this.container.object3D.position.set(x, this.settings.position.y, this.settings.position.z);\n        // update rotation from aframe(1.0.4) because there is bug(rotation x will be wrong) if you update with three.js\n        this.container.setAttribute(\"rotation\", { x: this.settings.rotation.x, y: this.settings.rotation.y, z: this.settings.rotation.z });\n\n        const parentElement = document.querySelector(this.settings.parentSelector);\n        if (parentElement)\n            parentElement.appendChild(this.container);\n        else {\n            this.container.setAttribute(\"vr-grab-rotate-static\", \"\");\n            this.container.setAttribute(\"sh-grabbable\", \"\");\n            this.container.setAttribute(\"stretchable\", \"\");\n            this.scene.appendChild(this.container);\n        }\n\n        // pointer for grabRotateStatic\n        this.container.web2vr = web2vr;\n    }\n\n    createSky() {\n        // create sky if sky doesnt exist\n        if (document.getElementsByTagName(\"a-sky\").length == 0 && this.settings.skybox) {\n            this.sky = document.createElement(\"a-sky\");\n            this.sky.setAttribute(\"color\", \"#a9f8fe\");\n            this.scene.appendChild(this.sky);\n        }\n    }\n\n    createControllers() {\n        // cursor only for dev testing on desktop\n        if (!document.getElementById(\"mouseCursor\")) {\n            const cursor = document.createElement(\"a-entity\");\n            cursor.id = \"mouseCursor\";\n            cursor.setAttribute(\"cursor\", \"rayOrigin\", \"mouse\");\n            cursor.setAttribute(\"raycaster\", `objects: .${this.settings.interactiveTag}, .collidable`);\n            this.scene.appendChild(cursor);\n        }\n\n        // super hands 6DOF\n        if (this.settings.createControllers && !document.getElementById(\"leftHand\")) {\n            const raycaster = `objects: .${this.settings.interactiveTag}, .collidable; far: ${this.settings.raycasterFar}`;\n            const superhands = \"colliderEvent: raycaster-intersection; colliderEventProperty: els; colliderEndEvent:raycaster-intersection-cleared; colliderEndEventProperty: clearedEls; grabStartButtons: gripdown; grabEndButtons: gripup; stretchStartButtons: gripdown; stretchEndButtons: gripup\";\n\n            const leftHand = document.createElement(\"a-entity\");\n            leftHand.id = \"leftHand\";\n            leftHand.setAttribute(\"hand-controls\", \"hand:left; handModelStyle: highPoly; color: #ffcccc\");\n            leftHand.setAttribute(\"laser-controls\", \"\");\n            leftHand.setAttribute(\"raycaster\", raycaster);\n            leftHand.setAttribute(\"super-hands\", superhands);\n\n            const rightHand = document.createElement(\"a-entity\");\n            rightHand.id = \"rightHand\";\n            rightHand.setAttribute(\"hand-controls\", \"hand:right; handModelStyle: highPoly; color: #ffcccc\");\n            rightHand.setAttribute(\"laser-controls\", \"\");\n            rightHand.setAttribute(\"raycaster\", raycaster);\n            rightHand.setAttribute(\"super-hands\", superhands);\n\n            this.scene.appendChild(leftHand);\n            this.scene.appendChild(rightHand);\n        }\n        // keyboard\n        this.keyboard = document.getElementById(\"vr-keyboard\");\n        if (!this.keyboard) {\n            this.keyboard = document.createElement(\"a-entity\");\n            this.keyboard.id = \"vr-keyboard\";\n            this.keyboard.setAttribute(\"a-keyboard\", \"\");\n            this.keyboard.setAttribute(\"sh-grabbable\", \"\");\n            this.scene.appendChild(this.keyboard);\n            this.keyboard.object3D.visible = false;\n\n            // current active input\n            this.keyboard.activeInput = null;\n            // event listener for the keyboard key press \n            document.addEventListener('a-keyboard-update', (e) => {\n                if (this.keyboard.activeInput) {\n                    const code = parseInt(e.detail.code);\n                    let value = this.keyboard.activeInput.value;\n\n                    // backspace\n                    if (code == 8)\n                        value = value.slice(0, -1);\n                    // submit or cancel\n                    else if (code == 6 || code == 24) {\n                        this.keyboard.object3D.visible = false;\n                        this.keyboard.object3D.position.y = 10000; // because raycasting still collides with invisible objects\n                        this.keyboard.activeInput.element.active = false;\n                        this.keyboard.activeInput.element.update();\n                        this.keyboard.activeInput = null;\n                        return;\n                    }\n                    // ignore arrow keys\n                    else if (![37, 38, 39, 40].includes(code))\n                        value += e.detail.value;\n\n                    this.keyboard.activeInput.value = value;\n                    this.keyboard.activeInput.element.update();\n                }\n            });\n        }\n    }\n}","export default class Position {\n    constructor(domPosition, depth, scale) {\n        // depth = z\n        this.depth = depth;\n        this.startDepth = depth;\n        this.scale = scale;\n        this.scrollY = 0;\n        this.updatePosition(domPosition);\n    }\n\n    updatePosition(domPosition) {\n        this.domPosition = domPosition;\n        this.aframePosition = this.calculateAFramePosition(this.domPosition);\n    }\n\n    calculateAFramePosition(domPosition) {\n        // making positions be in center because dom positions are in top left\n        const aframePosition = {\n            x: domPosition.x + domPosition.width / 2,\n            y: domPosition.y + domPosition.height / 2,\n            z: this.depth\n        };\n\n        // scaling\n        aframePosition.x *= this.scalingFactor;\n        aframePosition.y *= this.scalingFactor * -1; // * -1 to match aframe y-axis\n\n        aframePosition.width = domPosition.width * this.scalingFactor;\n        aframePosition.height = domPosition.height * this.scalingFactor;\n\n        return aframePosition;\n    }\n\n    equalsDOMPosition(domPosition) {\n        return this.domPosition.top == domPosition.top && this.domPosition.bottom == domPosition.bottom && this.domPosition.left == domPosition.left && this.domPosition.right == domPosition.right;\n    }\n\n    get scalingFactor() {\n        return 1 / this.scale;\n    }\n\n    get x() {\n        return this.aframePosition.x;\n    }\n\n    get y() {\n        return this.aframePosition.y + this.scrollY;\n    }\n\n    get z() {\n        return this.aframePosition.z;\n    }\n\n    get width() {\n        return this.aframePosition.width;\n    }\n\n    get height() {\n        return this.aframePosition.height;\n    }\n\n    // vector3\n    get xyz() {\n        return { x: this.x, y: this.y, z: this.z };\n    }\n\n    get left() {\n        return { x: this.x - this.width / 2, y: this.y, z: this.z };\n    }\n\n    get right() {\n        return { x: this.x + this.width / 2, y: this.y, z: this.z };\n    }\n\n    get top() {\n        return { x: this.x, y: this.y + this.height / 2, z: this.z };\n    }\n\n    get bottom() {\n        return { x: this.x, y: this.y - this.height / 2, z: this.z };\n    }\n\n}","export default class MouseEventHandler {\n    constructor(element) {\n        this.element = element;\n        this.listeningForMouseEvents = false;\n        this.resync();\n        this.checkEntityEvents();\n    }\n\n    resync() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        const mouseProperties = [\"onclick\", \"onmouseenter\", \"onmouseleave\", \"onmousedown\", \"onmouseup\"];\n\n        let hasMouseEventRegistered = false;\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.domElement.eventListenerList && this.element.domElement.eventListenerList[mouseEvent]) {\n                hasMouseEventRegistered = true;\n                break;\n            }\n        }\n\n        let hasMouseProperty = false;\n        for (const mouseProperty of mouseProperties) {\n            if (this.element.domElement[mouseProperty]) {\n                hasMouseProperty = true;\n                break;\n            }\n        }\n\n        if (hasMouseEventRegistered || hasMouseProperty) {\n            if (!this.listeningForMouseEvents) {\n                this.addMouseListeners(mouseEvents);\n                this.listeningForMouseEvents = true;\n            }\n        }\n        // no event handlers or event properties registered, so we can safely remove our listeners\n        else if (this.listeningForMouseEvents) {\n            this.removeMouseListeners(mouseEvents);\n            this.listeningForMouseEvents = false;\n        }\n    }\n    mouseEventHandler(evt) {\n        const mouseEvent = new MouseEvent(evt.type, {\n            \"view\": window,\n            \"bubbles\": true,\n            \"cancelable\": true,\n            \"target\": this.element.domElement // maybe?\n        });\n        this.element.domElement.dispatchEvent(mouseEvent);\n    }\n\n    addMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.addEventListener(eventName, this.mouseEventHandler.bind(this))\n        })\n    }\n\n    removeMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.removeEventListener(eventName, this.mouseEventHandler.bind(this))\n        });\n    }\n\n    // for hover and input element\n    checkEntityEvents() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.entity.eventListenerList && this.element.entity.eventListenerList[mouseEvent]) {\n                this.listeningForMouseEvents = true;\n                break;\n            }\n        }\n    }\n}","import Position from \"../utils/position\";\nimport MouseEventHandler from \"../utils/mouseEventHandler\";\n\nexport default class Element {\n    constructor(web2vr, domElement, layer) {\n        this.web2vr = web2vr;\n        this.domElement = domElement;\n        this.layer = layer;\n        this.domElement.element = this; // so we can do domeElement.parentNode.element\n        this.childElements = new Set();\n\n        this.entity = null; // aframe entity this null becasue Element class is abstract\n        this.visible = true;\n        if (this.domElement.classList.contains(\"vr-span\"))\n            this.paddingToMargin();\n        this.position = new Position(this.domElement.getBoundingClientRect(), layer * this.web2vr.settings.layerStep, web2vr.settings.scale);\n        this.style = window.getComputedStyle(this.domElement);\n        this.parentTransform = \"none\";\n        this.needsStartingTransformSize = true;\n    }\n\n    // call after entity is created in inheriting class\n    initEventHandlers() {\n        this.initHover();\n\n        // setting up MouseEventHandler\n        this.mouseEventHandle = new MouseEventHandler(this);\n\n        // dynamic listeners\n        this.domElement.addEventListener(\"eventListenerAdded\", () => this.mouseEventHandle.resync());\n        this.domElement.addEventListener(\"eventListenerRemoved\", () => this.mouseEventHandle.resync());\n    }\n\n    // add animation compoment if dom element has animation\n    checkAnimation() {\n        if (parseFloat(this.style.animationDuration) || parseFloat(this.style.transitionDuration))\n            this.entity.setAttribute(\"vr-animate\", \"\");\n        else\n            this.entity.removeAttribute(\"vr-animate\");\n    }\n\n    initHover() {\n        // find what has hover\n        let tag = null;\n        if (this.web2vr.hoverSelectors.has(this.domElement.tagName.toLowerCase()))\n            tag = this.domElement.tagName.toLowerCase();\n        let classes = [];\n        for (const cls of this.domElement.classList) {\n            if (this.web2vr.hoverSelectors.has(\".\" + cls))\n                classes.push(cls);\n        }\n        let id = null;\n        if (this.web2vr.hoverSelectors.has(\"#\" + this.domElement.id))\n            id = this.domElement.id;\n\n        // add mouseenter and mouseleave if element has hover.\n        if (tag || classes.length > 0 || id) {\n            this.entity.addEventListener(\"mouseenter\", () => {\n                if (tag)\n                    this.domElement.classList.add(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.add(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.add(id + \"hover\");\n                // this is only for hover transform. Update all elements when transform gets added\n                if (this.style.transform != \"none\") {\n                    this.web2vr.update();\n                    this.hoverTransform = true;\n                }\n\n            });\n            this.entity.addEventListener(\"mouseleave\", () => {\n                if (tag)\n                    this.domElement.classList.remove(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.remove(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.remove(id + \"hover\");\n                if (this.hoverTransform) {\n                    this.position.depth = this.position.startDepth;\n                    for (const element of this.domElement.querySelectorAll('*')) {\n                        if (element.element) {\n                            element.element.parentTransform = \"none\";\n                            element.element.position.depth = element.element.position.startDepth;\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    // getBoundingClientRect works great with margin while with padding it has problems with paddingRight that needs to be manualy calculated and set\n    // because dealing with paddingRight is problematic we can make the padding be margin for the textNode(vr-span)\n    paddingToMargin() {\n        // only if element has text\n        if (this.domElement.textContent.trim()) {\n            //const left = this.domElement.parentElement.element.style.paddingLeft;\n            const right = this.domElement.parentElement.element.style.paddingRight;\n            //const top = this.domElement.parentElement.element.style.paddingTop;\n            //const bottom = this.domElement.parentElement.element.style.paddingBottom;\n\n            /*if (parseFloat(left)) {\n                this.domElement.style.marginLeft = left;\n                this.domElement.parentElement.style.paddingLeft = \"0px\";\n            }*/\n            if (parseFloat(right)) {\n                this.domElement.style.marginRight = right;\n                this.domElement.parentElement.style.paddingRight = \"0px\";\n            }\n            /*if (parseFloat(top)) {\n                this.domElement.style.marginTop = top;\n                //this.domElement.parentElement.style.paddingTop = \"0px\";\n            }\n            if (parseFloat(bottom)) {\n                this.domElement.style.marginBottom = bottom;\n                //this.domElement.parentElement.style.paddingBottom = \"0px\";\n            }*/\n        }\n    }\n\n    init() {\n        // reference of the element for aframe compoment\n        this.entity.element = this;\n\n        // dont need light to affect material\n        this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n\n        //init sizes at start\n        this.entity.setAttribute(\"width\", this.position.width);\n        this.entity.setAttribute(\"height\", this.position.height);\n\n        this.initEventHandlers();\n\n        this.setupClipping();\n    }\n\n    update() {\n        const clientRect = this.domElement.getBoundingClientRect();\n\n        // its not on the screen\n        if (clientRect.width == 0 || clientRect.height == 0) {\n            this.entity.object3D.visible = false;\n            if (!this.domElement.classList.contains(\"vr-span\"))\n                this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n            return;\n        }\n\n        // for future move this in TextElement class\n        if (this.domElement.classList.contains(\"vr-span\")) {\n            // dont need interaction with the text when we always have the background as interaction\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            // so all inline text width is good, dont do this if its text inside button\n            if (this.domElement.parentElement.tagName != \"BUTTON\") {\n                clientRect.width += 8;\n                clientRect.x -= 2;\n            }\n        }\n\n        // set fixed container height if its using scrollBody, best is to move this code outside update loop for future\n        if (this.web2vr.scroll.hasScroll && this.domElement == this.web2vr.container && this.web2vr.scroll.scrollBody)\n            clientRect.height = this.web2vr.settings.scrollWindowHeight;\n        this.position.updatePosition(clientRect);\n\n        this.checkVisible();\n        if (this.visible) {\n            this.style = window.getComputedStyle(this.domElement);\n\n            // its on visible screen but its hidden by style\n            if (this.style.visibility === \"hidden\" || this.style.display === \"none\") {\n                this.entity.object3D.visible = false;\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n                this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n                // update border so we can remove it because element is hidden\n                this.updateBorder();\n                return;\n            }\n            else {\n                this.entity.object3D.visible = true;\n                // for input text because it has custom event for entity it cannot detect with this.mouseEventHandle.listeningForMouseEvents\n                // we have to check tagName and type to see if its input text, for future make this work with mouseEventHandle\n                // also add interactiveTag if its main container\n                if ((!this.domElement.classList.contains(\"vr-span\") && (this.mouseEventHandle.listeningForMouseEvents || (this.domElement.tagName == \"INPUT\" && this.domElement.type == \"text\")) || this.domElement == this.web2vr.container))\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n\n            // if there is transform then width and height will be set with the transform matrix scale\n            // using needsStartingTransformSize so width and height are never 0 when doing transform scale\n            if (this.style.transform == \"none\" || this.needsStartingTransformSize) {\n                this.entity.setAttribute(\"width\", this.position.width);\n                this.entity.setAttribute(\"height\", this.position.height);\n            }\n\n            this.checkAnimation();\n\n            const opacity = this.style.opacity;\n            this.entity.setAttribute(\"opacity\", opacity);\n\n            this.specificUpdate();\n            this.updateTransform();\n            this.updateClipping();\n        }\n        this.updateBorder();\n    }\n\n    updateTransform() {\n\n        let transform = this.style.transform;\n        if (transform == \"none\")\n            transform = this.parentTransform;\n        else {\n            // give transform to all descendents\n            for (const element of this.domElement.querySelectorAll('*')) {\n                if (element.element)\n                    element.element.parentTransform = transform;\n            }\n        }\n\n        if (transform != \"none\") {\n            this.needsStartingTransformSize = false;\n            const matrixType = transform.split('(')[0];\n            // get matrix values in float\n            let values = transform.split('(')[1];\n            values = values.split(')')[0];\n            values = values.split(',');\n            values = values.map(v => parseFloat(v));\n            let matrix = null;\n\n            if (matrixType == \"matrix\") {\n                // transform to matrix4x4 and invert skewX to match three.js\n                matrix = new THREE.Matrix4().fromArray([values[0], values[1], 0, 0, -values[2], values[3], 0, 0, 0, 0, 1, 0, values[4], values[5], 0, 1]);\n            }\n            else if (matrixType == \"matrix3d\") {\n                // invert skewX and skewZ? to match three.js\n                values[4] *= -1;\n                values[9] *= -1;\n                matrix = new THREE.Matrix4().fromArray(values);\n            }\n            const position = new THREE.Vector3();\n            const quaternion = new THREE.Quaternion();\n            const scale = new THREE.Vector3();\n            matrix.decompose(position, quaternion, scale);\n\n            // position\n            this.position.domPosition.x += position.x;\n            this.position.domPosition.y += position.y;\n            if (position.z != 0)\n                this.position.depth = position.z * this.position.scalingFactor + this.position.startDepth;\n\n            // rotation\n            this.entity.object3D.rotation.setFromRotationMatrix(matrix);\n\n            // calcualte scale and set it to entity\n            if (this.parentTransform == \"none\") {\n                const elements = matrix.elements;\n                const scaleX = Math.sqrt(elements[0] * elements[0] + elements[1] * elements[1]);\n                const scaleY = Math.sqrt(elements[5] * elements[5] + elements[4] * elements[4]);\n                // for radio scale is 2 times smaller because its circle, for some rason checkbox scale needs to be in half else its too big\n                if (this.domElement.tagName == \"INPUT\" && (this.domElement.type == \"radio\" || this.domElement.type == \"checkbox\"))\n                    this.entity.object3D.scale.set(scaleX / 2, scaleY / 2, 1);\n                else\n                    this.entity.object3D.scale.set(scaleX, scaleY, 1);\n            }\n        }\n        this.entity.object3D.position.set(this.position.x, this.position.y, this.position.z);\n    }\n\n    // abstract method\n    specificUpdate() {\n\n    }\n\n    updateBorder() {\n        if (this.web2vr.settings.border) {\n            // using borderTopWidth and borderTopColor because borderWidth and borderColor doesnt work in firefox\n            const borderWidth = parseFloat(this.style.borderTopWidth);\n            if ((borderWidth || this.borderWidth) && this.entity.object3D.visible) {\n                this.entity.setAttribute(\"vr-border\", `width:${borderWidth}; color:${this.style.borderTopColor};`);\n                this.entity.components[\"vr-border\"].updateBorder();\n            }\n            else if (this.entity.components[\"vr-border\"])\n                this.entity.removeAttribute(\"vr-border\");\n        }\n    }\n\n    rotateNormal(normal) {\n        const normalMatrix = new THREE.Matrix3().getNormalMatrix(this.web2vr.aframe.container.object3D.matrixWorld);\n        const output = normal.clone().applyMatrix3(normalMatrix).normalize();\n        return output;\n    }\n\n    getClippingContext() {\n        let output = null;\n\n        if (this.domElement.parentNode && this.domElement.parentNode.element && this.domElement.parentNode.element.clippingContext)\n            output = this.domElement.parentNode.element.clippingContext;\n        else {\n            if ((this.style.overflow && this.style.overflow == \"hidden\") || (this.web2vr.scroll.hasScroll && this.domElement == this.web2vr.container) || (this.web2vr.settings.forceClipping && this.domElement == this.web2vr.container)) {\n                // ignore if its svg\n                if (this.domElement.tagName != \"svg\") {\n                    let clippingContext = {};\n                    clippingContext.authority = this;\n\n                    clippingContext.bottom = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, 1, 0))); // normal up\n                    clippingContext.top = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, -1, 0))); // normal down\n                    clippingContext.left = new THREE.Plane(this.rotateNormal(new THREE.Vector3(1, 0, 0))); // normal right\n                    clippingContext.right = new THREE.Plane(this.rotateNormal(new THREE.Vector3(-1, 0, 0))); // normal left\n\n                    clippingContext.planes = [clippingContext.bottom, clippingContext.top, clippingContext.left, clippingContext.right];\n\n                    output = clippingContext;\n                }\n            }\n        }\n        return output;\n    }\n\n    setupClipping() {\n        const clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            // we are sure the renderer is loaded\n            const object3D = this.entity.object3D;\n            if (!object3D || !object3D.children || !object3D.children.length > 0 || !object3D.children[0].material) {\n                return;\n            }\n\n            const material = object3D.children[0].material;\n            material.clippingPlanes = clippingContext.planes;\n\n            //this.updateClipping();\n            setTimeout(() => { this.updateClipping(); }, 200); // if it doesnt work use this\n        }\n    }\n\n    updateClipping() {\n        // only element with authority can change the clipping planes position\n        if (!this.clippingContext || this.clippingContext.authority != this)\n            return;\n\n        const position = this.entity.object3D.position;\n\n        const bottomLocal = position.clone().add((new THREE.Vector3(0, -1, 0)).multiplyScalar(this.position.height / 2));\n        const topLocal = position.clone().add((new THREE.Vector3(0, 1, 0)).multiplyScalar(this.position.height / 2));\n        const leftLocal = position.clone().add((new THREE.Vector3(-1, 0, 0)).multiplyScalar(this.position.width / 2));\n        const rightLocal = position.clone().add((new THREE.Vector3(1, 0, 0)).multiplyScalar(this.position.width / 2));\n\n        const bottomGlobal = this.web2vr.aframe.container.object3D.localToWorld(bottomLocal.clone());\n        const topGlobal = this.web2vr.aframe.container.object3D.localToWorld(topLocal.clone());\n        const leftGlobal = this.web2vr.aframe.container.object3D.localToWorld(leftLocal.clone());\n        const rightGlobal = this.web2vr.aframe.container.object3D.localToWorld(rightLocal.clone());\n\n        this.clippingContext.bottom.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, 1, 0)), bottomGlobal).normalize();\n        this.clippingContext.top.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, -1, 0)), topGlobal).normalize();\n        this.clippingContext.left.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(1, 0, 0)), leftGlobal).normalize();\n        this.clippingContext.right.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(-1, 0, 0)), rightGlobal).normalize();\n\n        if (this.web2vr.settings.showClipping) {\n            if (!this.clippingPlaneHelpers) {\n                this.clippingPlaneHelpers = [];\n\n                for (const plane of this.clippingContext.planes) {\n                    const material = new THREE.MeshBasicMaterial({ color: 0x00e33d, side: THREE.DoubleSide });\n                    const geometry = new THREE.PlaneGeometry(200 * this.position.scalingFactor, 200 * this.position.scalingFactor); // no need same width and height as container because this is only for debugging\n                    const mesh = new THREE.Mesh(geometry, material);\n\n                    mesh.debugPlane = plane;\n                    this.clippingPlaneHelpers.push(mesh);\n\n                    const axisHelper = new THREE.AxesHelper(5);\n                    mesh.add(axisHelper);\n                }\n\n                for (const helper of this.clippingPlaneHelpers) {\n                    this.web2vr.aframe.scene.object3D.add(helper);\n                }\n            }\n            for (const mesh of this.clippingPlaneHelpers) {\n                mesh.visible = true;\n\n                const worldPos = new THREE.Vector3();\n                this.entity.object3D.getWorldPosition(worldPos);\n                const point = new THREE.Vector3();\n                mesh.debugPlane.projectPoint(worldPos, point);\n                mesh.position.set(point.x, point.y, point.z);\n\n                // clipping plane normals are inverted, we multiply by -1\n                const focalPoint = point.clone().add(mesh.debugPlane.normal.clone().multiplyScalar(-1));\n                mesh.lookAt(focalPoint);\n            }\n\n        }\n        else {\n            if (this.clippingPlaneHelpers) {\n                for (const mesh of this.clippingPlaneHelpers)\n                    mesh.visible = false;\n            }\n        }\n    }\n\n    checkVisible() {\n        if (this.clippingContext) {\n            const container = this.clippingContext.authority;\n            if (this.position.bottom.y > container.position.top.y || this.position.top.y < container.position.bottom.y) {\n                this.visible = false;\n                this.entity.object3D.visible = false;\n                // remove interactive tag\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n            else {\n                this.visible = true;\n                this.entity.object3D.visible = true;\n                // interactive tag so we can do raycasting if it has mouse events or its container background\n                if ((!this.domElement.classList.contains(\"vr-span\") && this.mouseEventHandle.listeningForMouseEvents) || this.domElement == this.web2vr.container)\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","export default class Helper {\n    static isUrl(string) {\n        const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n        return regexp.test(string);\n    }\n\n    static clamp(value, min, max) {\n        return Math.min(max, Math.max(min, value));\n    }\n}","import Element from \"./element\";\nimport Helper from \"../utils/helper\";\n\nexport default class ContainerElement extends Element {\n    constructor(web2vr, domElement, layer, textOnly = false) {\n        super(web2vr, domElement, layer);\n        this.textOnly = textOnly;\n        this.entity = document.createElement(\"a-plane\");\n\n        // if hyperlink trigger a click event\n        if (this.domElement.tagName == \"A\") {\n            this.entity.addEventListener(\"click\", () => { console.log(\"Link clicked!\", this.domElement.click()); });\n        }\n\n        if (!this.textOnly) {\n            // show back plane for the main container\n            if (this.domElement == this.web2vr.container)\n                this.entity.setAttribute(\"material\", \"side\", \"double\");\n\n            // only needed for experimental background\n            this.expImageId = null;\n            this.oldBackgroundImage = null;\n            this.oldDomPosition = null;\n        }\n    }\n\n    specificUpdate() {\n        if (!this.textOnly) {\n            const backgroundColor = this.style.backgroundColor;\n            let backgroundImage = this.style.backgroundImage; // to get 1:1 as html have to use background-size: cover; or use experimental\n\n            if (backgroundImage != \"none\") {\n                // cannot use animations that require update to be called every frame. html2canvas is very performance heavy.\n                if (this.web2vr.settings.experimental) {\n                    if ((backgroundImage != this.oldBackgroundImage || (this.oldDomPosition && !this.position.equalsDOMPosition(this.oldDomPosition)))) {\n                        let id = this.domElement.id;\n                        let customId = false;\n                        if (!id) {\n                            customId = true;\n                            id = \"html2canvas-\" + this.web2vr.html2canvasIDcounter++;\n                            this.domElement.id = id;\n                        }\n\n                        html2canvas(this.domElement, {\n                            onclone: (clone) => {\n                                const style = document.createElement('style');\n\n                                clone.head.appendChild(style);\n                                // ignoring opacity because we use opacity from aframe\n                                style.sheet.insertRule(`\n                    #${id} {\n                        opacity: 1;\n                    }`);\n                                // hide the text\n                                style.sheet.insertRule(`\n                    #${id} {\n                        color: transparent;\n                    }`);\n                                // hide the children elements\n                                style.sheet.insertRule(`\n                    #${id} > * {\n                        display:none\n                    }`);\n                                // vr-span has to be block so it can render properly\n                                style.sheet.insertRule(`\n                    #${id} > .vr-span {\n                        display:block\n                    }`);\n                                if (customId)\n                                    this.domElement.removeAttribute(\"id\");\n                            }\n                        }).then(canvas => {\n                            if (this.expImageId)\n                                this.web2vr.aframe.assetManager.removeAsset(this.expImageId);\n                            this.expImageId = this.web2vr.aframe.assetManager.getAsset(canvas.toDataURL(), \"img\");\n                            this.entity.setAttribute(\"material\", \"src: #\" + this.expImageId);\n                        });\n                        this.oldBackgroundImage = backgroundImage;\n                    }\n                }\n                else if (Helper.isUrl(backgroundImage)) {\n                    // remove url(\"\")\n                    backgroundImage = backgroundImage.substring(backgroundImage.lastIndexOf('(\\\"') + 2, backgroundImage.lastIndexOf('\\\")'));\n                    this.entity.setAttribute(\"material\", \"src: #\" + this.web2vr.aframe.assetManager.getAsset(backgroundImage, \"img\"));\n                    // transparent images support\n                    this.entity.setAttribute(\"material\", \"transparent\", true);\n                }\n            }\n            else {\n                // if there is no backgroundColor dont renders\n                if (backgroundColor == \"rgba(0, 0, 0, 0)\") {\n                    this.entity.setAttribute(\"material\", \"visible\", false);\n                }\n                else {\n                    this.entity.setAttribute(\"material\", \"visible\", true);\n                    this.entity.setAttribute(\"color\", backgroundColor);\n                    this.updateOpacity();\n                }\n            }\n            this.oldDomPosition = this.position.domPosition;\n        }\n    }\n\n    updateOpacity() {\n        const alpha = parseFloat(this.style.backgroundColor.split(',')[3]);\n        // calculate final alpha channel result\n        if (alpha) {\n            let a = alpha;\n            let b = this.style.opacity;\n            if (a < b) {\n                b = alpha;\n                a = this.style.opacity;\n            }\n            this.entity.setAttribute(\"opacity\", a - (a - b));\n        }\n    }\n}","import ContainerElement from \"./containerElement\";\n\nexport default class TextElement extends ContainerElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer, false);\n\n        this.entity.setAttribute(\"text\", \"value\", \"\");\n        this.textValue = null;\n    }\n\n    setupClipping() {\n        let clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            let material = this.entity.components.text.material;\n\n            // text component uses custom shader so default three.js clipping doesnt work, needed to inject clipping shader code inside the custom shader code(RawShaderMaterial)\n            // help from https://stackoverflow.com/questions/42532545/add-clipping-to-three-shadermaterial\n            // 1.1.0 version changes: Because Aframe 1.1.0 changes text material shader to use webgl 2(glsl 3) some of the three.js ShaderChunk had to be converted to glsl 3.\n            const fragmentShader = `#version 300 es\n            precision highp float;\n            uniform bool negate;\n            uniform float alphaTest;\n            uniform float opacity;\n            uniform sampler2D map;\n            uniform vec3 color;\n            in vec2 vUV;\n            out vec4 fragColor;\n            float median(float r, float g, float b) {\n                return max(min(r, g), min(max(r, g), b));\n            }\n            #define BIG_ENOUGH 0.001\n            #define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)\n            \n            // clipping_planes_pars_fragment converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n                in vec3 vClipPosition;\n                uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];\n            #endif\n            \n            void main() {\n                // compatible with glsl 3\n                #include <clipping_planes_fragment>\n\n                vec3 sampleColor = texture(map, vUV).rgb;\n                if (negate) { sampleColor = 1.0 - sampleColor; }\n                float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;\n                float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\n                float dscale = 0.353505;\n                vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));\n                float isBigEnough = max(abs(duv.x), abs(duv.y));\n                // Do modified alpha test.\n                if (isBigEnough > BIG_ENOUGH) {\n                    float ratio = BIG_ENOUGH / isBigEnough;\n                    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);\n                }\n                // Do modified alpha test.\n                if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }\n                fragColor = vec4(color.xyz, alpha * opacity);\n            }`;\n\n            const vertexShader = `#version 300 es\n            in vec2 uv;\n            in vec3 position;\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            out vec2 vUV;\n\n            // clipping_planes_pars_vertex converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n\t            out vec3 vClipPosition;\n            #endif\n\n            void main(void) {\n                // compatible with glsl 3\n                #include <begin_vertex>\n\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                vUV = uv;\n\n                // compatible with glsl 3\n                #include <project_vertex>\n                #include <clipping_planes_vertex>\n\n            }`;\n\n            material.fragmentShader = fragmentShader;\n            material.vertexShader = vertexShader;\n            material.clipping = true;\n            material.clippingPlanes = clippingContext.planes;\n\n            this.updateClipping();\n        }\n    }\n\n    updateTextAlignment() {\n        // align css text-align to text component\n        let align = this.style.textAlign;\n        if (![\"left\", \"right\", \"center\"].includes(align))\n            align = \"left\";\n        this.entity.setAttribute(\"text\", \"align\", align);\n\n        // set text lineHeight if it has custom css lineHeight\n        const text = this.entity.components.text;\n        if (this.style.lineHeight != \"normal\" && (typeof text.currentFont != \"undefined\")) {\n            this.entity.setAttribute(\"text\", \"lineHeight\", text.currentFont.common.lineHeight + parseFloat(this.style.lineHeight));\n        }\n    }\n\n    updateTextSize() {\n        const actualFontSize = parseFloat(this.style.fontSize);\n        const width = this.position.width;\n\n        const widthInPixels = width / this.position.scalingFactor;\n        let wrapPixels = widthInPixels * 42 / actualFontSize;\n        wrapPixels *= 1.107; //1.10706774183070233\n        this.entity.setAttribute(\"text\", \"wrapPixels\", wrapPixels);\n        this.entity.setAttribute(\"text\", \"width\", width);\n    }\n\n    updateTextColor() {\n        // opacity from parent because it doesnt pass it to children\n        const opacity = this.domElement.parentElement.element.style.opacity;\n        this.entity.setAttribute(\"text\", \"opacity\", opacity);\n\n        const textColor = this.style.color;\n        this.entity.setAttribute(\"text\", \"color\", textColor);\n    }\n\n    updateText() {\n        // remove new lines and whitespaces\n        this.textValue = this.domElement.textContent.replace(/\\s{2,}/g, ' ');\n    }\n\n    specificUpdate() {\n        super.specificUpdate();\n\n        this.updateTextSize();\n        this.updateTextAlignment();\n        this.updateText();\n        this.entity.setAttribute(\"text\", \"value\", this.textValue);\n        this.updateTextColor();\n    }\n}","import Element from \"./element\";\n\nexport default class ImageElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.currentSrc = null;\n        this.changed = false;\n        this.entity = document.createElement(\"a-image\");\n        this.entity.setAttribute(\"material\", \"side\", \"front\");\n        // know when image is loaded\n        this.loaded = false;\n        this.domElement.addEventListener(\"load\", () => {\n            this.loaded = true;\n            // if image changed update all after image loaded\n            if (this.changed) {\n                this.changed = false;\n                this.web2vr.update();\n            }\n        });\n    }\n    updateImage(src) {\n        const assetID = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetID);\n\n        const isGif = /\\.(gif)$/i;\n        if (isGif.test(src)) {\n            this.entity.setAttribute(\"material\", \"shader\", \"gif\");\n            this.entity.setAttribute(\"material\", \"src\", \"#\" + assetID);\n        }\n        else {\n            this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n            this.entity.setAttribute(\"src\", \"#\" + assetID);\n        }\n    }\n\n    specificUpdate() {\n        const src = this.domElement.getAttribute(\"src\");\n        if (src != this.currentSrc) {\n            if (this.currentSrc) {\n                this.loaded = false;\n                this.changed = true;\n            }\n            this.currentSrc = src;\n            this.updateImage(this.currentSrc);\n        }\n    }\n}\n\n// TODO: No need to save image copy in assets you can directly read it from the orignal","import Element from \"./element\";\n\nexport default class VideoElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        // normal video\n        this.entity = document.createElement(\"a-video\");\n        // 360 video\n        this.video360 = document.createElement(\"a-videosphere\");\n        this.web2vr.aframe.scene.appendChild(this.video360);\n\n        this.createClickEvent();\n\n        this.domElement.addEventListener(\"play\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.play();\n        });\n\n        this.domElement.addEventListener(\"pause\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.pause();\n        });\n    }\n\n    createClickEvent() {\n        // for normal video\n        this.domElement.addEventListener(\"click\", () => {\n            this.domElement.paused ? this.domElement.play() : this.domElement.pause();\n        });\n    }\n\n    specificUpdate() {\n        const src = this.domElement.currentSrc;\n        let id = this.domElement.id;\n\n        // if there is no video id generate new id\n        if(!id){\n            id = this.web2vr.aframe.assetManager.updateCurrentAssetIdReturn();\n            this.domElement.id = id;\n        }\n\n        if (this.domElement.hasAttribute(\"vr\")) {\n            this.video360.object3D.visible = true;\n            this.video360.classList.add(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = false;\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n\n            this.video360.setAttribute(\"src\", \"#\" + id);\n            // set video360 rotation\n            const rotation = this.domElement.getAttribute(\"vr\");\n            if (rotation)\n                this.video360.object3D.rotation.y = THREE.Math.degToRad(rotation);\n            else\n                this.video360.object3D.rotation.y = 0;\n        }\n        else {\n            this.video360.object3D.visible = false;\n            this.video360.classList.remove(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = true;\n            this.entity.classList.add(this.web2vr.settings.interactiveTag);\n\n            this.entity.setAttribute(\"src\", \"#\" + id);\n        }\n    }\n}","import Element from \"./element\";\n\nexport default class CheckBoxElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-plane\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.specificUpdate();\n        }).bind(this))\n    }\n\n    specificUpdate() {\n        if (this.domElement.checked)\n            this.entity.setAttribute(\"color\", \"#0075FF\");\n        else\n            this.entity.setAttribute(\"color\", \"#FFFFFF\");\n    }\n}","import Element from \"./element\";\n\nexport default class RadioElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-circle\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.web2vr.update();\n        }).bind(this));\n    }\n\n    specificUpdate() {\n        this.entity.setAttribute(\"radius\", this.position.width / 2);\n        \n            if (this.domElement.checked)\n                this.entity.setAttribute(\"color\", \"#0075FF\");\n            else\n                this.entity.setAttribute(\"color\", \"#FFFFFF\");\n        }\n    }","import TextElement from \"./textElement\";\n\nexport default class InputElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.active = false;\n\n        // update when there is change of value\n        this.domElement.addEventListener(\"input\", () => this.update());\n        // when clicked make it active input for the keyboard and position the keyboard relative to camera\n        this.entity.addEventListener(\"click\", () => {\n            const camera = this.web2vr.aframe.scene.camera.parent;\n            const keyboard = this.web2vr.aframe.keyboard.object3D;\n\n            keyboard.position.copy(camera.position);\n            keyboard.rotation.copy(camera.rotation);\n            keyboard.rotation.z = 0;\n            keyboard.rotation.x = THREE.Math.degToRad(-30);\n            keyboard.translateX(-0.24);\n            keyboard.translateY(-0.1);\n            keyboard.translateZ(-0.6);\n            keyboard.visible = true;\n\n            if (this.web2vr.aframe.keyboard.activeInput){\n                this.web2vr.aframe.keyboard.activeInput.element.active = false;\n                // update web2vr where activeInput is located\n                this.web2vr.aframe.keyboard.activeInput.element.web2vr.update();\n            }\n            this.active = true;\n\n            this.web2vr.aframe.keyboard.activeInput = this.domElement;\n            this.web2vr.update();\n        })\n    }\n\n    updateText() {\n        const value = this.domElement.value;\n        if (value)\n            this.textValue = value;\n        else\n            this.textValue = this.domElement.placeholder;\n    }\n    updateTextColor() {\n        const value = this.domElement.value;\n        if (value)\n            super.updateTextColor();\n        else\n            this.entity.setAttribute(\"text\", \"color\", \"#999\");\n\n        if (this.active)\n            this.entity.setAttribute(\"color\", \"#ffffcc\");\n    }\n}","import TextElement from \"./textElement\";\n\nexport default class ButtomElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n    }\n\n    updateTextPadding() {\n        // ignore padding for buttons\n    }\n\n    updateText() {\n        if (this.domElement.tagName == \"INPUT\")\n            this.textValue = this.domElement.value.replace(/\\s{2,}/g, ' ');\n    }\n}","import Element from \"./element\";\n\nexport default class SvgElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    svgToImage() {\n        const svgString = new XMLSerializer().serializeToString(this.domElement);\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = this.position.domPosition.width * 2;\n        canvas.height = this.position.domPosition.height * 2;\n\n        const DOMURL = self.URL || self.webkitURL || self;\n        const img = new Image();\n        const svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n        const url = DOMURL.createObjectURL(svg);\n\n        img.onload = () => {\n            if (this.domElement.style.width)\n                ctx.drawImage(img, 0, 0, canvas.width*2, canvas.height*2);\n            else\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n            DOMURL.revokeObjectURL(url);\n            this.updateImage(canvas.toDataURL());\n            canvas.remove();\n        };\n        img.src = url;\n    }\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.svgToImage();\n    }\n}","import Element from \"./element\";\n\nexport default class CanvasElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.updateImage(this.domElement.toDataURL());\n    }\n}","import \"./plugins/eventListenerListPlugin\"; // Get all event listeners for DOM elements\nimport Deepmerge from \"deepmerge\";\nimport \"aframe\";\n\n// import \"aframe-gif-shader\";\nimport \"./plugins/aframe-keyboard.min\";\nimport \"super-hands\";\nimport Settings from \"./settings\";\nimport \"./components/border\";\nimport \"./components/animate\";\nimport \"./components/grabRotateStatic\";\nimport Scroll from \"./scroll\"\nimport AframeContext from \"./aframeContext\";\nimport ContainerElement from \"./elements/containerElement\";\nimport TextElement from \"./elements/textElement\";\nimport ImageElement from \"./elements/imageElement\";\nimport VideoElement from \"./elements/videoElement\";\nimport CheckBoxElement from \"./elements/checkboxElement\";\nimport RadioElement from \"./elements/radioElement\";\nimport InputElement from \"./elements/inputElement\";\nimport ButtonElement from \"./elements/buttonElement\";\nimport SvgElement from \"./elements/svgElement\";\nimport CanvasElement from \"./elements/canvasElement\";\n\nexport default class Web2VR {\n    constructor(container, settings = {}) {\n        // main div container\n        if (container.nodeType == Node.ELEMENT_NODE)\n            this.container = container;\n        else\n            this.container = document.querySelector(container);\n\n        // deep merge settings\n        this.settings = Deepmerge(new Settings(), settings, {\n            arrayMerge: (destination, source) => {\n                return [...destination, ...source];\n            }\n        });\n\n        // aframe context\n        this.aframe = new AframeContext(this.settings);\n        // vr elements\n        this.elements = new Set();\n        // set of all the hover css selectors\n        this.hoverSelectors = new Set();\n        this.observer = null;\n        // observer parametars\n        this.observerConfig = { childList: true, subtree: true, characterData: true, attributes: true };//attributeFilter: [\"style\", \"class\", \"id\"]\n        this.updating = false;\n\n        // experimental only\n        this.html2canvasIDcounter = 0;\n    }\n\n    // find all hover css rules and add {selector}hover class to them\n    findHoverCss() {\n        try {\n            for (const styleSheet of [...document.styleSheets]) {\n                for (const rule of [...styleSheet.cssRules]) {\n                    if (rule instanceof CSSStyleRule) {\n                        const selectors = rule.selectorText.split(\",\");\n                        for (const selector of selectors) {\n                            const sel = selector.split(\":\");\n                            // is hover\n                            if (sel[1] == \"hover\") {\n                                const s = sel[0].replace(/\\s/g, '');\n                                if (s[0] == \".\")\n                                    rule.selectorText += `, ${s}hover`;\n                                else if (s[0] == \"#\")\n                                    rule.selectorText += `, .${s.substr(1)}hover`;\n                                else\n                                    rule.selectorText += `, .${s}hover`;\n                                this.hoverSelectors.add(s);\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    // add all svg needed styles to defs inside svg so we can convert svg to png with all styles applied \n    generateStyleDefs(svgDomElement) {\n        let styleDefs = \"\";\n        const sheets = document.styleSheets;\n        for (let i = 0; i < sheets.length; i++) {\n            const rules = sheets[i].cssRules;\n            for (let j = 0; j < rules.length; j++) {\n                const rule = rules[j];\n                if (rule.style) {\n                    const selectorText = rule.selectorText;\n                    const elems = svgDomElement.querySelectorAll(selectorText);\n                    if (elems.length) {\n                        styleDefs += selectorText + \" { \" + rule.style.cssText + \" }\\n\";\n                    }\n                }\n            }\n        }\n\n        const s = document.createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.innerHTML = styleDefs;\n\n        const defs = document.createElement('defs');\n        defs.appendChild(s);\n        svgDomElement.insertBefore(defs, svgDomElement.firstChild);\n    }\n\n    start() {\n        // Return a promise that will resolve when the VR elements are added / scene is loaded.\n        return new Promise((resolve, reject) => {\n            this.findHoverCss();\n\n            if (!this.aframe.scene.hasLoaded)\n                this.aframe.scene.addEventListener(\"loaded\", this.init(resolve, reject), { once: true });\n            else\n                this.init(resolve, reject);    \n        });\n    }\n\n    init(resolve, reject) {\n        this.aframe.createContainer(this);\n        this.aframe.createSky();\n        this.aframe.createControllers();\n\n        this.convertToVR();\n        // scroll feature\n        this.scroll = new Scroll(this);\n\n        this.allLoadedUpdate();\n        resolve();\n    }\n\n    // update once after all images are loaded in the dom\n    allLoadedUpdate() {\n        const interval = setInterval(() => {\n            let allLoaded = true;\n            for (const element of this.elements)\n                if (element instanceof ImageElement && !element.loaded)\n                    allLoaded = false;\n            if (allLoaded) {\n                this.update();\n                clearInterval(interval);\n            }\n        }, 100);\n    }\n\n    addElement(domElement, parentElement, layer) {\n        // ignore tag if in ignoreTags list or text element(vr-span) is already added\n        if (this.settings.ignoreTags.includes(domElement.tagName) || (domElement.classList && domElement.classList.contains(\"vr-span\")))\n            return null;\n\n        let element = null;\n        // its text node and not empty\n        if (domElement.nodeType == Node.TEXT_NODE && domElement.nodeValue.trim()) {\n            const span = document.createElement(\"span\");\n            span.classList.add(\"vr-span\");\n            span.textContent = domElement.textContent;\n\n            // dont want observer to listen changes when adding(replacing) span text into dom\n            if (this.observer)\n                this.observer.disconnect();\n            domElement.replaceWith(span);\n            if (this.observer)\n                this.observer.observe(this.container, this.observerConfig);\n\n            element = new TextElement(this, span, layer);\n        }\n        // for future convert this to switch statement\n        else if (domElement.tagName == \"VIDEO\")\n            element = new VideoElement(this, domElement, layer);\n        else if (domElement.tagName == \"IMG\")\n            element = new ImageElement(this, domElement, layer);\n        else if (domElement.tagName == \"svg\")\n            element = new SvgElement(this, domElement, layer);\n        else if (domElement.tagName == \"CANVAS\")\n            element = new CanvasElement(this, domElement, layer);\n        else if (domElement.tagName == \"BUTTON\")\n            element = new ButtonElement(this, domElement, layer);\n        else if (domElement.tagName == \"TEXTAREA\")\n            element = new InputElement(this, domElement, layer);\n        else if (domElement.tagName == \"INPUT\") {\n            const type = domElement.getAttribute(\"type\");\n            if (type == \"checkbox\")\n                element = new CheckBoxElement(this, domElement, layer);\n            else if (type == \"radio\")\n                element = new RadioElement(this, domElement, layer);\n            else if ([\"text\", \"email\", \"number\", \"password\", \"search\", \"tel\", \"url\"].includes(type))\n                element = new InputElement(this, domElement, layer);\n            else if ([\"button\", \"submit\", \"reset\"].includes(type)) {\n                element = new ButtonElement(this, domElement, layer);\n            }\n            else\n                return;\n        }\n        // any other type of element will be container\n        else if (domElement.nodeType == Node.ELEMENT_NODE) {\n            element = new ContainerElement(this, domElement, layer);\n        }\n        else\n            return;\n\n        this.elements.add(element);\n        this.aframe.container.appendChild(element.entity);\n\n        if (this.settings.debug)\n            console.log(\"Added element\", element);\n\n        // init element and add element to parent children when aframe entity is loaded(play)\n        const onLoaded = (event) => {\n            if (parentElement)\n                parentElement.childElements.add(element);\n            element.init();\n            element.update();\n        };\n        element.entity.addEventListener(\"play\", onLoaded, { once: true });\n\n        return element;\n    }\n\n    removeElement(element) {\n        // remove the element\n        this.aframe.container.removeChild(element.entity);\n        this.elements.delete(element);\n        // remove all the children of the element recursively\n        for (const child of element.childElements) {\n            this.removeElement(child);\n        }\n    }\n\n    // start at root and interate over child nodes recursively\n    addElementChildren(currentNode, parentElement = null, layer = 0) {\n        if (currentNode.tagName == \"svg\")\n            this.generateStyleDefs(currentNode);\n        \n        // If this is a slot element, we're using a web component and need to fetch the child elements using .assignedNodes()\n        if (currentNode.tagName == \"SLOT\") {\n            // Note: we don't increase the layer here because slots don't render directly.\n            console.log(\"*********Slot element found\");\n            const assignedNodes = currentNode.assignedNodes();\n            for (const assignedNode of assignedNodes) {\n                this.addElementChildren(assignedNode, parentElement, layer);\n            }\n        } \n\n        const element = this.addElement(currentNode, parentElement, layer);\n        // not supported tags or svg element that we dont need to check its children\n        if (!element || element instanceof SvgElement)\n            return;\n\n        if (currentNode.childNodes && currentNode.childNodes.length > 0) {\n            layer++;\n            for (const child of currentNode.childNodes)\n                this.addElementChildren(child, element, layer);\n        }\n    }\n\n    convertToVR() {\n        this.addElementChildren(this.container);\n        // observer dom element changes and for newly added and deleted dom elements\n        this.observer = new MutationObserver((mutations) => {\n            for (const mutation of mutations) {\n                let emptyRemove = false;\n                for (const node of mutation.removedNodes) {\n                    // not empty textNode\n                    if (!(node.nodeType == Node.TEXT_NODE && !node.nodeValue.trim()))\n                        this.removeElement(node.element);\n                    else\n                        emptyRemove = true;\n                }\n\n                for (const node of mutation.addedNodes)\n                    this.addElementChildren(node, mutation.target.element, mutation.target.element.layer + 1);\n\n                if (!emptyRemove) {\n                    // when adding new nodes we also need to check for new loaded images\n                    if (mutation.addedNodes.length > 0)\n                        this.allLoadedUpdate();\n                    else\n                        this.update();\n                }\n            }\n        });\n        this.observer.observe(this.container, this.observerConfig);\n    }\n\n    update() {\n        // we check for updating so we dont do multiple updating at same time from the async functions\n        this.updating = true;\n        if (this.updating) {\n            // using try and catch because sometimes when element is removed it calls update after and it wont find element, the errors doesnt matter because the final result is the same\n            try {\n                for (const element of this.elements)\n                    element.update();\n            }\n            catch (err) {\n                console.error(err);\n            }\n            this.scroll.update();\n            this.updating = false;\n        }\n    }\n}"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__668__","AFRAME","Error","registerComponent","schema","colliderEvent","default","colliderEventProperty","colliderEndEvent","colliderEndEventProperty","grabStartButtons","grabEndButtons","stretchStartButtons","stretchEndButtons","dragDropStartButtons","dragDropEndButtons","interval","multiple","init","this","HOVER_EVENT","UNHOVER_EVENT","GRAB_EVENT","UNGRAB_EVENT","STRETCH_EVENT","UNSTRETCH_EVENT","DRAG_EVENT","UNDRAG_EVENT","DRAGOVER_EVENT","UNDRAGOVER_EVENT","DRAGDROP_EVENT","otherSuperHand","gehDragged","Set","gehClicking","hoverEls","hoverElsIntersections","prevCheckTime","state","Map","dragging","unHover","bind","unWatch","onHit","onGrabStartButton","onGrabEndButton","onStretchStartButton","onStretchEndButton","onDragDropStartButton","onDragDropEndButton","system","registerMe","update","oldData","unRegisterListeners","registerListeners","remove","unregisterMe","length","get","_unHover","tick","sorter","a","b","aDist","distance","bDist","time","data","orderChanged","sort","i","object","el","hover","evt","carried","dispatchMouseEventAll","findTarget","hand","buttonEvent","set","_this","clickables","filter","h","has","grabbed","endEvt","dispatchMouseEvent","clear","emitCancelable","promoteHoveredEl","stretched","dragged","_this2","forEach","ddEvt","dropped","on","dropTarget","processHitEl","hitEl","intersection","_this3","dist","sects","hoverNeedsUpdate","indexOf","splice","push","size","detail","Array","isArray","sect","intersections","hvrevt","hoverEl","hovered","_this4","clearedEls","skipNextHover","unHovered","_this5","_unWatch","target","_this6","hoverIndex","_this7","addEventListener","_this8","Object","keys","removeEventListener","name","bubbles","cancelable","window","CustomEvent","dispatchEvent","relatedTarget","mEvt","MouseEvent","filterUsed","alsoReverse","_this9","els","evType","elIndex","_this10","eligibleEls","buttonCore","utils","extendDeep","onclick","type","CLICKED_STATE","CLICK_EVENT","UNCLICK_EVENT","clickers","start","end","defaultPrevented","startButtonOk","addState","preventDefault","handIndex","endButtonOk","removeState","inherit","console","warn","HOVERED_STATE","DRAGGED_STATE","hoverStart","dragStart","hoverEnd","dragEnd","dragDrop","dragStartBound","dragEndBound","accepts","autoUpdate","acceptEvent","rejectEvent","hoverStartBound","hoverEndBound","dragDropBound","mutateAcceptsBound","mutateAccepts","acceptableEntities","observer","MutationObserver","observerOpts","childList","subtree","prototype","slice","call","sceneEl","querySelectorAll","observe","disconnect","mutations","query","mutation","addedNodes","added","selector","matches","msMatchesSelector","webkitMatchesSelector","entityAcceptable","entity","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","err","e","f","emit","objPos","grabPos","q","v","base","maxGrabbers","NaN","invert","suppressY","GRABBED_STATE","grabbers","constraints","deltaPositionIsValid","grabDistance","undefined","grabDirection","x","y","z","grabOffset","destPosition","deltaPosition","THREE","Vector3","targetPosition","physicsInit","lostGrabber","physicsUpdate","xFactor","zFactor","yFactor","Quaternion","entityPosition","grabber","copy","applyQuaternion","object3D","getWorldQuaternion","setLength","add","getWorldPosition","sub","getAttribute","setAttribute","physicsRemove","grabAvailable","Number","isFinite","physicsStart","resetGrabber","physicsEnd","raycaster","distanceTo","direction","origin","physicsIsConstrained","hoverers","buttonIsValid","buttonList","startButtons","endButtons","usePhysics","physicsClear","body","newConId","Math","random","toString","substr","constraintId","removeAttribute","values","c","world","removeConstraint","physicsIsGrabbing","physicsUpdateRate","STRETCHED_STATE","stretchers","scale","handPos","otherHandPos","oldDat","updateBodies","throttleTick","_updateBodies","timeDelta","currentStretch","deltaStretch","previousStretch","pow","previousPhysicsStretch","multiplyScalar","includes","stretcherIndex","childNodes","stretchBody","physicsShape","offset","shapes","halfExtents","updateConvexPolyhedronRepresentation","radius","updateBoundingSphereRadius","shapeWarned","shapeOffsets","updateBoundingRadius","registerSystem","superHands","comp","index","running","element","domElement","startAnimation","stopAnimation","web2vr","width","color","plane","children","edges","EdgesGeometry","geometry","line","LineSegments","LineBasicMaterial","linewidth","borderObject","aframe","container","clippingContext","material","clippingPlanes","planes","needsUpdate","borderWidth","borderColor","Color","updateBorder","visible","clone","position","settings","layerStep","components","scroll","hasScroll","elements","updateClipping","obj","rotation","atan2","renderer","localClippingEnabled","scrollHeight","parseFloat","firstElementChild","style","height","scrollWindowHeight","scrollContainer","clientHeight","scrollY","uv","shift","pointer","setY","pointEndY","pointStartY","play","scrollbar","setX","setZ","t","d","l","m","o","defineProperty","enumerable","r","Symbol","toStringTag","_typeof","__esModule","create","hasOwnProperty","p","mode","template","AFK","audio","highlightColor","dismissable","font","fontSize","locale","model","baseTexture","keyTexture","verticalAlign","draw","_objectSpread","attachEventListeners","handleKeyboardPress","handleKeyboardVR","removeEventListeners","key","charCodeAt","keyCode","parseInt","document","querySelector","concat","id","code","toggleActiveMode","Event","setTimeout","isMouseEnter","_class","_classCallCheck","keyboardKeys","activeMode","drawKeyboard","split","createElement","appendChild","firstChild","removeChild","normal","parseKeyObjects","drawButton","alt","Element","_addEventListener","handle","useCapture","eventListenerList","node","addedEvent","_removeEventListener","listener","removedEvent","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","options","deepmerge","val","defaultArrayMerge","source","map","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","property","_","arrayMerge","sourceIsArray","destination","propertyIsUnsafe","customMerge","getMergeFunction","mergeObject","all","array","reduce","prev","next","deepmerge_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","prop","Settings","_createClass","parentSelector","interactiveTag","ignoreTags","debug","showClipping","forceClipping","experimental","createControllers","raycasterFar","skybox","border","Scroll","scrollBody","checkScrollbar","createScrollbar","scrollingElement","overflow","classList","visibility","AssetManager","scene","assets","getElementsByTagName","currentAssetId","updateCurrentAssetId","path","getChildren","asset","createAsset","AframeContext","inVR","createScene","assetManager","newScene","getComputedStyle","parentElement","sky","getElementById","cursor","superhands","leftHand","rightHand","keyboard","activeInput","active","Position","domPosition","depth","startDepth","updatePosition","aframePosition","calculateAFramePosition","scalingFactor","top","bottom","left","right","MouseEventHandler","listeningForMouseEvents","resync","checkEntityEvents","mouseEvents","hasMouseEventRegistered","_i","_mouseEvents","mouseEvent","hasMouseProperty","_i2","_mouseProperties","mouseProperty","addMouseListeners","removeMouseListeners","eventName","mouseEventHandler","_i3","_mouseEvents2","layer","childElements","contains","paddingToMargin","getBoundingClientRect","parentTransform","needsStartingTransformSize","initHover","mouseEventHandle","animationDuration","transitionDuration","tag","hoverSelectors","tagName","toLowerCase","classes","cls","_step2","_iterator2","transform","hoverTransform","_step3","_iterator3","_step4","_iterator4","textContent","trim","paddingRight","marginRight","initEventHandlers","setupClipping","clientRect","checkVisible","display","checkAnimation","opacity","specificUpdate","updateTransform","_step5","_iterator5","matrixType","matrix","Matrix4","fromArray","quaternion","decompose","setFromRotationMatrix","scaleX","sqrt","scaleY","borderTopWidth","borderTopColor","normalMatrix","Matrix3","getNormalMatrix","matrixWorld","applyMatrix3","normalize","output","parentNode","authority","Plane","rotateNormal","getClippingContext","bottomLocal","topLocal","leftLocal","rightLocal","bottomGlobal","localToWorld","topGlobal","leftGlobal","rightGlobal","setFromNormalAndCoplanarPoint","clippingPlaneHelpers","_step6","_iterator6","MeshBasicMaterial","side","DoubleSide","PlaneGeometry","mesh","Mesh","debugPlane","axisHelper","AxesHelper","_step7","_iterator7","helper","_step8","_iterator8","worldPos","point","projectPoint","focalPoint","lookAt","_step9","_iterator9","Helper","string","test","min","max","ContainerElement","_Element","textOnly","arguments","_callSuper","log","click","expImageId","oldBackgroundImage","oldDomPosition","_inherits","backgroundColor","backgroundImage","equalsDOMPosition","customId","html2canvasIDcounter","html2canvas","onclone","head","sheet","insertRule","then","canvas","removeAsset","getAsset","toDataURL","isUrl","substring","lastIndexOf","updateOpacity","alpha","TextElement","_ContainerElement","textValue","text","fragmentShader","vertexShader","clipping","align","textAlign","lineHeight","currentFont","common","actualFontSize","wrapPixels","textColor","replace","_get","_getPrototypeOf","updateTextSize","updateTextAlignment","updateText","updateTextColor","ImageElement","currentSrc","changed","loaded","src","assetID","updateImage","VideoElement","video360","createClickEvent","hasAttribute","image","pause","paused","updateCurrentAssetIdReturn","degToRad","CheckBoxElement","checked","RadioElement","InputElement","_TextElement","camera","parent","translateX","translateY","translateZ","placeholder","ButtomElement","SvgElement","imageId","svgString","XMLSerializer","serializeToString","ctx","getContext","DOMURL","URL","webkitURL","img","Image","svg","Blob","url","createObjectURL","onload","drawImage","revokeObjectURL","assetId","svgToImage","CanvasElement","Web2VR","nodeType","Node","ELEMENT_NODE","Deepmerge","_toConsumableArray","observerConfig","characterData","attributes","updating","_arr","styleSheets","styleSheet","_arr2","cssRules","rule","CSSStyleRule","selectorText","sel","error","svgDomElement","styleDefs","sheets","rules","j","cssText","innerHTML","defs","insertBefore","Promise","resolve","reject","findHoverCss","hasLoaded","once","createContainer","createSky","convertToVR","allLoadedUpdate","setInterval","allLoaded","clearInterval","TEXT_NODE","nodeValue","span","replaceWith","ButtonElement","event","child","removeElement","currentNode","generateStyleDefs","assignedNodes","assignedNode","addElementChildren","addElement","emptyRemove","removedNodes"],"sourceRoot":""}