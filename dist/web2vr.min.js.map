{"version":3,"file":"web2vr.min.js","mappings":"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","sources":["webpack://Web2VR/webpack/universalModuleDefinition","webpack://Web2VR/./aframe-super-hands-component/index.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/clickable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/drag-droppable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/draggable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/droppable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/grabbable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/hoverable.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/prototypes/buttons-proto.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/prototypes/physics-grab-proto.js","webpack://Web2VR/./aframe-super-hands-component/reaction_components/stretchable.js","webpack://Web2VR/./aframe-super-hands-component/systems/super-hands-system.js","webpack://Web2VR/./src/components/animate.js","webpack://Web2VR/./src/components/border.js","webpack://Web2VR/./src/components/grabRotateStatic.js","webpack://Web2VR/./src/components/renderer.js","webpack://Web2VR/./src/components/scrollbar.js","webpack://Web2VR/./src/plugins/aframe-keyboard.min.js","webpack://Web2VR/./src/plugins/eventListenerListPlugin.js","webpack://Web2VR/../node_modules/deepmerge/dist/cjs.js","webpack://Web2VR/external umd \"aframe\"","webpack://Web2VR/webpack/bootstrap","webpack://Web2VR/webpack/runtime/compat get default export","webpack://Web2VR/webpack/runtime/define property getters","webpack://Web2VR/webpack/runtime/hasOwnProperty shorthand","webpack://Web2VR/./src/settings.js","webpack://Web2VR/./src/scroll.js","webpack://Web2VR/./src/assetManager.js","webpack://Web2VR/./src/aframeContext.js","webpack://Web2VR/./src/utils/position.js","webpack://Web2VR/./src/utils/mouseEventHandler.js","webpack://Web2VR/./src/elements/element.js","webpack://Web2VR/./src/utils/helper.js","webpack://Web2VR/./src/elements/containerElement.js","webpack://Web2VR/./src/elements/textElement.js","webpack://Web2VR/./src/elements/imageElement.js","webpack://Web2VR/./src/elements/videoElement.js","webpack://Web2VR/./src/elements/checkboxElement.js","webpack://Web2VR/./src/elements/radioElement.js","webpack://Web2VR/./src/elements/inputElement.js","webpack://Web2VR/./src/elements/buttonElement.js","webpack://Web2VR/./src/elements/svgElement.js","webpack://Web2VR/./src/elements/canvasElement.js","webpack://Web2VR/./src/web2vr.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aframe\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aframe\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Web2VR\"] = factory(require(\"aframe\"));\n\telse\n\t\troot[\"Web2VR\"] = factory(root[\"aframe\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__668__) => {\nreturn ","/* global AFRAME */\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.')\n}\n\nrequire('./systems/super-hands-system.js')\nrequire('./reaction_components/hoverable.js')\nrequire('./reaction_components/grabbable.js')\nrequire('./reaction_components/stretchable.js')\nrequire('./reaction_components/drag-droppable.js')\nrequire('./reaction_components/draggable.js')\nrequire('./reaction_components/droppable.js')\nrequire('./reaction_components/clickable.js')\n\n/**\n * Super Hands component for A-Frame.\n */\nAFRAME.registerComponent('super-hands', {\n  schema: {\n    colliderEvent: { default: 'hit' },\n    colliderEventProperty: { default: 'el' },\n    colliderEndEvent: { default: 'hitend' },\n    colliderEndEventProperty: { default: 'el' },\n    grabStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    grabEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    stretchStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    stretchEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    dragDropStartButtons: {\n      default: ['gripdown', 'trackpaddown', 'triggerdown', 'gripclose',\n        'abuttondown', 'bbuttondown', 'xbuttondown', 'ybuttondown',\n        'pointup', 'thumbup', 'pointingstart', 'pistolstart',\n        'thumbstickdown', 'mousedown', 'touchstart']\n    },\n    dragDropEndButtons: {\n      default: ['gripup', 'trackpadup', 'triggerup', 'gripopen',\n        'abuttonup', 'bbuttonup', 'xbuttonup', 'ybuttonup',\n        'pointdown', 'thumbdown', 'pointingend', 'pistolend',\n        'thumbstickup', 'mouseup', 'touchend']\n    },\n    interval: { default: 0 }\n  },\n\n  /**\n   * Set if component needs multiple instancing.\n   */\n  multiple: false,\n\n  /**\n   * Called once when component is attached. Generally for initial setup.\n   */\n  init: function () {\n    // constants\n    this.HOVER_EVENT = 'hover-start'\n    this.UNHOVER_EVENT = 'hover-end'\n    this.GRAB_EVENT = 'grab-start'\n    this.UNGRAB_EVENT = 'grab-end'\n    this.STRETCH_EVENT = 'stretch-start'\n    this.UNSTRETCH_EVENT = 'stretch-end'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n    this.DRAGOVER_EVENT = 'dragover-start'\n    this.UNDRAGOVER_EVENT = 'dragover-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    // links to other systems/components\n    this.otherSuperHand = null\n\n    // state tracking - global event handlers (GEH)\n    this.gehDragged = new Set()\n    this.gehClicking = new Set()\n\n    // state tracking - reaction components\n    this.hoverEls = []\n    this.hoverElsIntersections = []\n    this.prevCheckTime = null\n    this.state = new Map()\n    this.dragging = false\n\n    this.unHover = this.unHover.bind(this)\n    this.unWatch = this.unWatch.bind(this)\n    this.onHit = this.onHit.bind(this)\n    this.onGrabStartButton = this.onGrabStartButton.bind(this)\n    this.onGrabEndButton = this.onGrabEndButton.bind(this)\n    this.onStretchStartButton = this.onStretchStartButton.bind(this)\n    this.onStretchEndButton = this.onStretchEndButton.bind(this)\n    this.onDragDropStartButton = this.onDragDropStartButton.bind(this)\n    this.onDragDropEndButton = this.onDragDropEndButton.bind(this)\n    this.system.registerMe(this)\n  },\n\n  /**\n   * Called when component is attached and when component data changes.\n   * Generally modifies the entity based on the data.\n   */\n  update: function (oldData) {\n    this.unRegisterListeners(oldData)\n    this.registerListeners()\n  },\n\n  /**\n   * Called when a component is removed (e.g., via removeAttribute).\n   * Generally undoes all modifications to the entity.\n   */\n  remove: function () {\n    this.system.unregisterMe(this)\n    this.unRegisterListeners()\n    this.hoverEls.length = 0\n    if (this.state.get(this.HOVER_EVENT)) {\n      this._unHover(this.state.get(this.HOVER_EVENT))\n    }\n    this.onGrabEndButton()\n    this.onStretchEndButton()\n    this.onDragDropEndButton()\n  },\n  tick: (function () {\n    // closer objects and objects with no distance come later in list\n    function sorter (a, b) {\n      const aDist = a.distance == null ? -1 : a.distance\n      const bDist = b.distance == null ? -1 : b.distance\n      if (aDist < bDist) {\n        return 1\n      }\n      if (bDist < aDist) {\n        return -1\n      }\n      return 0\n    }\n    return function (time) {\n      const data = this.data\n      const prevCheckTime = this.prevCheckTime\n      if (prevCheckTime && (time - prevCheckTime < data.interval)) { return }\n      this.prevCheckTime = time\n\n      let orderChanged = false\n      this.hoverElsIntersections.sort(sorter)\n      for (let i = 0; i < this.hoverElsIntersections.length; i++) {\n        if (this.hoverEls[i] !== this.hoverElsIntersections[i].object.el) {\n          orderChanged = true\n          this.hoverEls[i] = this.hoverElsIntersections[i].object.el\n        }\n      }\n      if (orderChanged) {\n        this.hover()\n      }\n    }\n  })(),\n  onGrabStartButton: function (evt) {\n    let carried = this.state.get(this.GRAB_EVENT)\n    this.dispatchMouseEventAll('mousedown', this.el)\n    this.gehClicking = new Set(this.hoverEls)\n    if (!carried) {\n      carried = this.findTarget(this.GRAB_EVENT, {\n        hand: this.el,\n        buttonEvent: evt\n      })\n      if (carried) {\n        this.state.set(this.GRAB_EVENT, carried)\n        this._unHover(carried)\n      }\n    }\n  },\n  onGrabEndButton: function (evt) {\n    const clickables = this.hoverEls.filter(h => this.gehClicking.has(h))\n    const grabbed = this.state.get(this.GRAB_EVENT)\n    const endEvt = { hand: this.el, buttonEvent: evt }\n    this.dispatchMouseEventAll('mouseup', this.el)\n    for (let i = 0; i < clickables.length; i++) {\n      this.dispatchMouseEvent(clickables[i], 'click', this.el)\n    }\n    this.gehClicking.clear()\n    // check if grabbed entity accepts ungrab event\n    if (grabbed && !this.emitCancelable(grabbed, this.UNGRAB_EVENT, endEvt)) {\n      /* push to top of stack so a drop followed by re-grab gets the same\n         target */\n      this.promoteHoveredEl(this.state.get(this.GRAB_EVENT))\n      this.state.delete(this.GRAB_EVENT)\n      this.hover()\n    }\n  },\n  onStretchStartButton: function (evt) {\n    let stretched = this.state.get(this.STRETCH_EVENT)\n    if (!stretched) {\n      stretched = this.findTarget(this.STRETCH_EVENT, {\n        hand: this.el,\n        buttonEvent: evt\n      })\n      if (stretched) {\n        this.state.set(this.STRETCH_EVENT, stretched)\n        this._unHover(stretched)\n      }\n    }\n  },\n  onStretchEndButton: function (evt) {\n    const stretched = this.state.get(this.STRETCH_EVENT)\n    const endEvt = { hand: this.el, buttonEvent: evt }\n    // check if end event accepted\n    if (stretched &&\n        !this.emitCancelable(stretched, this.UNSTRETCH_EVENT, endEvt)) {\n      this.promoteHoveredEl(stretched)\n      this.state.delete(this.STRETCH_EVENT)\n      this.hover()\n    }\n  },\n  onDragDropStartButton: function (evt) {\n    let dragged = this.state.get(this.DRAG_EVENT)\n    this.dragging = true\n    if (this.hoverEls.length) {\n      this.gehDragged = new Set(this.hoverEls)\n      this.dispatchMouseEventAll('dragstart', this.el)\n    }\n    if (!dragged) {\n      /* prefer carried so that a drag started after a grab will work\n       with carried element rather than a currently intersected drop target.\n       fall back to queue in case a drag is initiated independent\n       of a grab */\n      if (this.state.get(this.GRAB_EVENT) &&\n          !this.emitCancelable(this.state.get(this.GRAB_EVENT), this.DRAG_EVENT,\n            { hand: this.el, buttonEvent: evt })) {\n        dragged = this.state.get(this.GRAB_EVENT)\n      } else {\n        dragged = this.findTarget(this.DRAG_EVENT, {\n          hand: this.el,\n          buttonEvent: evt\n        })\n      }\n      if (dragged) {\n        this.state.set(this.DRAG_EVENT, dragged)\n        this._unHover(dragged)\n      }\n    }\n  },\n  onDragDropEndButton: function (evt) {\n    const carried = this.state.get(this.DRAG_EVENT)\n    this.dragging = false // keep _unHover() from activating another droptarget\n    this.gehDragged.forEach(carried => {\n      this.dispatchMouseEvent(carried, 'dragend', this.el)\n      // fire event both ways for all intersected targets\n      this.dispatchMouseEventAll('drop', carried, true, true)\n      this.dispatchMouseEventAll('dragleave', carried, true, true)\n    })\n    this.gehDragged.clear()\n    if (carried) {\n      const ddEvt = {\n        hand: this.el,\n        dropped: carried,\n        on: null,\n        buttonEvent: evt\n      }\n      const endEvt = { hand: this.el, buttonEvent: evt }\n      const dropTarget = this.findTarget(this.DRAGDROP_EVENT, ddEvt, true)\n      if (dropTarget) {\n        ddEvt.on = dropTarget\n        this.emitCancelable(carried, this.DRAGDROP_EVENT, ddEvt)\n        this._unHover(dropTarget)\n      }\n      // check if end event accepted\n      if (!this.emitCancelable(carried, this.UNDRAG_EVENT, endEvt)) {\n        this.promoteHoveredEl(carried)\n        this.state.delete(this.DRAG_EVENT)\n        this.hover()\n      }\n    }\n  },\n  processHitEl: function (hitEl, intersection) {\n    const dist = intersection && intersection.distance\n    const sects = this.hoverElsIntersections\n    const hoverEls = this.hoverEls\n    const hitElIndex = this.hoverEls.indexOf(hitEl)\n    let hoverNeedsUpdate = false\n    if (hitElIndex === -1) {\n      hoverNeedsUpdate = true\n      // insert in order of distance when available\n      if (dist != null) {\n        let i = 0\n        while (i < sects.length && dist < sects[i].distance) { i++ }\n        hoverEls.splice(i, 0, hitEl)\n        sects.splice(i, 0, intersection)\n      } else {\n        hoverEls.push(hitEl)\n        sects.push({ object: { el: hitEl } })\n      }\n      this.dispatchMouseEvent(hitEl, 'mouseover', this.el)\n      if (this.dragging && this.gehDragged.size) {\n        // events on targets and on dragged\n        this.gehDragged.forEach(dragged => {\n          this.dispatchMouseEventAll('dragenter', dragged, true, true)\n        })\n      }\n    }\n    return hoverNeedsUpdate\n  },\n  onHit: function (evt) {\n    const hitEl = evt.detail[this.data.colliderEventProperty]\n    let hoverNeedsUpdate = 0\n    if (!hitEl) { return }\n    if (Array.isArray(hitEl)) {\n      for (let i = 0, sect; i < hitEl.length; i++) {\n        sect = evt.detail.intersections && evt.detail.intersections[i]\n        hoverNeedsUpdate += this.processHitEl(hitEl[i], sect)\n      }\n    } else {\n      hoverNeedsUpdate += this.processHitEl(hitEl, null)\n    }\n    if (hoverNeedsUpdate) { this.hover() }\n  },\n  /* search collided entities for target to hover/dragover */\n  hover: function () {\n    let hvrevt, hoverEl\n    // end previous hover\n    if (this.state.has(this.HOVER_EVENT)) {\n      this._unHover(this.state.get(this.HOVER_EVENT), true)\n    }\n    if (this.state.has(this.DRAGOVER_EVENT)) {\n      this._unHover(this.state.get(this.DRAGOVER_EVENT), true)\n    }\n    if (this.dragging && this.state.get(this.DRAG_EVENT)) {\n      hvrevt = {\n        hand: this.el,\n        hovered: hoverEl,\n        carried: this.state.get(this.DRAG_EVENT)\n      }\n      hoverEl = this.findTarget(this.DRAGOVER_EVENT, hvrevt, true)\n      if (hoverEl) {\n        this.emitCancelable(this.state.get(this.DRAG_EVENT), this.DRAGOVER_EVENT, hvrevt)\n        this.state.set(this.DRAGOVER_EVENT, hoverEl)\n      }\n    }\n    // fallback to hover if not dragging or dragover wasn't successful\n    if (!this.state.has(this.DRAGOVER_EVENT)) {\n      hoverEl = this.findTarget(this.HOVER_EVENT, { hand: this.el }, true)\n      if (hoverEl) {\n        this.state.set(this.HOVER_EVENT, hoverEl)\n      }\n    }\n  },\n  /* called when controller moves out of collision range of entity */\n  unHover: function (evt) {\n    const clearedEls = evt.detail[this.data.colliderEndEventProperty]\n    if (clearedEls) {\n      if (Array.isArray(clearedEls)) {\n        clearedEls.forEach(el => this._unHover(el))\n      } else {\n        this._unHover(clearedEls)\n      }\n    }\n  },\n  /* inner unHover steps needed regardless of cause of unHover */\n  _unHover: function (el, skipNextHover) {\n    let unHovered = false\n    let evt\n    if (el === this.state.get(this.DRAGOVER_EVENT)) {\n      this.state.delete(this.DRAGOVER_EVENT)\n      unHovered = true\n      evt = {\n        hand: this.el,\n        hovered: el,\n        carried: this.state.get(this.DRAG_EVENT)\n      }\n      this.emitCancelable(el, this.UNDRAGOVER_EVENT, evt)\n      if (this.state.has(this.DRAG_EVENT)) {\n        this.emitCancelable(\n          this.state.get(this.DRAG_EVENT),\n          this.UNDRAGOVER_EVENT,\n          evt\n        )\n      }\n    }\n    if (el === this.state.get(this.HOVER_EVENT)) {\n      this.state.delete(this.HOVER_EVENT)\n      unHovered = true\n      this.emitCancelable(el, this.UNHOVER_EVENT, { hand: this.el })\n    }\n    // activate next target, if present\n    if (unHovered && !skipNextHover) {\n      this.hover()\n    }\n  },\n  unWatch: function (evt) {\n    const clearedEls = evt.detail[this.data.colliderEndEventProperty]\n    if (clearedEls) {\n      if (Array.isArray(clearedEls)) {\n        clearedEls.forEach(el => this._unWatch(el))\n      } else {\n        // deprecation path: sphere-collider\n        this._unWatch(clearedEls)\n      }\n    }\n  },\n  _unWatch: function (target) {\n    const hoverIndex = this.hoverEls.indexOf(target)\n    if (hoverIndex !== -1) {\n      this.hoverEls.splice(hoverIndex, 1)\n      this.hoverElsIntersections.splice(hoverIndex, 1)\n    }\n    this.gehDragged.forEach(dragged => {\n      this.dispatchMouseEvent(target, 'dragleave', dragged)\n      this.dispatchMouseEvent(dragged, 'dragleave', target)\n    })\n    this.dispatchMouseEvent(target, 'mouseout', this.el)\n  },\n  registerListeners: function () {\n    this.el.addEventListener(this.data.colliderEvent, this.onHit)\n    this.el.addEventListener(this.data.colliderEndEvent, this.unWatch)\n    this.el.addEventListener(this.data.colliderEndEvent, this.unHover)\n\n    // binding order to keep grabEnd from triggering dragover\n    // again before dragDropEnd can delete its carried state\n    this.data.grabStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onGrabStartButton)\n    })\n    this.data.stretchStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onStretchStartButton)\n    })\n    this.data.dragDropStartButtons.forEach(b => {\n      this.el.addEventListener(b, this.onDragDropStartButton)\n    })\n    this.data.dragDropEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onDragDropEndButton)\n    })\n    this.data.stretchEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onStretchEndButton)\n    })\n    this.data.grabEndButtons.forEach(b => {\n      this.el.addEventListener(b, this.onGrabEndButton)\n    })\n  },\n  unRegisterListeners: function (data) {\n    data = data || this.data\n    if (Object.keys(data).length === 0) {\n      // Empty object passed on initalization\n      return\n    }\n    this.el.removeEventListener(data.colliderEvent, this.onHit)\n    this.el.removeEventListener(data.colliderEndEvent, this.unHover)\n    this.el.removeEventListener(data.colliderEndEvent, this.unWatch)\n\n    data.grabStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onGrabStartButton)\n    })\n    data.grabEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onGrabEndButton)\n    })\n    data.stretchStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onStretchStartButton)\n    })\n    data.stretchEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onStretchEndButton)\n    })\n    data.dragDropStartButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onDragDropStartButton)\n    })\n    data.dragDropEndButtons.forEach(b => {\n      this.el.removeEventListener(b, this.onDragDropEndButton)\n    })\n  },\n  emitCancelable: function (target, name, detail) {\n    detail = detail || {}\n    const data = { bubbles: true, cancelable: true, detail }\n    data.detail.target = data.detail.target || target\n    const evt = new window.CustomEvent(name, data)\n    return target.dispatchEvent(evt)\n  },\n  dispatchMouseEvent: function (target, name, relatedTarget) {\n    const mEvt = new window.MouseEvent(name, { relatedTarget })\n    target.dispatchEvent(mEvt)\n  },\n  dispatchMouseEventAll: function (name, relatedTarget, filterUsed, alsoReverse) {\n    let els = this.hoverEls\n    if (filterUsed) {\n      els = els\n        .filter(el => el !== this.state.get(this.GRAB_EVENT) &&\n                el !== this.state.get(this.DRAG_EVENT) &&\n                el !== this.state.get(this.STRETCH_EVENT) &&\n                !this.gehDragged.has(el))\n    }\n    if (alsoReverse) {\n      for (let i = 0; i < els.length; i++) {\n        this.dispatchMouseEvent(els[i], name, relatedTarget)\n        this.dispatchMouseEvent(relatedTarget, name, els[i])\n      }\n    } else {\n      for (let i = 0; i < els.length; i++) {\n        this.dispatchMouseEvent(els[i], name, relatedTarget)\n      }\n    }\n  },\n  findTarget: function (evType, detail, filterUsed) {\n    let elIndex\n    let eligibleEls = this.hoverEls\n    if (filterUsed) {\n      eligibleEls = eligibleEls\n        .filter(el => el !== this.state.get(this.GRAB_EVENT) &&\n                el !== this.state.get(this.DRAG_EVENT) &&\n                el !== this.state.get(this.STRETCH_EVENT))\n    }\n    for (elIndex = eligibleEls.length - 1; elIndex >= 0; elIndex--) {\n      if (!this.emitCancelable(eligibleEls[elIndex], evType, detail)) {\n        return eligibleEls[elIndex]\n      }\n    }\n    return null\n  },\n  // Helper to ensure dropping and regrabbing finds the same target for\n  // for order-sorted hoverEls (grabbing; no-op for distance-sorted (pointing)\n  promoteHoveredEl: function (el) {\n    const hoverIndex = this.hoverEls.indexOf(el)\n    if (hoverIndex !== -1 &&\n        this.hoverElsIntersections[hoverIndex].distance == null) {\n      this.hoverEls.splice(hoverIndex, 1)\n      const sect = this.hoverElsIntersections.splice(hoverIndex, 1)\n      this.hoverEls.push(el)\n      this.hoverElsIntersections.push(sect[0])\n    }\n  }\n})\n","/* global AFRAME */\nconst buttonCore = require('./prototypes/buttons-proto.js')\nAFRAME.registerComponent('clickable', AFRAME.utils.extendDeep({}, buttonCore, {\n  schema: {\n    onclick: { type: 'string' }\n  },\n  init: function () {\n    this.CLICKED_STATE = 'clicked'\n    this.CLICK_EVENT = 'grab-start'\n    this.UNCLICK_EVENT = 'grab-end'\n    this.clickers = []\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n    this.el.addEventListener(this.CLICK_EVENT, this.start)\n    this.el.addEventListener(this.UNCLICK_EVENT, this.end)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.CLICK_EVENT, this.start)\n    this.el.removeEventListener(this.UNCLICK_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) { return }\n    this.el.addState(this.CLICKED_STATE)\n    if (this.clickers.indexOf(evt.detail.hand) === -1) {\n      this.clickers.push(evt.detail.hand)\n      if (evt.preventDefault) { evt.preventDefault() }\n    }\n  },\n  end: function (evt) {\n    const handIndex = this.clickers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (handIndex !== -1) {\n      this.clickers.splice(handIndex, 1)\n    }\n    if (this.clickers.length < 1) {\n      this.el.removeState(this.CLICKED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonCore = require('./prototypes/buttons-proto.js')\n\nAFRAME.registerComponent('drag-droppable', inherit({}, buttonCore, {\n  init: function () {\n    console.warn('Warning: drag-droppable is deprecated. Use draggable and droppable components instead')\n    this.HOVERED_STATE = 'dragover'\n    this.DRAGGED_STATE = 'dragged'\n    this.HOVER_EVENT = 'dragover-start'\n    this.UNHOVER_EVENT = 'dragover-end'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    this.hoverStart = this.hoverStart.bind(this)\n    this.dragStart = this.dragStart.bind(this)\n    this.hoverEnd = this.hoverEnd.bind(this)\n    this.dragEnd = this.dragEnd.bind(this)\n    this.dragDrop = this.dragDrop.bind(this)\n\n    this.el.addEventListener(this.HOVER_EVENT, this.hoverStart)\n    this.el.addEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.hoverEnd)\n    this.el.addEventListener(this.UNDRAG_EVENT, this.dragEnd)\n    this.el.addEventListener(this.DRAGDROP_EVENT, this.dragDrop)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.hoverStart)\n    this.el.removeEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.hoverEnd)\n    this.el.removeEventListener(this.UNDRAG_EVENT, this.dragEnd)\n    this.el.removeEventListener(this.DRAGDROP_EVENT, this.dragDrop)\n  },\n  hoverStart: function (evt) {\n    this.el.addState(this.HOVERED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragStart: function (evt) {\n    if (!this.startButtonOk(evt)) { return }\n    this.el.addState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  hoverEnd: function (evt) {\n    this.el.removeState(this.HOVERED_STATE)\n  },\n  dragEnd: function (evt) {\n    if (!this.endButtonOk(evt)) { return }\n    this.el.removeState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragDrop: function (evt) {\n    if (!this.endButtonOk(evt)) { return }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonCore = require('./prototypes/buttons-proto.js')\n\nAFRAME.registerComponent('draggable', inherit({}, buttonCore, {\n  init: function () {\n    this.DRAGGED_STATE = 'dragged'\n    this.DRAG_EVENT = 'drag-start'\n    this.UNDRAG_EVENT = 'drag-end'\n\n    this.dragStartBound = this.dragStart.bind(this)\n    this.dragEndBound = this.dragEnd.bind(this)\n\n    this.el.addEventListener(this.DRAG_EVENT, this.dragStartBound)\n    this.el.addEventListener(this.UNDRAG_EVENT, this.dragEndBound)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.DRAG_EVENT, this.dragStart)\n    this.el.removeEventListener(this.UNDRAG_EVENT, this.dragEnd)\n  },\n  dragStart: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) { return }\n    this.el.addState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  dragEnd: function (evt) {\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    this.el.removeState(this.DRAGGED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n}))\n","/* global AFRAME */\nfunction elementMatches (el, selector) {\n  if (el.matches) { return el.matches(selector) }\n  if (el.msMatchesSelector) { return el.msMatchesSelector(selector) }\n  if (el.webkitMatchesSelector) { return el.webkitMatchesSelector(selector) }\n}\nAFRAME.registerComponent('droppable', {\n  schema: {\n    accepts: { default: '' },\n    autoUpdate: { default: true },\n    acceptEvent: { default: '' },\n    rejectEvent: { default: '' }\n  },\n  multiple: true,\n  init: function () {\n    this.HOVERED_STATE = 'dragover'\n    this.HOVER_EVENT = 'dragover-start'\n    this.UNHOVER_EVENT = 'dragover-end'\n    this.DRAGDROP_EVENT = 'drag-drop'\n\n    // better for Sinon spying if original method not overwritten\n    this.hoverStartBound = this.hoverStart.bind(this)\n    this.hoverEndBound = this.hoverEnd.bind(this)\n    this.dragDropBound = this.dragDrop.bind(this)\n    this.mutateAcceptsBound = this.mutateAccepts.bind(this)\n\n    this.acceptableEntities = []\n    this.observer = new window.MutationObserver(this.mutateAcceptsBound)\n    this.observerOpts = { childList: true, subtree: true }\n\n    this.el.addEventListener(this.HOVER_EVENT, this.hoverStartBound)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.hoverEndBound)\n    this.el.addEventListener(this.DRAGDROP_EVENT, this.dragDropBound)\n  },\n  update: function () {\n    if (this.data.accepts.length) {\n      this.acceptableEntities = Array.prototype.slice.call(\n        this.el.sceneEl.querySelectorAll(this.data.accepts)\n      )\n    } else {\n      this.acceptableEntities = null\n    }\n    if (this.data.autoUpdate && this.acceptableEntities != null) {\n      this.observer.observe(this.el.sceneEl, this.observerOpts)\n    } else {\n      this.observer.disconnect()\n    }\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.hoverStartBound)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.hoverEndBound)\n    this.el.removeEventListener(this.DRAGDROP_EVENT, this.dragDropBound)\n    this.observer.disconnect()\n  },\n  mutateAccepts: function (mutations) {\n    const query = this.data.accepts\n    mutations.forEach(mutation => {\n      mutation.addedNodes.forEach(added => {\n        if (elementMatches(added, query)) {\n          this.acceptableEntities.push(added)\n        }\n      })\n    })\n  },\n  entityAcceptable: function (entity) {\n    const acceptableEntities = this.acceptableEntities\n    if (acceptableEntities == null) { return true }\n    for (const item of acceptableEntities) {\n      if (item === entity) {\n        return true\n      }\n    }\n    return false\n  },\n  hoverStart: function (evt) {\n    if (evt.defaultPrevented || !this.entityAcceptable(evt.detail.carried)) {\n      return\n    }\n    this.el.addState(this.HOVERED_STATE)\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  hoverEnd: function (evt) {\n    if (evt.defaultPrevented) { return }\n    this.el.removeState(this.HOVERED_STATE)\n  },\n  dragDrop: function (evt) {\n    if (evt.defaultPrevented) { return }\n    const dropped = evt.detail.dropped\n    if (!this.entityAcceptable(dropped)) {\n      if (this.data.rejectEvent.length) {\n        this.el.emit(this.data.rejectEvent, { el: dropped })\n      }\n      return\n    }\n    if (this.data.acceptEvent.length) {\n      this.el.emit(this.data.acceptEvent, { el: dropped })\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  }\n})\n","/* global AFRAME, THREE */\nconst inherit = AFRAME.utils.extendDeep\nconst physicsCore = require('./prototypes/physics-grab-proto.js')\nconst buttonsCore = require('./prototypes/buttons-proto.js')\n// new object with all core modules\nconst base = inherit({}, physicsCore, buttonsCore)\nAFRAME.registerComponent('sh-grabbable', inherit(base, {\n  schema: {\n    maxGrabbers: { type: 'int', default: NaN },\n    invert: { default: false },\n    suppressY: { default: false }\n  },\n  init: function () {\n    this.GRABBED_STATE = 'grabbed'\n    this.GRAB_EVENT = 'grab-start'\n    this.UNGRAB_EVENT = 'grab-end'\n    this.grabbed = false\n    this.grabbers = []\n    this.constraints = new Map()\n    this.deltaPositionIsValid = false\n    this.grabDistance = undefined\n    this.grabDirection = { x: 0, y: 0, z: -1 }\n    this.grabOffset = { x: 0, y: 0, z: 0 }\n    // persistent object speeds up repeat setAttribute calls\n    this.destPosition = { x: 0, y: 0, z: 0 }\n    this.deltaPosition = new THREE.Vector3()\n    this.targetPosition = new THREE.Vector3()\n    this.physicsInit()\n\n    this.el.addEventListener(this.GRAB_EVENT, e => this.start(e))\n    this.el.addEventListener(this.UNGRAB_EVENT, e => this.end(e))\n    this.el.addEventListener('mouseout', e => this.lostGrabber(e))\n  },\n  update: function () {\n    this.physicsUpdate()\n    this.xFactor = (this.data.invert) ? -1 : 1\n    this.zFactor = (this.data.invert) ? -1 : 1\n    this.yFactor = ((this.data.invert) ? -1 : 1) * !this.data.suppressY\n  },\n  tick: (function () {\n    const q = new THREE.Quaternion()\n    const v = new THREE.Vector3()\n\n    return function () {\n      let entityPosition\n      if (this.grabber) {\n        // reflect on z-axis to point in same direction as the laser\n        this.targetPosition.copy(this.grabDirection)\n        this.targetPosition\n          .applyQuaternion(this.grabber.object3D.getWorldQuaternion(q))\n          .setLength(this.grabDistance)\n          .add(this.grabber.object3D.getWorldPosition(v))\n          .add(this.grabOffset)\n        if (this.deltaPositionIsValid) {\n          // relative position changes work better with nested entities\n          this.deltaPosition.sub(this.targetPosition)\n          entityPosition = this.el.getAttribute('position')\n          this.destPosition.x =\n              entityPosition.x - this.deltaPosition.x * this.xFactor\n          this.destPosition.y =\n              entityPosition.y - this.deltaPosition.y * this.yFactor\n          this.destPosition.z =\n              entityPosition.z - this.deltaPosition.z * this.zFactor\n          this.el.setAttribute('position', this.destPosition)\n        } else {\n          this.deltaPositionIsValid = true\n        }\n        this.deltaPosition.copy(this.targetPosition)\n      }\n    }\n  })(),\n  remove: function () {\n    this.el.removeEventListener(this.GRAB_EVENT, this.start)\n    this.el.removeEventListener(this.UNGRAB_EVENT, this.end)\n    this.physicsRemove()\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented || !this.startButtonOk(evt)) {\n      return\n    }\n    // room for more grabbers?\n    const grabAvailable = !Number.isFinite(this.data.maxGrabbers) ||\n        this.grabbers.length < this.data.maxGrabbers\n\n    if (this.grabbers.indexOf(evt.detail.hand) === -1 && grabAvailable) {\n      if (!evt.detail.hand.object3D) {\n        console.warn('sh-grabbable entities must have an object3D')\n        return\n      }\n      this.grabbers.push(evt.detail.hand)\n      // initiate physics if available, otherwise manual\n      if (!this.physicsStart(evt) && !this.grabber) {\n        this.grabber = evt.detail.hand\n        this.resetGrabber()\n      }\n      // notify super-hands that the gesture was accepted\n      if (evt.preventDefault) { evt.preventDefault() }\n      this.grabbed = true\n      this.el.addState(this.GRABBED_STATE)\n    }\n  },\n  end: function (evt) {\n    const handIndex = this.grabbers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (handIndex !== -1) {\n      this.grabbers.splice(handIndex, 1)\n      this.grabber = this.grabbers[0]\n    }\n    this.physicsEnd(evt)\n    if (!this.resetGrabber()) {\n      this.grabbed = false\n      this.el.removeState(this.GRABBED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  resetGrabber: (function () {\n    const objPos = new THREE.Vector3()\n    const grabPos = new THREE.Vector3()\n    return function () {\n      if (!this.grabber) {\n        return false\n      }\n      const raycaster = this.grabber.getAttribute('raycaster')\n      this.deltaPositionIsValid = false\n      this.grabDistance = this.el.object3D.getWorldPosition(objPos).distanceTo(this.grabber.object3D.getWorldPosition(grabPos))\n      if (raycaster) {\n        this.grabDirection = raycaster.direction\n        this.grabOffset = raycaster.origin\n      }\n      return true\n    }\n  })(),\n  lostGrabber: function (evt) {\n    const i = this.grabbers.indexOf(evt.relatedTarget)\n    // if a queued, non-physics grabber leaves the collision zone, forget it\n    if (i !== -1 && evt.relatedTarget !== this.grabber &&\n        !this.physicsIsConstrained(evt.relatedTarget)) {\n      this.grabbers.splice(i, 1)\n    }\n  }\n}))\n","/* global AFRAME */\nAFRAME.registerComponent('hoverable', {\n  init: function () {\n    this.HOVERED_STATE = 'hovered'\n    this.HOVER_EVENT = 'hover-start'\n    this.UNHOVER_EVENT = 'hover-end'\n\n    this.hoverers = []\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n\n    this.el.addEventListener(this.HOVER_EVENT, this.start)\n    this.el.addEventListener(this.UNHOVER_EVENT, this.end)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.HOVER_EVENT, this.start)\n    this.el.removeEventListener(this.UNHOVER_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (evt.defaultPrevented) { return }\n    this.el.addState(this.HOVERED_STATE)\n    if (this.hoverers.indexOf(evt.detail.hand) === -1) {\n      this.hoverers.push(evt.detail.hand)\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  end: function (evt) {\n    if (evt.defaultPrevented) { return }\n    const handIndex = this.hoverers.indexOf(evt.detail.hand)\n    if (handIndex !== -1) {\n      this.hoverers.splice(handIndex, 1)\n    }\n    if (this.hoverers.length < 1) {\n      this.el.removeState(this.HOVERED_STATE)\n    }\n  }\n})\n","// common code used in customizing reaction components by button\nmodule.exports = (function () {\n  function buttonIsValid (evt, buttonList) {\n    return buttonList.length === 0 ||\n        buttonList.indexOf(evt.detail.buttonEvent.type) !== -1\n  }\n  return {\n    schema: {\n      startButtons: { default: [] },\n      endButtons: { default: [] }\n    },\n    startButtonOk: function (evt) {\n      return buttonIsValid(evt, this.data.startButtons)\n    },\n    endButtonOk: function (evt) {\n      return buttonIsValid(evt, this.data.endButtons)\n    }\n  }\n})()\n","// base code used by grabbable for physics interactions\nmodule.exports = {\n  schema: {\n    usePhysics: { default: 'ifavailable' }\n  },\n  physicsInit: function () {\n    this.constraints = new Map()\n  },\n  physicsUpdate: function () {\n    if (this.data.usePhysics === 'never' && this.constraints.size) {\n      this.physicsClear()\n    }\n  },\n  physicsRemove: function () {\n    this.physicsClear()\n  },\n  physicsStart: function (evt) {\n    // initiate physics constraint if available and not already existing\n    if (this.data.usePhysics !== 'never' && this.el.body &&\n        evt.detail.hand.body && !this.constraints.has(evt.detail.hand)) {\n      const newConId = Math.random().toString(36).substr(2, 9)\n      this.el.setAttribute('constraint__' + newConId, {\n        target: evt.detail.hand\n      })\n      this.constraints.set(evt.detail.hand, newConId)\n      return true\n    }\n    // Prevent manual grab by returning true\n    if (this.data.usePhysics === 'only') { return true }\n    return false\n  },\n  physicsEnd: function (evt) {\n    const constraintId = this.constraints.get(evt.detail.hand)\n    if (constraintId) {\n      this.el.removeAttribute('constraint__' + constraintId)\n      this.constraints.delete(evt.detail.hand)\n    }\n  },\n  physicsClear: function () {\n    if (this.el.body) {\n      for (const c of this.constraints.values()) {\n        this.el.body.world.removeConstraint(c)\n      }\n    }\n    this.constraints.clear()\n  },\n  physicsIsConstrained: function (el) {\n    return this.constraints.has(el)\n  },\n  physicsIsGrabbing () {\n    return this.constraints.size > 0\n  }\n}\n","/* global AFRAME, THREE */\nconst inherit = AFRAME.utils.extendDeep\nconst buttonsCore = require('./prototypes/buttons-proto.js')\n// new object with all core modules\nconst base = inherit({}, buttonsCore)\nAFRAME.registerComponent('stretchable', inherit(base, {\n  schema: {\n    usePhysics: { default: 'ifavailable' },\n    invert: { default: false },\n    physicsUpdateRate: { default: 100 }\n  },\n  init: function () {\n    this.STRETCHED_STATE = 'stretched'\n    this.STRETCH_EVENT = 'stretch-start'\n    this.UNSTRETCH_EVENT = 'stretch-end'\n    this.stretched = false\n    this.stretchers = []\n\n    this.scale = new THREE.Vector3()\n    this.handPos = new THREE.Vector3()\n    this.otherHandPos = new THREE.Vector3()\n\n    this.start = this.start.bind(this)\n    this.end = this.end.bind(this)\n\n    this.el.addEventListener(this.STRETCH_EVENT, this.start)\n    this.el.addEventListener(this.UNSTRETCH_EVENT, this.end)\n  },\n  update: function (oldDat) {\n    this.updateBodies = AFRAME.utils.throttleTick(\n      this._updateBodies,\n      this.data.physicsUpdateRate,\n      this\n    )\n  },\n  tick: function (time, timeDelta) {\n    if (!this.stretched) { return }\n    this.scale.copy(this.el.getAttribute('scale'))\n    this.stretchers[0].object3D.getWorldPosition(this.handPos)\n    this.stretchers[1].object3D.getWorldPosition(this.otherHandPos)\n    const currentStretch = this.handPos.distanceTo(this.otherHandPos)\n    let deltaStretch = 1\n    if (this.previousStretch !== null && currentStretch !== 0) {\n      deltaStretch = Math.pow(\n        currentStretch / this.previousStretch,\n        (this.data.invert)\n          ? -1\n          : 1\n      )\n    }\n    this.previousStretch = currentStretch\n    if (this.previousPhysicsStretch == null) {\n      // establish correct baseline even if throttled function isn't called\n      this.previousPhysicsStretch = currentStretch\n    }\n    this.scale.multiplyScalar(deltaStretch)\n    this.el.setAttribute('scale', this.scale)\n    // scale update for all nested physics bodies (throttled)\n    this.updateBodies(time, timeDelta)\n  },\n  remove: function () {\n    this.el.removeEventListener(this.STRETCH_EVENT, this.start)\n    this.el.removeEventListener(this.UNSTRETCH_EVENT, this.end)\n  },\n  start: function (evt) {\n    if (this.stretched || this.stretchers.includes(evt.detail.hand) ||\n        !this.startButtonOk(evt) || evt.defaultPrevented) {\n      return\n    } // already stretched or already captured this hand or wrong button\n    this.stretchers.push(evt.detail.hand)\n    if (this.stretchers.length === 2) {\n      this.stretched = true\n      this.previousStretch = null\n      this.previousPhysicsStretch = null\n      this.el.addState(this.STRETCHED_STATE)\n    }\n    if (evt.preventDefault) { evt.preventDefault() } // gesture accepted\n  },\n  end: function (evt) {\n    const stretcherIndex = this.stretchers.indexOf(evt.detail.hand)\n    if (evt.defaultPrevented || !this.endButtonOk(evt)) { return }\n    if (stretcherIndex !== -1) {\n      this.stretchers.splice(stretcherIndex, 1)\n      this.stretched = false\n      this.el.removeState(this.STRETCHED_STATE)\n      // override throttle to push last stretch to physics bodies\n      this._updateBodies()\n    }\n    if (evt.preventDefault) { evt.preventDefault() }\n  },\n  _updateBodies: function () {\n    if (!this.el.body || this.data.usePhysics === 'never') { return }\n    const currentStretch = this.previousStretch // last visible geometry stretch\n    let deltaStretch = 1\n    if (this.previousPhysicsStretch !== null && currentStretch > 0) {\n      deltaStretch = Math.pow(\n        currentStretch / this.previousPhysicsStretch,\n        (this.data.invert)\n          ? -1\n          : 1\n      )\n    }\n    this.previousPhysicsStretch = currentStretch\n    if (deltaStretch === 1) { return }\n    for (const c of this.el.childNodes) { this.stretchBody(c, deltaStretch) }\n    this.stretchBody(this.el, deltaStretch)\n  },\n  stretchBody: function (el, deltaStretch) {\n    if (!el.body) { return }\n    let physicsShape\n    let offset\n    for (let i = 0; i < el.body.shapes.length; i++) {\n      physicsShape = el.body.shapes[i]\n      if (physicsShape.halfExtents) {\n        physicsShape.halfExtents\n          .scale(deltaStretch, physicsShape.halfExtents)\n        physicsShape.updateConvexPolyhedronRepresentation()\n      } else if (physicsShape.radius) {\n        physicsShape.radius *= deltaStretch\n        physicsShape.updateBoundingSphereRadius()\n      } else if (!this.shapeWarned) {\n        console.warn('Unable to stretch physics body: unsupported shape')\n        this.shapeWarned = true\n      }\n      // also move offset to match scale change\n      offset = el.body.shapeOffsets[i]\n      offset.scale(deltaStretch, offset)\n    }\n    el.body.updateBoundingRadius()\n  }\n}))\n","/* global AFRAME */\nAFRAME.registerSystem('super-hands', {\n  init: function () {\n    this.superHands = []\n  },\n  registerMe: function (comp) {\n    // when second hand registers, store links\n    if (this.superHands.length === 1) {\n      this.superHands[0].otherSuperHand = comp\n      comp.otherSuperHand = this.superHands[0]\n    }\n    this.superHands.push(comp)\n  },\n  unregisterMe: function (comp) {\n    const index = this.superHands.indexOf(comp)\n    if (index !== -1) {\n      this.superHands.splice(index, 1)\n    }\n    this.superHands.forEach(x => {\n      if (x.otherSuperHand === comp) { x.otherSuperHand = null }\n    })\n  }\n})\n","AFRAME.registerComponent(\"vr-animate\", {\n    init: function () {\n        this.running = false;\n        // listenes for css animation and translation\n        this.el.element?.domElement.addEventListener(\"animationstart\", this.startAnimation.bind(this));\n        this.el.element?.domElement.addEventListener(\"animationend\", this.stopAnimation.bind(this));\n        this.el.element?.domElement.addEventListener(\"transitionstart\", this.startAnimation.bind(this));\n        this.el.element?.domElement.addEventListener(\"transitionend\", this.stopAnimation.bind(this));\n    },\n    tick: function () {\n        if (this.running)\n            this.el.element?.web2vr.update();\n    },\n    startAnimation: function () {\n        this.running = true;\n    },\n    stopAnimation: function () {\n        this.running = false;\n        // one final update\n        this.el.element?.web2vr.update();\n    }\n});","AFRAME.registerComponent(\"vr-border\", {\n    schema: {\n        width: { type: \"number\" },\n        color: { type: \"string\" },\n    },\n    init: function () {\n        this.running = true;\n        const plane = this.el.object3D.children[0];\n        const edges = new THREE.EdgesGeometry(plane.geometry);\n        const line = new THREE.LineSegments(edges, new THREE.LineBasicMaterial({ color: 0x000000, linewidth: this.data.width }));\n\n        this.borderObject = line;\n        this.el.element.web2vr.aframe.container.object3D.add(this.borderObject);\n\n        //maybe clippingContext inside tick?\n        if (this.el.element.clippingContext) {\n            line.material.clippingPlanes = this.el.element.clippingContext.planes;\n            line.material.needsUpdate = true;\n        }\n    },\n    update: function () {\n        // waiting for three.js(WebGL) to add lineWidth support for Windows(DirectX) browsers for now linewidth is 1 no matter what you set it.\n        // lineWidth works for other OS.\n        const borderWidth = this.data.width;\n\n        // custom element border width\n        if (this.el.element.borderWidth)\n            this.borderObject.material.linewidth = this.el.element.borderWidth;\n        else\n            this.borderObject.material.linewidth = borderWidth;\n\n        // custom element border color\n        if (this.el.element.borderColor)\n            this.borderObject.material.color = this.el.element.borderColor;\n        else\n            this.borderObject.material.color = new THREE.Color(this.data.color);\n    },\n    updateBorder: function () {\n        if (this.el.element?.visible) {\n            this.running = true;\n            this.borderObject.material.visible = true;\n        }\n        else\n            this.borderObject.material.visible = false;\n    },\n    tick: function () {\n        if (this.running) {\n            const scale = this.el.object3D.scale;\n            const plane = this.el.object3D.children[0].geometry.clone();\n            plane.scale(scale.x, scale.y, scale.z);\n            const edges = new THREE.EdgesGeometry(plane);\n            const position = this.el.object3D.position;\n\n            this.borderObject.geometry = edges;\n\n            this.borderObject.position.set(position.x, position.y, position.z + this.el.element.web2vr.settings.layerStep * 2);\n            this.running = false;\n        }\n    },\n    remove: function () {\n        this.el.element.web2vr.aframe.container.object3D.remove(this.borderObject);\n    }\n});","AFRAME.registerComponent(\"vr-grab-rotate-static\", {\n    tick: function () {\n        if (this.el.components[\"sh-grabbable\"].grabbed) {\n            // update clipping when moving\n            if (this.el.web2vr.scroll.hasScroll) {\n                for (const element of this.el.web2vr.elements)\n                    element.updateClipping();\n            }\n\n            const obj = this.el.object3D;\n            const hand = this.el.components[\"sh-grabbable\"].grabbers[0].object3D;\n\n            obj.rotation.y = Math.atan2(hand.position.x - (obj.position.x + this.el.children[0].getAttribute(\"width\") / 2), hand.position.z - obj.position.z);\n\n            //obj.rotation.x = hand.rotation.x;\n            //obj.rotation.y = hand.rotation.y;\n            //obj.rotation.z = hand.rotation.z;\n        }\n    },\n});","AFRAME.registerComponent(\"vr-renderer\", {\n    init: function () {\n        this.el.sceneEl.renderer.localClippingEnabled = true;\n    }\n});","AFRAME.registerComponent(\"vr-scrollbar\", {\n    init: function () {\n        this.el.addEventListener(\"click\", (function (evt) {\n            let scrollHeight = parseFloat(this.el.web2vr.aframe.container.firstElementChild.element.style.height) - this.el.web2vr.settings.scrollWindowHeight;\n            if (this.el.web2vr.scroll.scrollContainer == this.el.web2vr.container)\n                scrollHeight = this.el.web2vr.scroll.scrollContainer.scrollHeight - this.el.web2vr.scroll.scrollContainer.clientHeight;\n\n            const scrollY = (1 - evt.detail.intersection.uv.y) * (scrollHeight) / this.el.web2vr.settings.scale;\n            const elements = [...this.el.web2vr.elements];\n            // remove first element that is the backgorund of container\n            elements.shift();\n\n            this.el.pointer.object3D.position.setY(this.pointEndY + evt.detail.intersection.uv.y * (this.pointStartY - this.pointEndY));\n\n            for (const element of elements) {\n                element.position.scrollY = scrollY;\n            }\n            this.el.web2vr.update();\n        }).bind(this));\n    },\n    play: function () {\n        const width = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"width\"));\n        const height = parseFloat(this.el.web2vr.aframe.container.firstElementChild.getAttribute(\"height\"));\n\n        // init plane size\n        this.el.setAttribute(\"width\", width / 20);\n        this.el.setAttribute(\"height\", height);\n\n        //init scrollbar position\n        this.el.scrollbar.object3D.position.setX(width + parseFloat(this.el.getAttribute(\"width\") / 2));\n        this.el.scrollbar.object3D.position.setY(0 - height / 2); //1.96\n        this.el.scrollbar.object3D.position.setZ(-(this.el.web2vr.settings.layerStep*4));\n\n        // init pointer position and size\n        this.el.pointer.setAttribute(\"height\", width / 20);\n        this.el.pointer.setAttribute(\"width\", width / 20);\n\n        this.pointStartY = height / 2 - parseFloat(this.el.pointer.getAttribute(\"height\")) / 2;\n        this.pointEndY = this.pointStartY - height + parseFloat(this.el.pointer.getAttribute(\"height\"));\n\n        this.el.pointer.object3D.position.setY(this.pointStartY);\n        this.el.pointer.object3D.position.setZ(this.el.web2vr.settings.layerStep*2);\n    }\n\n});","!function(e){var t={};function a(d){if(t[d])return t[d].exports;var n=t[d]={i:d,l:!1,exports:{}};return e[d].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,d){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},a.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(a.r(d),Object.defineProperty(d,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)a.d(d,n,function(t){return e[t]}.bind(null,n));return d},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,\"a\",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=\"\",a(a.s=0)}([function(e,t,a){a(1),a(3);const d=a(4),n={mode:\"normal\"};n.template=new d,e.exports=window.AFK=n},function(e,t,a){const d=a(2);if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"a-keyboard\",{schema:{audio:{default:!1},color:{default:\"#fff\"},highlightColor:{default:\"#1a79dc\"},dismissable:{default:!0},font:{default:\"monoid\"},fontSize:{default:\"0.39\"},locale:{default:\"en\"},model:{default:\"\"},baseTexture:{default:\"\"},keyTexture:{default:\"\"},verticalAlign:{default:\"center\"}},init:function(){AFK.template.draw({...this.data,el:this.el}),this.attachEventListeners()},attachEventListeners:function(){window.addEventListener(\"keydown\",this.handleKeyboardPress),this.el.addEventListener(\"click\",this.handleKeyboardVR)},removeEventListeners:function(){window.removeEventListener(\"keydown\",this.handleKeyboardPress),this.el.removeEventListener(\"click\",this.handleKeyboardVR)},handleKeyboardPress:function(e){d(e)},handleKeyboardVR:function(e){d(e,\"vr\")},remove:function(){this.removeEventListeners()}})},function(e,t){e.exports=function(e,t){let a;const d=new Set([16,17,18,20,33,34,35,36,45,46,112,113,114,115,116,117,118,119,120,121,122,123]),n=e.key&&e.key.charCodeAt(0);let r=e.key,s=e.keyCode;if(\"vr\"===t)s=parseInt(document.querySelector(`#${e.target.id}`).getAttribute(\"key-code\")),r=document.querySelector(`#${e.target.id}`).getAttribute(\"value\");else if(d.has(e.keyCode))return;switch(s){case 9:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\t\"}}),document.dispatchEvent(a);break;case 8:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a);break;case 13:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\\n\"}}),document.dispatchEvent(a);break;case 16:AFK.template.toggleActiveMode(\"shift\");break;case 18:AFK.template.toggleActiveMode(\"alt\");break;case 27:this.dismissable&&(a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\"\"}}),document.dispatchEvent(a));break;case 32:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:\" \"}}),document.dispatchEvent(a);break;default:a=new CustomEvent(\"a-keyboard-update\",{detail:{code:s,value:r}}),document.dispatchEvent(a)}if(\"vr\"!==t){const t=document.querySelector(`#a-keyboard-${n}`)||document.querySelector(`#a-keyboard-${e.keyCode}`);t&&(t.dispatchEvent(new Event(\"mousedown\")),setTimeout((function(){t.dispatchEvent(new Event(\"mouseleave\"))}),80))}}},function(e,t){if(\"undefined\"==typeof AFRAME)throw new Error(\"Component attempted to register before AFRAME was available.\");AFRAME.registerComponent(\"keyboard-button\",{init:function(){const e=this.el;e.addEventListener(\"mousedown\",(function(){e.setAttribute(\"material\",\"opacity\",\"0.7\")})),e.addEventListener(\"mouseup\",()=>{e.setAttribute(\"material\",\"opacity\",this.isMouseEnter?\"0.9\":\"0\")}),e.addEventListener(\"mouseenter\",()=>{e.setAttribute(\"material\",\"opacity\",\"0.9\"),self.isMouseEnter=!0}),e.addEventListener(\"mouseleave\",()=>{e.setAttribute(\"material\",\"opacity\",\"0\"),self.isMouseEnter=!1})}})},function(e,t,a){const d=a(5);e.exports=class{constructor(){this.keyboardKeys={},this.activeMode=\"normal\"}draw(e){for(const t in e)this[t]=e[t];this.keyboardKeys=d(e.locale),this.drawKeyboard()}drawButton(e){const t=e.key,a=t.size.split(\" \")[0],d=t.size.split(\" \")[1],n=document.createElement(\"a-entity\");n.setAttribute(\"position\",e.position);const r=document.createElement(\"a-entity\");r.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d};`),this.keyTexture&&this.keyTexture.length>0?r.setAttribute(\"material\",`src: ${this.keyTexture}`):r.setAttribute(\"material\",\"color: #4a4a4a; opacity: 0.9\");const s=document.createElement(\"a-text\");s.id=`a-keyboard-${t.code}`,s.setAttribute(\"key-code\",t.code),s.setAttribute(\"value\",t.value),s.setAttribute(\"align\",\"center\"),s.setAttribute(\"baseline\",this.verticalAlign),s.setAttribute(\"position\",\"0 0 0.001\"),s.setAttribute(\"width\",this.fontSize),s.setAttribute(\"height\",this.fontSize),s.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),s.setAttribute(\"material\",`opacity: 0.0; transparent: true; color: ${this.highlightColor}`),s.setAttribute(\"color\",this.color),s.setAttribute(\"font\",this.font),s.setAttribute(\"shader\",\"msdf\"),s.setAttribute(\"negate\",\"false\"),s.setAttribute(\"keyboard-button\",!0),s.setAttribute(\"class\",\"collidable\"),n.appendChild(r),n.appendChild(s),this.el.appendChild(n)}drawKeyboard(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);if(this.keyboardKeys){const e=this.keyboardKeys[this.activeMode]||this.keyboardKeys.normal,t=document.createElement(\"a-entity\"),a=.52,d=.04*e.length+.004*(e.length-1)+.04;t.setAttribute(\"position\",`${a/2-.02} ${-d/2+.02} -0.01`),t.setAttribute(\"geometry\",`primitive: plane; width: ${a}; height: ${d}`),this.baseTexture&&this.baseTexture.length>0?t.setAttribute(\"material\",`src: ${this.baseTexture}`):t.setAttribute(\"material\",\"color: #4a4a4a; side: double; opacity: 0.7\"),this.el.appendChild(t);let n=0;for(let t=0;t<e.length;t++){const a=e[t];let d=0;for(let e=0;e<a.length;e++){const t=a[e],r=this.parseKeyObjects(t);if(!this.dismissable&&\"cancel\"===t.type)continue;const s=r.size.split(\" \")[0],l=r.size.split(\" \")[1];this.drawButton({key:r,position:`${d+s/2} ${n-l/2} 0`}),d+=parseFloat(s)+.004,a.length===e+1&&(n-=.044)}}}}toggleActiveMode(e){e===this.activeMode?(this.activeMode=\"normal\",this.drawKeyboard()):(this.activeMode=e,this.drawKeyboard())}parseKeyObjects(e){const t=e.type,a=e.value;switch(t){case\"delete\":return{size:\"0.04 0.04 0\",value:a,code:\"8\"};case\"enter\":return{size:\"0.04 0.084 0\",value:a,code:\"13\"};case\"shift\":return{size:\"0.084 0.04 0\",value:a,code:\"16\"};case\"alt\":return{size:\"0.084 0.04 0\",value:a,code:\"18\"};case\"space\":return{size:`${.2+.016} 0.04 0`,value:a,code:\"32\"};case\"cancel\":return{size:\"0.084 0.04 0\",value:a,code:\"24\"};case\"submit\":return{size:\"0.084 0.04 0\",value:a,code:\"06\"};default:return{size:\"0.04 0.04 0\",value:a,code:a.charCodeAt(0)}}}}},function(e,t,a){const d=a(6);e.exports=function(e){switch(e){case\"en\":default:return d}}},function(e,t){e.exports={name:\"ms-US-International\",normal:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"q\",type:\"standard\"},{value:\"w\",type:\"standard\"},{value:\"e\",type:\"standard\"},{value:\"r\",type:\"standard\"},{value:\"t\",type:\"standard\"},{value:\"y\",type:\"standard\"},{value:\"u\",type:\"standard\"},{value:\"i\",type:\"standard\"},{value:\"o\",type:\"standard\"},{value:\"p\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"a\",type:\"standard\"},{value:\"s\",type:\"standard\"},{value:\"d\",type:\"standard\"},{value:\"f\",type:\"standard\"},{value:\"g\",type:\"standard\"},{value:\"h\",type:\"standard\"},{value:\"j\",type:\"standard\"},{value:\"k\",type:\"standard\"},{value:\"l\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"z\",type:\"standard\"},{value:\"x\",type:\"standard\"},{value:\"c\",type:\"standard\"},{value:\"v\",type:\"standard\"},{value:\"b\",type:\"standard\"},{value:\"n\",type:\"standard\"},{value:\"m\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],shift:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"Q\",type:\"standard\"},{value:\"W\",type:\"standard\"},{value:\"E\",type:\"standard\"},{value:\"R\",type:\"standard\"},{value:\"T\",type:\"standard\"},{value:\"Y\",type:\"standard\"},{value:\"U\",type:\"standard\"},{value:\"I\",type:\"standard\"},{value:\"O\",type:\"standard\"},{value:\"P\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"A\",type:\"standard\"},{value:\"S\",type:\"standard\"},{value:\"D\",type:\"standard\"},{value:\"F\",type:\"standard\"},{value:\"G\",type:\"standard\"},{value:\"H\",type:\"standard\"},{value:\"J\",type:\"standard\"},{value:\"K\",type:\"standard\"},{value:\"L\",type:\"standard\"},{value:'\"',type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\"Z\",type:\"standard\"},{value:\"X\",type:\"standard\"},{value:\"C\",type:\"standard\"},{value:\"V\",type:\"standard\"},{value:\"B\",type:\"standard\"},{value:\"N\",type:\"standard\"},{value:\"M\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]],alt:[[{value:\"1\",type:\"standard\"},{value:\"2\",type:\"standard\"},{value:\"3\",type:\"standard\"},{value:\"4\",type:\"standard\"},{value:\"5\",type:\"standard\"},{value:\"6\",type:\"standard\"},{value:\"7\",type:\"standard\"},{value:\"8\",type:\"standard\"},{value:\"9\",type:\"standard\"},{value:\"0\",type:\"standard\"},{value:\"<-\",type:\"delete\"}],[{value:\"~\",type:\"standard\"},{value:\"`\",type:\"standard\"},{value:\"|\",type:\"standard\"},{value:\"(\",type:\"standard\"},{value:\")\",type:\"standard\"},{value:\"^\",type:\"standard\"},{value:\"_\",type:\"standard\"},{value:\"-\",type:\"standard\"},{value:\"=\",type:\"standard\"},{value:\"!\",type:\"standard\"},{value:\"Ent\",type:\"enter\"}],[{value:\"@\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"$\",type:\"standard\"},{value:\"%\",type:\"standard\"},{value:\"*\",type:\"standard\"},{value:\"[\",type:\"standard\"},{value:\"]\",type:\"standard\"},{value:\"#\",type:\"standard\"},{value:\"<\",type:\"standard\"},{value:\"?\",type:\"standard\"}],[{value:\"Shift\",type:\"shift\"},{value:\":\",type:\"standard\"},{value:\";\",type:\"standard\"},{value:\"{\",type:\"standard\"},{value:\"}\",type:\"standard\"},{value:\"/\",type:\"standard\"},{value:\"\\\\\",type:\"standard\"},{value:\">\",type:\"standard\"},{value:\"Alt\",type:\"alt\"}],[{value:\"Cancel\",type:\"cancel\"},{value:\"\",type:\"space\"},{value:\",\",type:\"standard\"},{value:\".\",type:\"standard\"},{value:\"Submit\",type:\"submit\"}]]}}]);","// https://gist.github.com/stringparser/a3b0555fd915138a0ed3 edited version from DOM2AFrame\n;[Element].forEach(function (self) {\n\n  //self.prototype.eventListenerList = {}; // shared STATIC object across all instances... NOT what we want\n  self.prototype._addEventListener = self.prototype.addEventListener;\n  self.prototype.addEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    useCapture = useCapture === void 0 ? false : useCapture;\n    var node = this;\n\n    node._addEventListener(type, handle, useCapture);\n    if (!node.eventListenerList[type]) {\n      node.eventListenerList[type] = [];\n    }\n\n    node.eventListenerList[type].push({\n      type: type,\n      handle: handle,\n      useCapture: useCapture,\n      remove: function () {\n        node.removeEventListener(\n          this.type, this.handle, this.useCapture\n        );\n        return node.eventListenerList[type];\n      }\n    });\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let addedEvent = new CustomEvent(\"eventListenerAdded\", { detail: eventDetail });\n      this.dispatchEvent(addedEvent);\n    }\n  };\n\n\n  self.prototype._removeEventListener = self.prototype.removeEventListener;\n  self.prototype.removeEventListener = function (type, handle, useCapture) {\n\n    if (!this.eventListenerList)\n      this.eventListenerList = {};\n\n    var node = this;\n    if (!node.eventListenerList[type])\n      return;\n\n    node._removeEventListener(type, handle, useCapture);\n    node.eventListenerList[type] = node.eventListenerList[type].filter(\n      function (listener) {\n        return listener && listener.handle && handle && (listener.handle.toString() !== handle.toString()); // native event listener API supports empty handles/listeners, but .toString obviously doesn't\n      }\n    )\n\n    if (node.eventListenerList[type].length === 0) {\n      delete node.eventListenerList[type];\n    }\n\n\n    if (type != \"eventListenerAdded\" && type != \"eventListenerRemoved\") {\n      let eventDetail = {\n        'type': type,\n        'handle': handle,\n        'useCapture': useCapture\n      };\n      let removedEvent = new CustomEvent(\"eventListenerRemoved\", { detail: eventDetail });\n      this.dispatchEvent(removedEvent);\n    }\n  }\n});","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__668__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default class Settings {\n    constructor() {\n        this.scale = 600;\n        this.position = { x: 0, y: 2, z: -1 }\n        this.rotation = { x: 0, y: 0, z: 0 }\n        this.layerStep = 0.0005; // z space between the layers\n\n        this.parentSelector= null;\n        this.interactiveTag = \"vr-interactable\";\n        this.ignoreTags = [\"BR\", \"SOURCE\", \"SCRIPT\", \"AUDIO\", \"NOSCRIPT\"];\n\n        this.debug = false;\n        this.showClipping = false;\n        this.forceClipping = false;\n        this.experimental = false;\n\n        this.scroll = true;\n        this.scrollWindowHeight = 800;\n        this.createControllers = true;\n        this.raycasterFar = 5;\n        this.skybox = true;\n        this.border = true;\n    }\n}                  ","import \"./components/scrollbar\";\nexport default class Scroll {\n    constructor(web2vr) {\n        this.web2vr = web2vr;\n\n        this.hasScroll = false;\n        this.scrollBody = false;\n        this.scrollContainer = null;\n        if (this.web2vr.settings.scroll) {\n            this.checkScrollbar();\n            if (this.hasScroll)\n                this.createScrollbar();\n        }\n    }\n\n    checkScrollbar() {\n        // entire body scroll\n        const body = document.scrollingElement;\n        // div container scroll\n        const container = this.web2vr.container;\n\n        if (body.scrollHeight > body.clientHeight) {\n            this.hasScroll = true;\n            this.scrollContainer = body;\n            this.scrollBody = true;\n        }\n        else if (container.element.style.overflow == \"scroll\") { //container.scrollHeight > container.clientHeight\n            this.hasScroll = true;\n            this.scrollContainer = container;\n        }\n    }\n\n    createScrollbar() {\n        this.scrollbar = document.createElement(\"a-entity\");\n\n        this.pointer = document.createElement(\"a-plane\");\n        this.pointer.setAttribute(\"material\", \"shader\", \"flat\");\n        this.pointer.setAttribute(\"color\", \"#C1C1C1\");\n\n        this.plane = document.createElement(\"a-plane\");\n        this.plane.setAttribute(\"material\", \"shader\", \"flat\");\n        this.plane.setAttribute(\"material\", \"side\", \"double\");\n        this.plane.classList.add(this.web2vr.settings.interactiveTag);\n        this.plane.setAttribute(\"color\", \"#F1F1F1\");\n        this.plane.setAttribute(\"width\", 1);\n        this.plane.setAttribute(\"vr-scrollbar\", \"\");\n\n        // pointers for scroll compoment\n        this.plane.web2vr = this.web2vr;\n        this.plane.pointer = this.pointer;\n        this.plane.scrollbar = this.scrollbar;\n\n        this.plane.appendChild(this.pointer);\n        this.scrollbar.appendChild(this.plane);\n        this.web2vr.aframe.container.appendChild(this.scrollbar);\n    }\n\n    update() {\n        // there is no need to show scrollbar if the main container is hidden\n        if (this.hasScroll) {\n            if (this.web2vr.container.element.style.visibility == \"visible\") {\n                this.scrollbar.object3D.visible = true;\n                this.plane.classList.add(this.web2vr.settings.interactiveTag);\n            }\n            else if (this.web2vr.container.element.style.visibility == \"hidden\") {\n                this.scrollbar.object3D.visible = false;\n                this.plane.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","export default class AssetManager {\n    constructor(scene) {\n        const assets = document.getElementsByTagName(\"a-assets\")[0];\n        if (assets)\n            this.assets = assets;\n        else {\n            this.assets = document.createElement(\"a-assets\");\n            scene.appendChild(this.assets);\n        }\n    }\n\n    // update current-id attribute\n    updateCurrentAssetId() {\n        let currentAssetId = parseInt(this.assets.getAttribute(\"current-id\"));\n        if (!this.assets.getAttribute(\"current-id\")) {\n            this.assets.setAttribute(\"current-id\", 0);\n            currentAssetId = 0;\n        }\n        this.assets.setAttribute(\"current-id\", currentAssetId + 1);\n    }\n    // update current-id attribute and return it.\n    // used for elements (ex. video) outside a-assets tag\n    updateCurrentAssetIdReturn(){\n        this.updateCurrentAssetId();\n        return \"asset-\"+this.assets.getAttribute(\"current-id\");\n    }\n\n    // find asset if exists if not create and return it\n    getAsset(path, type) {\n        const assets = this.assets.getChildren();\n\n        for (const asset of assets) {\n            if (asset.getAttribute(\"src\") === path)\n                return asset.getAttribute(\"id\");\n        }\n\n        return this.createAsset(path, type);\n    }\n\n    createAsset(path, type) {\n        const asset = document.createElement(type);\n        asset.setAttribute(\"src\", path);\n        this.updateCurrentAssetId();\n        const id = \"asset-\" + this.assets.getAttribute(\"current-id\");\n        asset.setAttribute(\"id\", id);\n        // have to manualy add crossorigin for all external assets to load\n        asset.setAttribute(\"crossorigin\", \"Anonymous\");\n\n        this.assets.appendChild(asset);\n        return id;\n    }\n\n    removeAsset(id) {\n        this.assets.querySelector(\"#\" + id).remove();\n    }\n}","import AssetManager from \"./assetManager\";\nimport \"./components/renderer\";\n\nexport default class AframeContext {\n    constructor(settings) {\n        this.inVR = false;\n        // settings pointer\n        this.settings = settings;\n        this.createScene();\n        // create asset manager\n        this.assetManager = new AssetManager(this.scene);\n    }\n\n    createScene() {\n        // find scene if exists else create scene\n        const scene = document.getElementsByTagName(\"a-scene\");\n        if (scene.length > 0)\n            this.scene = scene[0];\n        else {\n            this.scene = document.createElement(\"a-scene\");\n            document.body.appendChild(this.scene);\n            this.newScene = true;\n        }\n\n        // add stats to scene if debug\n        if (this.settings.debug)\n            this.scene.setAttribute(\"stats\", \"\")\n\n        //custom renderer params like local clipping\n        this.scene.setAttribute(\"vr-renderer\", \"\");\n\n        // check if in VR\n        this.scene.addEventListener(\"enter-vr\", (() => {\n            this.inVR = true;\n        }).bind(this));\n        this.scene.addEventListener(\"exit-vr\", (() => {\n            this.inVR = false;\n        }).bind(this));\n    }\n\n    createContainer(web2vr) {\n        // conttainer for all aframe elements\n        this.container = document.createElement(\"a-entity\");\n        this.container.classList.add(\"vr-container\");\n        this.container.classList.add(this.settings.interactiveTag);\n\n        // position container\n        const width = parseFloat(window.getComputedStyle(web2vr.container).width) * (1 / this.settings.scale);\n        let x = this.settings.position.x;\n        // if x=0 then then we want to be in center for testing and showcase\n        if (x == 0)\n            x = x - width / 2;\n        this.container.object3D.position.set(x, this.settings.position.y, this.settings.position.z);\n        // update rotation from aframe(1.0.4) because there is bug(rotation x will be wrong) if you update with three.js\n        this.container.setAttribute(\"rotation\", { x: this.settings.rotation.x, y: this.settings.rotation.y, z: this.settings.rotation.z });\n\n        const parentElement = document.querySelector(this.settings.parentSelector);\n        if (parentElement)\n            parentElement.appendChild(this.container);\n        else {\n            this.container.setAttribute(\"vr-grab-rotate-static\", \"\");\n            this.container.setAttribute(\"sh-grabbable\", \"\");\n            this.container.setAttribute(\"stretchable\", \"\");\n            this.scene.appendChild(this.container);\n        }\n\n        // pointer for grabRotateStatic\n        this.container.web2vr = web2vr;\n    }\n\n    createSky() {\n        // create sky if sky doesnt exist\n        if (document.getElementsByTagName(\"a-sky\").length == 0 && this.settings.skybox) {\n            this.sky = document.createElement(\"a-sky\");\n            this.sky.setAttribute(\"color\", \"#a9f8fe\");\n            this.scene.appendChild(this.sky);\n        }\n    }\n\n    createControllers() {\n        // cursor only for dev testing on desktop\n        if (!document.getElementById(\"mouseCursor\")) {\n            const cursor = document.createElement(\"a-entity\");\n            cursor.id = \"mouseCursor\";\n            cursor.setAttribute(\"cursor\", \"rayOrigin\", \"mouse\");\n            cursor.setAttribute(\"raycaster\", `objects: .${this.settings.interactiveTag}, .collidable`);\n            this.scene.appendChild(cursor);\n        }\n\n        // super hands 6DOF\n        if (this.settings.createControllers && !document.getElementById(\"leftHand\")) {\n            const raycaster = `objects: .${this.settings.interactiveTag}, .collidable; far: ${this.settings.raycasterFar}`;\n            const superhands = \"colliderEvent: raycaster-intersection; colliderEventProperty: els; colliderEndEvent:raycaster-intersection-cleared; colliderEndEventProperty: clearedEls; grabStartButtons: gripdown; grabEndButtons: gripup; stretchStartButtons: gripdown; stretchEndButtons: gripup\";\n\n            const leftHand = document.createElement(\"a-entity\");\n            leftHand.id = \"leftHand\";\n            leftHand.setAttribute(\"hand-controls\", \"hand:left; handModelStyle: highPoly; color: #ffcccc\");\n            leftHand.setAttribute(\"laser-controls\", \"\");\n            leftHand.setAttribute(\"raycaster\", raycaster);\n            leftHand.setAttribute(\"super-hands\", superhands);\n\n            const rightHand = document.createElement(\"a-entity\");\n            rightHand.id = \"rightHand\";\n            rightHand.setAttribute(\"hand-controls\", \"hand:right; handModelStyle: highPoly; color: #ffcccc\");\n            rightHand.setAttribute(\"laser-controls\", \"\");\n            rightHand.setAttribute(\"raycaster\", raycaster);\n            rightHand.setAttribute(\"super-hands\", superhands);\n\n            this.scene.appendChild(leftHand);\n            this.scene.appendChild(rightHand);\n        }\n        // keyboard\n        this.keyboard = document.getElementById(\"vr-keyboard\");\n        if (!this.keyboard) {\n            this.keyboard = document.createElement(\"a-entity\");\n            this.keyboard.id = \"vr-keyboard\";\n            this.keyboard.setAttribute(\"a-keyboard\", \"\");\n            this.keyboard.setAttribute(\"sh-grabbable\", \"\");\n            this.scene.appendChild(this.keyboard);\n            this.keyboard.object3D.visible = false;\n\n            // current active input\n            this.keyboard.activeInput = null;\n            // event listener for the keyboard key press \n            document.addEventListener('a-keyboard-update', (e) => {\n                if (this.keyboard.activeInput) {\n                    const code = parseInt(e.detail.code);\n                    let value = this.keyboard.activeInput.value;\n\n                    // backspace\n                    if (code == 8)\n                        value = value.slice(0, -1);\n                    // submit or cancel\n                    else if (code == 6 || code == 24) {\n                        this.keyboard.object3D.visible = false;\n                        this.keyboard.object3D.position.y = 10000; // because raycasting still collides with invisible objects\n                        this.keyboard.activeInput.element.active = false;\n                        this.keyboard.activeInput.element.update();\n                        this.keyboard.activeInput = null;\n                        return;\n                    }\n                    // ignore arrow keys\n                    else if (![37, 38, 39, 40].includes(code))\n                        value += e.detail.value;\n\n                    this.keyboard.activeInput.value = value;\n                    this.keyboard.activeInput.element.update();\n                }\n            });\n        }\n    }\n}","export default class Position {\n    constructor(domPosition, depth, scale) {\n        // depth = z\n        this.depth = depth;\n        this.startDepth = depth;\n        this.scale = scale;\n        this.scrollY = 0;\n        this.updatePosition(domPosition);\n    }\n\n    updatePosition(domPosition) {\n        this.domPosition = domPosition;\n        this.aframePosition = this.calculateAFramePosition(this.domPosition);\n    }\n\n    calculateAFramePosition(domPosition) {\n        // making positions be in center because dom positions are in top left\n        const aframePosition = {\n            x: domPosition.x + domPosition.width / 2,\n            y: domPosition.y + domPosition.height / 2,\n            z: this.depth\n        };\n\n        // scaling\n        aframePosition.x *= this.scalingFactor;\n        aframePosition.y *= this.scalingFactor * -1; // * -1 to match aframe y-axis\n\n        aframePosition.width = domPosition.width * this.scalingFactor;\n        aframePosition.height = domPosition.height * this.scalingFactor;\n\n        return aframePosition;\n    }\n\n    equalsDOMPosition(domPosition) {\n        return this.domPosition.top == domPosition.top && this.domPosition.bottom == domPosition.bottom && this.domPosition.left == domPosition.left && this.domPosition.right == domPosition.right;\n    }\n\n    get scalingFactor() {\n        return 1 / this.scale;\n    }\n\n    get x() {\n        return this.aframePosition.x;\n    }\n\n    get y() {\n        return this.aframePosition.y + this.scrollY;\n    }\n\n    get z() {\n        return this.aframePosition.z;\n    }\n\n    get width() {\n        return this.aframePosition.width;\n    }\n\n    get height() {\n        return this.aframePosition.height;\n    }\n\n    // vector3\n    get xyz() {\n        return { x: this.x, y: this.y, z: this.z };\n    }\n\n    get left() {\n        return { x: this.x - this.width / 2, y: this.y, z: this.z };\n    }\n\n    get right() {\n        return { x: this.x + this.width / 2, y: this.y, z: this.z };\n    }\n\n    get top() {\n        return { x: this.x, y: this.y + this.height / 2, z: this.z };\n    }\n\n    get bottom() {\n        return { x: this.x, y: this.y - this.height / 2, z: this.z };\n    }\n\n}","export default class MouseEventHandler {\n    constructor(element) {\n        this.element = element;\n        this.listeningForMouseEvents = false;\n        this.resync();\n        this.checkEntityEvents();\n    }\n\n    resync() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        const mouseProperties = [\"onclick\", \"onmouseenter\", \"onmouseleave\", \"onmousedown\", \"onmouseup\"];\n\n        let hasMouseEventRegistered = false;\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.domElement.eventListenerList && this.element.domElement.eventListenerList[mouseEvent]) {\n                hasMouseEventRegistered = true;\n                break;\n            }\n        }\n\n        let hasMouseProperty = false;\n        for (const mouseProperty of mouseProperties) {\n            if (this.element.domElement[mouseProperty]) {\n                hasMouseProperty = true;\n                break;\n            }\n        }\n\n        if (hasMouseEventRegistered || hasMouseProperty) {\n            if (!this.listeningForMouseEvents) {\n                this.addMouseListeners(mouseEvents);\n                this.listeningForMouseEvents = true;\n            }\n        }\n        // no event handlers or event properties registered, so we can safely remove our listeners\n        else if (this.listeningForMouseEvents) {\n            this.removeMouseListeners(mouseEvents);\n            this.listeningForMouseEvents = false;\n        }\n    }\n    mouseEventHandler(evt) {\n        const mouseEvent = new MouseEvent(evt.type, {\n            \"view\": window,\n            \"bubbles\": true,\n            \"cancelable\": true,\n            \"target\": this.element.domElement // maybe?\n        });\n        this.element.domElement.dispatchEvent(mouseEvent);\n    }\n\n    addMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.addEventListener(eventName, this.mouseEventHandler.bind(this))\n        })\n    }\n\n    removeMouseListeners(mouseEvents) {\n        mouseEvents.forEach(eventName => {\n            this.element.entity.removeEventListener(eventName, this.mouseEventHandler.bind(this))\n        });\n    }\n\n    // for hover and input element\n    checkEntityEvents() {\n        const mouseEvents = [\"click\", \"mouseenter\", \"mouseleave\", \"mousedown\", \"mouseup\"];\n        for (const mouseEvent of mouseEvents) {\n            if (this.element.entity.eventListenerList && this.element.entity.eventListenerList[mouseEvent]) {\n                this.listeningForMouseEvents = true;\n                break;\n            }\n        }\n    }\n}","import Position from \"../utils/position\";\nimport MouseEventHandler from \"../utils/mouseEventHandler\";\n\nexport default class Element {\n    constructor(web2vr, domElement, layer) {\n        this.web2vr = web2vr;\n        this.domElement = domElement;\n        this.layer = layer;\n        this.domElement.element = this; // so we can do domeElement.parentNode.element\n        this.childElements = new Set();\n\n        this.entity = null; // aframe entity this null becasue Element class is abstract\n        this.visible = true;\n        if (this.domElement.classList.contains(\"vr-span\"))\n            this.paddingToMargin();\n        this.position = new Position(this.domElement.getBoundingClientRect(), layer * this.web2vr.settings.layerStep, web2vr.settings.scale);\n        this.style = window.getComputedStyle(this.domElement);\n        this.parentTransform = \"none\";\n        this.needsStartingTransformSize = true;\n        this.initComplete = false;\n    }\n\n    // call after entity is created in inheriting class\n    initEventHandlers() {\n        this.initHover();\n\n        // setting up MouseEventHandler\n        this.mouseEventHandle = new MouseEventHandler(this);\n\n        // dynamic listeners\n        this.domElement.addEventListener(\"eventListenerAdded\", () => this.mouseEventHandle.resync());\n        this.domElement.addEventListener(\"eventListenerRemoved\", () => this.mouseEventHandle.resync());\n    }\n\n    // add animation compoment if dom element has animation\n    checkAnimation() {\n        if (parseFloat(this.style.animationDuration) || parseFloat(this.style.transitionDuration))\n            this.entity.setAttribute(\"vr-animate\", \"\");\n        else\n            this.entity.removeAttribute(\"vr-animate\");\n    }\n\n    initHover() {\n        // find what has hover\n        let tag = null;\n        if (this.web2vr.hoverSelectors.has(this.domElement.tagName.toLowerCase()))\n            tag = this.domElement.tagName.toLowerCase();\n        let classes = [];\n        for (const cls of this.domElement.classList) {\n            if (this.web2vr.hoverSelectors.has(\".\" + cls))\n                classes.push(cls);\n        }\n        let id = null;\n        if (this.web2vr.hoverSelectors.has(\"#\" + this.domElement.id))\n            id = this.domElement.id;\n\n        // add mouseenter and mouseleave if element has hover.\n        if (tag || classes.length > 0 || id) {\n            this.entity.addEventListener(\"mouseenter\", () => {\n                if (tag)\n                    this.domElement.classList.add(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.add(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.add(id + \"hover\");\n                // this is only for hover transform. Update all elements when transform gets added\n                if (this.style.transform != \"none\") {\n                    this.web2vr.update();\n                    this.hoverTransform = true;\n                }\n\n            });\n            this.entity.addEventListener(\"mouseleave\", () => {\n                if (tag)\n                    this.domElement.classList.remove(tag + \"hover\");\n                if (classes.length > 0)\n                    for (const cls of classes)\n                        this.domElement.classList.remove(cls + \"hover\");\n                if (id)\n                    this.domElement.classList.remove(id + \"hover\");\n                if (this.hoverTransform) {\n                    this.position.depth = this.position.startDepth;\n                    for (const element of this.domElement.querySelectorAll('*')) {\n                        if (element.element) {\n                            element.element.parentTransform = \"none\";\n                            element.element.position.depth = element.element.position.startDepth;\n                        }\n                    }\n                }\n            });\n        }\n    }\n\n    // getBoundingClientRect works great with margin while with padding it has problems with paddingRight that needs to be manualy calculated and set\n    // because dealing with paddingRight is problematic we can make the padding be margin for the textNode(vr-span)\n    paddingToMargin() {\n        // only if element has text\n        if (this.domElement.textContent.trim()) {\n            //const left = this.domElement.parentElement.element.style.paddingLeft;\n            const right = this.domElement.parentElement.element.style.paddingRight;\n            //const top = this.domElement.parentElement.element.style.paddingTop;\n            //const bottom = this.domElement.parentElement.element.style.paddingBottom;\n\n            /*if (parseFloat(left)) {\n                this.domElement.style.marginLeft = left;\n                this.domElement.parentElement.style.paddingLeft = \"0px\";\n            }*/\n            if (parseFloat(right)) {\n                this.domElement.style.marginRight = right;\n                this.domElement.parentElement.style.paddingRight = \"0px\";\n            }\n            /*if (parseFloat(top)) {\n                this.domElement.style.marginTop = top;\n                //this.domElement.parentElement.style.paddingTop = \"0px\";\n            }\n            if (parseFloat(bottom)) {\n                this.domElement.style.marginBottom = bottom;\n                //this.domElement.parentElement.style.paddingBottom = \"0px\";\n            }*/\n        }\n    }\n\n    init() {\n        // reference of the element for aframe compoment\n        this.entity.element = this;\n\n        // dont need light to affect material\n        this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n\n        //init sizes at start\n        this.entity.setAttribute(\"width\", this.position.width);\n        this.entity.setAttribute(\"height\", this.position.height);\n\n        this.initEventHandlers();\n\n        this.setupClipping();\n        this.finalizeInit();\n    }\n\n    finalizeInit() {\n        this.initComplete = true;\n        this.domElement.dispatchEvent(new Event('initComplete'));\n    }\n\n    update() {\n        if (!this.initComplete) {\n            // Try again later.\n            this.domElement.addEventListener(new Event('initComplete'), () => this.update());\n            return;\n        }\n        const clientRect = this.domElement.getBoundingClientRect();\n\n        // its not on the screen\n        if (clientRect.width == 0 || clientRect.height == 0) {\n            this.entity.object3D.visible = false;\n            if (!this.domElement.classList.contains(\"vr-span\"))\n                this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n            return;\n        }\n\n        // for future move this in TextElement class\n        if (this.domElement.classList.contains(\"vr-span\")) {\n            // dont need interaction with the text when we always have the background as interaction\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            // so all inline text width is good, dont do this if its text inside button\n            if (this.domElement.parentElement.tagName != \"BUTTON\") {\n                clientRect.width += 8;\n                clientRect.x -= 2;\n            }\n        }\n\n        // set fixed container height if its using scrollBody, best is to move this code outside update loop for future\n        if (this.web2vr.scroll?.hasScroll && this.domElement == this.web2vr.container && this.web2vr.scroll?.scrollBody)\n            clientRect.height = this.web2vr.settings.scrollWindowHeight;\n        this.position.updatePosition(clientRect);\n\n        this.checkVisible();\n        if (this.visible) {\n            this.style = window.getComputedStyle(this.domElement);\n\n            // its on visible screen but its hidden by style\n            if (this.style.visibility === \"hidden\" || this.style.display === \"none\") {\n                this.entity.object3D.visible = false;\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n                this.position.aframePosition.y = 1000; // for some reason raycast still hits so have to move position\n                // update border so we can remove it because element is hidden\n                this.updateBorder();\n                return;\n            }\n            else {\n                this.entity.object3D.visible = true;\n                // for input text because it has custom event for entity it cannot detect with this.mouseEventHandle.listeningForMouseEvents\n                // we have to check tagName and type to see if its input text, for future make this work with mouseEventHandle\n                // also add interactiveTag if its main container\n                if ((!this.domElement.classList.contains(\"vr-span\") && (this.mouseEventHandle.listeningForMouseEvents || (this.domElement.tagName == \"INPUT\" && this.domElement.type == \"text\")) || this.domElement == this.web2vr.container))\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n\n            // if there is transform then width and height will be set with the transform matrix scale\n            // using needsStartingTransformSize so width and height are never 0 when doing transform scale\n            if (this.style.transform == \"none\" || this.needsStartingTransformSize) {\n                this.entity.setAttribute(\"width\", this.position.width);\n                this.entity.setAttribute(\"height\", this.position.height);\n            }\n\n            this.checkAnimation();\n\n            const opacity = this.style.opacity;\n            this.entity.setAttribute(\"opacity\", opacity);\n\n            this.specificUpdate();\n            this.updateTransform();\n            this.updateClipping();\n        }\n        this.updateBorder();\n    }\n\n    updateTransform() {\n\n        let transform = this.style.transform;\n        if (transform == \"none\")\n            transform = this.parentTransform;\n        else {\n            // give transform to all descendents\n            for (const element of this.domElement.querySelectorAll('*')) {\n                if (element.element)\n                    element.element.parentTransform = transform;\n            }\n        }\n\n        if (transform != \"none\") {\n            this.needsStartingTransformSize = false;\n            const matrixType = transform.split('(')[0];\n            // get matrix values in float\n            let values = transform.split('(')[1];\n            values = values.split(')')[0];\n            values = values.split(',');\n            values = values.map(v => parseFloat(v));\n            let matrix = null;\n\n            if (matrixType == \"matrix\") {\n                // transform to matrix4x4 and invert skewX to match three.js\n                matrix = new THREE.Matrix4().fromArray([values[0], values[1], 0, 0, -values[2], values[3], 0, 0, 0, 0, 1, 0, values[4], values[5], 0, 1]);\n            }\n            else if (matrixType == \"matrix3d\") {\n                // invert skewX and skewZ? to match three.js\n                values[4] *= -1;\n                values[9] *= -1;\n                matrix = new THREE.Matrix4().fromArray(values);\n            }\n            const position = new THREE.Vector3();\n            const quaternion = new THREE.Quaternion();\n            const scale = new THREE.Vector3();\n            matrix.decompose(position, quaternion, scale);\n\n            // position\n            this.position.domPosition.x += position.x;\n            this.position.domPosition.y += position.y;\n            if (position.z != 0)\n                this.position.depth = position.z * this.position.scalingFactor + this.position.startDepth;\n\n            // rotation\n            this.entity.object3D.rotation.setFromRotationMatrix(matrix);\n\n            // calcualte scale and set it to entity\n            if (this.parentTransform == \"none\") {\n                const elements = matrix.elements;\n                const scaleX = Math.sqrt(elements[0] * elements[0] + elements[1] * elements[1]);\n                const scaleY = Math.sqrt(elements[5] * elements[5] + elements[4] * elements[4]);\n                // for radio scale is 2 times smaller because its circle, for some rason checkbox scale needs to be in half else its too big\n                if (this.domElement.tagName == \"INPUT\" && (this.domElement.type == \"radio\" || this.domElement.type == \"checkbox\"))\n                    this.entity.object3D.scale.set(scaleX / 2, scaleY / 2, 1);\n                else\n                    this.entity.object3D.scale.set(scaleX, scaleY, 1);\n            }\n        }\n        this.entity.object3D.position.set(this.position.x, this.position.y, this.position.z);\n    }\n\n    // abstract method\n    specificUpdate() {\n\n    }\n\n    updateBorder() {\n        if (this.web2vr.settings.border) {\n            // using borderTopWidth and borderTopColor because borderWidth and borderColor doesnt work in firefox\n            const borderWidth = parseFloat(this.style.borderTopWidth);\n            if ((borderWidth || this.borderWidth) && this.entity.object3D.visible) {\n                this.entity.setAttribute(\"vr-border\", `width:${borderWidth}; color:${this.style.borderTopColor};`);\n                this.entity.components[\"vr-border\"].updateBorder();\n            }\n            else if (this.entity.components[\"vr-border\"])\n                this.entity.removeAttribute(\"vr-border\");\n        }\n    }\n\n    rotateNormal(normal) {\n        const normalMatrix = new THREE.Matrix3().getNormalMatrix(this.web2vr.aframe.container.object3D.matrixWorld);\n        const output = normal.clone().applyMatrix3(normalMatrix).normalize();\n        return output;\n    }\n\n    getClippingContext() {\n        let output = null;\n\n        if (this.domElement.parentNode && this.domElement.parentNode.element && this.domElement.parentNode.element.clippingContext)\n            output = this.domElement.parentNode.element.clippingContext;\n        else {\n            if ((this.style.overflow && this.style.overflow == \"hidden\") || (this.web2vr.scroll?.hasScroll && this.domElement == this.web2vr.container) || (this.web2vr.settings.forceClipping && this.domElement == this.web2vr.container)) {\n                // ignore if its svg\n                if (this.domElement.tagName != \"svg\") {\n                    let clippingContext = {};\n                    clippingContext.authority = this;\n\n                    clippingContext.bottom = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, 1, 0))); // normal up\n                    clippingContext.top = new THREE.Plane(this.rotateNormal(new THREE.Vector3(0, -1, 0))); // normal down\n                    clippingContext.left = new THREE.Plane(this.rotateNormal(new THREE.Vector3(1, 0, 0))); // normal right\n                    clippingContext.right = new THREE.Plane(this.rotateNormal(new THREE.Vector3(-1, 0, 0))); // normal left\n\n                    clippingContext.planes = [clippingContext.bottom, clippingContext.top, clippingContext.left, clippingContext.right];\n\n                    output = clippingContext;\n                }\n            }\n        }\n        return output;\n    }\n\n    setupClipping() {\n        const clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            // we are sure the renderer is loaded\n            const object3D = this.entity.object3D;\n            if (!object3D || !object3D.children || !object3D.children.length > 0 || !object3D.children[0].material) {\n                return;\n            }\n\n            const material = object3D.children[0].material;\n            material.clippingPlanes = clippingContext.planes;\n\n            //this.updateClipping();\n            setTimeout(() => { this.updateClipping(); }, 200); // if it doesnt work use this\n            // return new Promise();\n        }\n    }\n\n    updateClipping() {\n        // only element with authority can change the clipping planes position\n        if (!this.clippingContext || this.clippingContext.authority != this)\n            return;\n\n        const position = this.entity.object3D.position;\n\n        const bottomLocal = position.clone().add((new THREE.Vector3(0, -1, 0)).multiplyScalar(this.position.height / 2));\n        const topLocal = position.clone().add((new THREE.Vector3(0, 1, 0)).multiplyScalar(this.position.height / 2));\n        const leftLocal = position.clone().add((new THREE.Vector3(-1, 0, 0)).multiplyScalar(this.position.width / 2));\n        const rightLocal = position.clone().add((new THREE.Vector3(1, 0, 0)).multiplyScalar(this.position.width / 2));\n\n        const bottomGlobal = this.web2vr.aframe.container.object3D.localToWorld(bottomLocal.clone());\n        const topGlobal = this.web2vr.aframe.container.object3D.localToWorld(topLocal.clone());\n        const leftGlobal = this.web2vr.aframe.container.object3D.localToWorld(leftLocal.clone());\n        const rightGlobal = this.web2vr.aframe.container.object3D.localToWorld(rightLocal.clone());\n\n        this.clippingContext.bottom.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, 1, 0)), bottomGlobal).normalize();\n        this.clippingContext.top.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(0, -1, 0)), topGlobal).normalize();\n        this.clippingContext.left.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(1, 0, 0)), leftGlobal).normalize();\n        this.clippingContext.right.setFromNormalAndCoplanarPoint(this.rotateNormal(new THREE.Vector3(-1, 0, 0)), rightGlobal).normalize();\n\n        if (this.web2vr.settings.showClipping) {\n            if (!this.clippingPlaneHelpers) {\n                this.clippingPlaneHelpers = [];\n\n                for (const plane of this.clippingContext.planes) {\n                    const material = new THREE.MeshBasicMaterial({ color: 0x00e33d, side: THREE.DoubleSide });\n                    const geometry = new THREE.PlaneGeometry(200 * this.position.scalingFactor, 200 * this.position.scalingFactor); // no need same width and height as container because this is only for debugging\n                    const mesh = new THREE.Mesh(geometry, material);\n\n                    mesh.debugPlane = plane;\n                    this.clippingPlaneHelpers.push(mesh);\n\n                    const axisHelper = new THREE.AxesHelper(5);\n                    mesh.add(axisHelper);\n                }\n\n                for (const helper of this.clippingPlaneHelpers) {\n                    this.web2vr.aframe.scene.object3D.add(helper);\n                }\n            }\n            for (const mesh of this.clippingPlaneHelpers) {\n                mesh.visible = true;\n\n                const worldPos = new THREE.Vector3();\n                this.entity.object3D.getWorldPosition(worldPos);\n                const point = new THREE.Vector3();\n                mesh.debugPlane.projectPoint(worldPos, point);\n                mesh.position.set(point.x, point.y, point.z);\n\n                // clipping plane normals are inverted, we multiply by -1\n                const focalPoint = point.clone().add(mesh.debugPlane.normal.clone().multiplyScalar(-1));\n                mesh.lookAt(focalPoint);\n            }\n\n        }\n        else {\n            if (this.clippingPlaneHelpers) {\n                for (const mesh of this.clippingPlaneHelpers)\n                    mesh.visible = false;\n            }\n        }\n    }\n\n    checkVisible() {\n        if (this.clippingContext) {\n            const container = this.clippingContext.authority;\n            if (this.position.bottom.y > container.position.top.y || this.position.top.y < container.position.bottom.y) {\n                this.visible = false;\n                this.entity.object3D.visible = false;\n                // remove interactive tag\n                if (!this.domElement.classList.contains(\"vr-span\"))\n                    this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n            }\n            else {\n                this.visible = true;\n                this.entity.object3D.visible = true;\n                // interactive tag so we can do raycasting if it has mouse events or its container background\n                if ((!this.domElement.classList.contains(\"vr-span\") && this.mouseEventHandle.listeningForMouseEvents) || this.domElement == this.web2vr.container)\n                    this.entity.classList.add(this.web2vr.settings.interactiveTag);\n            }\n        }\n    }\n}","export default class Helper {\n    static isUrl(string) {\n        const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n        return regexp.test(string);\n    }\n\n    static clamp(value, min, max) {\n        return Math.min(max, Math.max(min, value));\n    }\n}","import Element from \"./element\";\nimport Helper from \"../utils/helper\";\n\nexport default class ContainerElement extends Element {\n    constructor(web2vr, domElement, layer, textOnly = false) {\n        super(web2vr, domElement, layer);\n        this.textOnly = textOnly;\n        this.entity = document.createElement(\"a-plane\");\n\n        // if hyperlink trigger a click event\n        if (this.domElement.tagName == \"A\") {\n            this.entity.addEventListener(\"click\", () => { console.log(\"Link clicked!\", this.domElement.click()); });\n        }\n\n        if (!this.textOnly) {\n            // show back plane for the main container\n            if (this.domElement == this.web2vr.container)\n                this.entity.setAttribute(\"material\", \"side\", \"double\");\n\n            // only needed for experimental background\n            this.expImageId = null;\n            this.oldBackgroundImage = null;\n            this.oldDomPosition = null;\n        }\n    }\n\n    specificUpdate() {\n        if (!this.textOnly) {\n            const backgroundColor = this.style.backgroundColor;\n            let backgroundImage = this.style.backgroundImage; // to get 1:1 as html have to use background-size: cover; or use experimental\n\n            if (backgroundImage != \"none\") {\n                // cannot use animations that require update to be called every frame. html2canvas is very performance heavy.\n                if (this.web2vr.settings.experimental) {\n                    if ((backgroundImage != this.oldBackgroundImage || (this.oldDomPosition && !this.position.equalsDOMPosition(this.oldDomPosition)))) {\n                        let id = this.domElement.id;\n                        let customId = false;\n                        if (!id) {\n                            customId = true;\n                            id = \"html2canvas-\" + this.web2vr.html2canvasIDcounter++;\n                            this.domElement.id = id;\n                        }\n\n                        html2canvas(this.domElement, {\n                            onclone: (clone) => {\n                                const style = document.createElement('style');\n\n                                clone.head.appendChild(style);\n                                // ignoring opacity because we use opacity from aframe\n                                style.sheet.insertRule(`\n                    #${id} {\n                        opacity: 1;\n                    }`);\n                                // hide the text\n                                style.sheet.insertRule(`\n                    #${id} {\n                        color: transparent;\n                    }`);\n                                // hide the children elements\n                                style.sheet.insertRule(`\n                    #${id} > * {\n                        display:none\n                    }`);\n                                // vr-span has to be block so it can render properly\n                                style.sheet.insertRule(`\n                    #${id} > .vr-span {\n                        display:block\n                    }`);\n                                if (customId)\n                                    this.domElement.removeAttribute(\"id\");\n                            }\n                        }).then(canvas => {\n                            if (this.expImageId)\n                                this.web2vr.aframe.assetManager.removeAsset(this.expImageId);\n                            this.expImageId = this.web2vr.aframe.assetManager.getAsset(canvas.toDataURL(), \"img\");\n                            this.entity.setAttribute(\"material\", \"src: #\" + this.expImageId);\n                        });\n                        this.oldBackgroundImage = backgroundImage;\n                    }\n                }\n                else if (Helper.isUrl(backgroundImage)) {\n                    // remove url(\"\")\n                    backgroundImage = backgroundImage.substring(backgroundImage.lastIndexOf('(\\\"') + 2, backgroundImage.lastIndexOf('\\\")'));\n                    this.entity.setAttribute(\"material\", \"src: #\" + this.web2vr.aframe.assetManager.getAsset(backgroundImage, \"img\"));\n                    // transparent images support\n                    this.entity.setAttribute(\"material\", \"transparent\", true);\n                }\n            }\n            else {\n                // if there is no backgroundColor dont renders\n                if (backgroundColor == \"rgba(0, 0, 0, 0)\") {\n                    this.entity.setAttribute(\"material\", \"visible\", false);\n                }\n                else {\n                    this.entity.setAttribute(\"material\", \"visible\", true);\n                    this.entity.setAttribute(\"color\", backgroundColor);\n                    this.updateOpacity();\n                }\n            }\n            this.oldDomPosition = this.position.domPosition;\n        }\n    }\n\n    updateOpacity() {\n        const alpha = parseFloat(this.style.backgroundColor.split(',')[3]);\n        // calculate final alpha channel result\n        if (alpha) {\n            let a = alpha;\n            let b = this.style.opacity;\n            if (a < b) {\n                b = alpha;\n                a = this.style.opacity;\n            }\n            this.entity.setAttribute(\"opacity\", a - (a - b));\n        }\n    }\n}","import ContainerElement from \"./containerElement\";\n\nexport default class TextElement extends ContainerElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer, false);\n\n        this.entity.setAttribute(\"text\", \"value\", \"\");\n        this.textValue = null;\n    }\n\n    setupClipping() {\n        let clippingContext = this.getClippingContext();\n\n        if (clippingContext) {\n            this.clippingContext = clippingContext;\n\n            let material = this.entity.components.text.material;\n\n            // text component uses custom shader so default three.js clipping doesnt work, needed to inject clipping shader code inside the custom shader code(RawShaderMaterial)\n            // help from https://stackoverflow.com/questions/42532545/add-clipping-to-three-shadermaterial\n            // 1.1.0 version changes: Because Aframe 1.1.0 changes text material shader to use webgl 2(glsl 3) some of the three.js ShaderChunk had to be converted to glsl 3.\n            const fragmentShader = `#version 300 es\n            precision highp float;\n            uniform bool negate;\n            uniform float alphaTest;\n            uniform float opacity;\n            uniform sampler2D map;\n            uniform vec3 color;\n            in vec2 vUV;\n            out vec4 fragColor;\n            float median(float r, float g, float b) {\n                return max(min(r, g), min(max(r, g), b));\n            }\n            #define BIG_ENOUGH 0.001\n            #define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)\n            \n            // clipping_planes_pars_fragment converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n                in vec3 vClipPosition;\n                uniform vec4 clippingPlanes[NUM_CLIPPING_PLANES];\n            #endif\n            \n            void main() {\n                // compatible with glsl 3\n                #include <clipping_planes_fragment>\n\n                vec3 sampleColor = texture(map, vUV).rgb;\n                if (negate) { sampleColor = 1.0 - sampleColor; }\n                float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;\n                float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);\n                float dscale = 0.353505;\n                vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));\n                float isBigEnough = max(abs(duv.x), abs(duv.y));\n                // Do modified alpha test.\n                if (isBigEnough > BIG_ENOUGH) {\n                    float ratio = BIG_ENOUGH / isBigEnough;\n                    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);\n                }\n                // Do modified alpha test.\n                if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }\n                fragColor = vec4(color.xyz, alpha * opacity);\n            }`;\n\n            const vertexShader = `#version 300 es\n            in vec2 uv;\n            in vec3 position;\n            uniform mat4 projectionMatrix;\n            uniform mat4 modelViewMatrix;\n            out vec2 vUV;\n\n            // clipping_planes_pars_vertex converted to glsl 3\n            #if NUM_CLIPPING_PLANES > 0\n\t            out vec3 vClipPosition;\n            #endif\n\n            void main(void) {\n                // compatible with glsl 3\n                #include <begin_vertex>\n\n                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                vUV = uv;\n\n                // compatible with glsl 3\n                #include <project_vertex>\n                #include <clipping_planes_vertex>\n\n            }`;\n\n            material.fragmentShader = fragmentShader;\n            material.vertexShader = vertexShader;\n            material.clipping = true;\n            material.clippingPlanes = clippingContext.planes;\n\n            this.updateClipping();\n        }\n    }\n\n    updateTextAlignment() {\n        // align css text-align to text component\n        let align = this.style.textAlign;\n        if (![\"left\", \"right\", \"center\"].includes(align))\n            align = \"left\";\n        this.entity.setAttribute(\"text\", \"align\", align);\n\n        // set text lineHeight if it has custom css lineHeight\n        const text = this.entity.components.text;\n        if (this.style.lineHeight != \"normal\" && (typeof text.currentFont != \"undefined\")) {\n            this.entity.setAttribute(\"text\", \"lineHeight\", text.currentFont.common.lineHeight + parseFloat(this.style.lineHeight));\n        }\n    }\n\n    updateTextSize() {\n        const actualFontSize = parseFloat(this.style.fontSize);\n        const width = this.position.width;\n\n        const widthInPixels = width / this.position.scalingFactor;\n        let wrapPixels = widthInPixels * 42 / actualFontSize;\n        wrapPixels *= 1.107; //1.10706774183070233\n        this.entity.setAttribute(\"text\", \"wrapPixels\", wrapPixels);\n        this.entity.setAttribute(\"text\", \"width\", width);\n    }\n\n    updateTextColor() {\n        // opacity from parent because it doesnt pass it to children\n        const opacity = this.domElement.parentElement.element.style.opacity;\n        this.entity.setAttribute(\"text\", \"opacity\", opacity);\n\n        const textColor = this.style.color;\n        this.entity.setAttribute(\"text\", \"color\", textColor);\n    }\n\n    updateText() {\n        // remove new lines and whitespaces\n        this.textValue = this.domElement.textContent.replace(/\\s{2,}/g, ' ');\n    }\n\n    specificUpdate() {\n        super.specificUpdate();\n\n        this.updateTextSize();\n        this.updateTextAlignment();\n        this.updateText();\n        this.entity.setAttribute(\"text\", \"value\", this.textValue);\n        this.updateTextColor();\n    }\n}","import Element from \"./element\";\n\nexport default class ImageElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.currentSrc = null;\n        this.changed = false;\n        this.entity = document.createElement(\"a-image\");\n        this.entity.setAttribute(\"material\", \"side\", \"front\");\n        // know when image is loaded\n        this.loaded = false;\n        this.domElement.addEventListener(\"load\", () => {\n            this.loaded = true;\n            // if image changed update all after image loaded\n            if (this.changed) {\n                this.changed = false;\n                this.web2vr.update();\n            }\n        });\n    }\n    updateImage(src) {\n        const assetID = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetID);\n\n        const isGif = /\\.(gif)$/i;\n        if (isGif.test(src)) {\n            this.entity.setAttribute(\"material\", \"shader\", \"gif\");\n            this.entity.setAttribute(\"material\", \"src\", \"#\" + assetID);\n        }\n        else {\n            this.entity.setAttribute(\"material\", \"shader\", \"flat\");\n            this.entity.setAttribute(\"src\", \"#\" + assetID);\n        }\n    }\n\n    specificUpdate() {\n        const src = this.domElement.getAttribute(\"src\");\n        if (src != this.currentSrc) {\n            if (this.currentSrc) {\n                this.loaded = false;\n                this.changed = true;\n            }\n            this.currentSrc = src;\n            this.updateImage(this.currentSrc);\n        }\n    }\n}\n\n// TODO: No need to save image copy in assets you can directly read it from the orignal","import Element from \"./element\";\n\nexport default class VideoElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        // normal video\n        this.entity = document.createElement(\"a-video\");\n        // 360 video\n        this.video360 = document.createElement(\"a-videosphere\");\n        this.web2vr.aframe.scene.appendChild(this.video360);\n\n        this.createClickEvent();\n\n        this.domElement.addEventListener(\"play\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.play();\n        });\n\n        this.domElement.addEventListener(\"pause\", () => {\n            if (this.domElement.hasAttribute(\"vr\"))\n                this.video360.components.material.material.map.image.pause();\n        });\n    }\n\n    createClickEvent() {\n        // for normal video\n        this.domElement.addEventListener(\"click\", () => {\n            this.domElement.paused ? this.domElement.play() : this.domElement.pause();\n        });\n    }\n\n    specificUpdate() {\n        const src = this.domElement.currentSrc;\n        let id = this.domElement.id;\n\n        // if there is no video id generate new id\n        if(!id){\n            id = this.web2vr.aframe.assetManager.updateCurrentAssetIdReturn();\n            this.domElement.id = id;\n        }\n\n        if (this.domElement.hasAttribute(\"vr\")) {\n            this.video360.object3D.visible = true;\n            this.video360.classList.add(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = false;\n            this.entity.classList.remove(this.web2vr.settings.interactiveTag);\n\n            this.video360.setAttribute(\"src\", \"#\" + id);\n            // set video360 rotation\n            const rotation = this.domElement.getAttribute(\"vr\");\n            if (rotation)\n                this.video360.object3D.rotation.y = THREE.Math.degToRad(rotation);\n            else\n                this.video360.object3D.rotation.y = 0;\n        }\n        else {\n            this.video360.object3D.visible = false;\n            this.video360.classList.remove(this.web2vr.settings.interactiveTag);\n            this.entity.object3D.visible = true;\n            this.entity.classList.add(this.web2vr.settings.interactiveTag);\n\n            this.entity.setAttribute(\"src\", \"#\" + id);\n        }\n    }\n}","import Element from \"./element\";\n\nexport default class CheckBoxElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-plane\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.specificUpdate();\n        }).bind(this))\n    }\n\n    specificUpdate() {\n        if (this.domElement.checked)\n            this.entity.setAttribute(\"color\", \"#0075FF\");\n        else\n            this.entity.setAttribute(\"color\", \"#FFFFFF\");\n    }\n}","import Element from \"./element\";\n\nexport default class RadioElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.entity = document.createElement(\"a-circle\");\n        this.domElement.addEventListener(\"click\", (() => {\n            this.web2vr.update();\n        }).bind(this));\n    }\n\n    specificUpdate() {\n        this.entity.setAttribute(\"radius\", this.position.width / 2);\n        \n            if (this.domElement.checked)\n                this.entity.setAttribute(\"color\", \"#0075FF\");\n            else\n                this.entity.setAttribute(\"color\", \"#FFFFFF\");\n        }\n    }","import TextElement from \"./textElement\";\n\nexport default class InputElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n        this.active = false;\n\n        // update when there is change of value\n        this.domElement.addEventListener(\"input\", () => this.update());\n        // when clicked make it active input for the keyboard and position the keyboard relative to camera\n        this.entity.addEventListener(\"click\", () => {\n            const camera = this.web2vr.aframe.scene.camera.parent;\n            const keyboard = this.web2vr.aframe.keyboard.object3D;\n\n            keyboard.position.copy(camera.position);\n            keyboard.rotation.copy(camera.rotation);\n            keyboard.rotation.z = 0;\n            keyboard.rotation.x = THREE.Math.degToRad(-30);\n            keyboard.translateX(-0.24);\n            keyboard.translateY(-0.1);\n            keyboard.translateZ(-0.6);\n            keyboard.visible = true;\n\n            if (this.web2vr.aframe.keyboard.activeInput){\n                this.web2vr.aframe.keyboard.activeInput.element.active = false;\n                // update web2vr where activeInput is located\n                this.web2vr.aframe.keyboard.activeInput.element.web2vr.update();\n            }\n            this.active = true;\n\n            this.web2vr.aframe.keyboard.activeInput = this.domElement;\n            this.web2vr.update();\n        })\n    }\n\n    updateText() {\n        const value = this.domElement.value;\n        if (value)\n            this.textValue = value;\n        else\n            this.textValue = this.domElement.placeholder;\n    }\n    updateTextColor() {\n        const value = this.domElement.value;\n        if (value)\n            super.updateTextColor();\n        else\n            this.entity.setAttribute(\"text\", \"color\", \"#999\");\n\n        if (this.active)\n            this.entity.setAttribute(\"color\", \"#ffffcc\");\n    }\n}","import TextElement from \"./textElement\";\n\nexport default class ButtomElement extends TextElement {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n        this.borderColor = new THREE.Color(0x000000);\n        this.borderWidth = 1;\n    }\n\n    updateTextPadding() {\n        // ignore padding for buttons\n    }\n\n    updateText() {\n        if (this.domElement.tagName == \"INPUT\")\n            this.textValue = this.domElement.value.replace(/\\s{2,}/g, ' ');\n    }\n}","import Element from \"./element\";\n\nexport default class SvgElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    svgToImage() {\n        const svgString = new XMLSerializer().serializeToString(this.domElement);\n        const canvas = document.createElement(\"canvas\");\n        const ctx = canvas.getContext(\"2d\");\n        canvas.width = this.position.domPosition.width * 2;\n        canvas.height = this.position.domPosition.height * 2;\n\n        const DOMURL = self.URL || self.webkitURL || self;\n        const img = new Image();\n        const svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n        const url = DOMURL.createObjectURL(svg);\n\n        img.onload = () => {\n            if (this.domElement.style.width)\n                ctx.drawImage(img, 0, 0, canvas.width*2, canvas.height*2);\n            else\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n            DOMURL.revokeObjectURL(url);\n            this.updateImage(canvas.toDataURL());\n            canvas.remove();\n        };\n        img.src = url;\n    }\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.svgToImage();\n    }\n}","import Element from \"./element\";\n\nexport default class CanvasElement extends Element {\n    constructor(web2vr, domElement, layer) {\n        super(web2vr, domElement, layer);\n\n        this.imageId = null;\n        this.entity = document.createElement(\"a-image\");\n    }\n\n    updateImage(src) {\n        const assetId = this.web2vr.aframe.assetManager.getAsset(src, \"img\");\n\n        // remove old image if there is new image\n        if (this.imageId && this.imageId != assetId)\n            this.web2vr.aframe.assetManager.removeAsset(this.imageId);\n\n        this.entity.setAttribute(\"id\", \"IMAGE_\" + assetId);\n        this.entity.setAttribute(\"src\", \"#\" + assetId);\n        this.imageId = assetId;\n    }\n\n    specificUpdate() {\n        this.updateImage(this.domElement.toDataURL());\n    }\n}","import \"./plugins/eventListenerListPlugin\"; // Get all event listeners for DOM elements\nimport Deepmerge from \"deepmerge\";\nimport \"aframe\";\n\n// import \"aframe-gif-shader\";\nimport \"./plugins/aframe-keyboard.min\";\nimport \"super-hands\";\nimport Settings from \"./settings\";\nimport \"./components/border\";\nimport \"./components/animate\";\nimport \"./components/grabRotateStatic\";\nimport Scroll from \"./scroll\"\nimport AframeContext from \"./aframeContext\";\nimport ContainerElement from \"./elements/containerElement\";\nimport TextElement from \"./elements/textElement\";\nimport ImageElement from \"./elements/imageElement\";\nimport VideoElement from \"./elements/videoElement\";\nimport CheckBoxElement from \"./elements/checkboxElement\";\nimport RadioElement from \"./elements/radioElement\";\nimport InputElement from \"./elements/inputElement\";\nimport ButtonElement from \"./elements/buttonElement\";\nimport SvgElement from \"./elements/svgElement\";\nimport CanvasElement from \"./elements/canvasElement\";\n\nexport default class Web2VR {\n    constructor(container, settings = {}) {\n        // main div container\n        if (container.nodeType == Node.ELEMENT_NODE)\n            this.container = container;\n        else\n            this.container = document.querySelector(container);\n\n        // deep merge settings\n        this.settings = Deepmerge(new Settings(), settings, {\n            arrayMerge: (destination, source) => {\n                return [...destination, ...source];\n            }\n        });\n\n        // aframe context\n        this.aframe = new AframeContext(this.settings);\n        // vr elements\n        this.elements = new Set();\n        // set of all the hover css selectors\n        this.hoverSelectors = new Set();\n        this.observer = null;\n        // observer parametars\n        this.observerConfig = { childList: true, subtree: true, characterData: true, attributes: true };//attributeFilter: [\"style\", \"class\", \"id\"]\n        this.updating = false;\n\n        // experimental only\n        this.html2canvasIDcounter = 0;\n    }\n\n    // find all hover css rules and add {selector}hover class to them\n    findHoverCss() {\n        try {\n            for (const styleSheet of [...document.styleSheets]) {\n                for (const rule of [...styleSheet.cssRules]) {\n                    if (rule instanceof CSSStyleRule) {\n                        const selectors = rule.selectorText.split(\",\");\n                        for (const selector of selectors) {\n                            const sel = selector.split(\":\");\n                            // is hover\n                            if (sel[1] == \"hover\") {\n                                const s = sel[0].replace(/\\s/g, '');\n                                if (s[0] == \".\")\n                                    rule.selectorText += `, ${s}hover`;\n                                else if (s[0] == \"#\")\n                                    rule.selectorText += `, .${s.substr(1)}hover`;\n                                else\n                                    rule.selectorText += `, .${s}hover`;\n                                this.hoverSelectors.add(s);\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (error) {\n            console.error(error);\n        }\n    }\n\n    // add all svg needed styles to defs inside svg so we can convert svg to png with all styles applied \n    generateStyleDefs(svgDomElement) {\n        let styleDefs = \"\";\n        const sheets = document.styleSheets;\n        for (let i = 0; i < sheets.length; i++) {\n            const rules = sheets[i].cssRules;\n            for (let j = 0; j < rules.length; j++) {\n                const rule = rules[j];\n                if (rule.style) {\n                    const selectorText = rule.selectorText;\n                    const elems = svgDomElement.querySelectorAll(selectorText);\n                    if (elems.length) {\n                        styleDefs += selectorText + \" { \" + rule.style.cssText + \" }\\n\";\n                    }\n                }\n            }\n        }\n\n        const s = document.createElement('style');\n        s.setAttribute('type', 'text/css');\n        s.innerHTML = styleDefs;\n\n        const defs = document.createElement('defs');\n        defs.appendChild(s);\n        svgDomElement.insertBefore(defs, svgDomElement.firstChild);\n    }\n\n    start() {\n        // Return a promise that will resolve when the VR elements are added / scene is loaded.\n        return new Promise((resolve, reject) => {\n            this.findHoverCss();\n\n            if (!this.aframe.scene.hasLoaded) {\n                this.aframe.scene.addEventListener(\"loaded\", \n                (function(resolve, init, context) { \n                    init.call(context);\n                    resolve();\n                })(resolve, this.init, this), { once: true });\n            } else\n                this.init().then(() => {\n                    resolve();\n            })\n        });\n    }\n\n    init() {\n        this.aframe.createContainer(this);\n        this.aframe.createSky();\n        this.aframe.createControllers();\n        // scroll feature\n\n        return this.convertToVR()\n        .then(() => {\n            this.scroll = new Scroll(this);\n            return this.allLoadedUpdate();\n        }).then(() => {\n            return this.update();\n        })\n    }\n\n    // update once after all images are loaded in the dom\n    allLoadedUpdate() {\n        return new Promise((resolve, reject) => {\n            const interval = setInterval(() => {\n                let allLoaded = true;\n                for (const element of this.elements)\n                    if (element instanceof ImageElement && !element.loaded)\n                        allLoaded = false;\n                if (allLoaded) {\n                    resolve();\n                    clearInterval(interval);\n                }\n            }, 100);    \n        });\n    }\n\n    addElement(domElement, parentElement, layer) {\n        // ignore tag if in ignoreTags list or text element(vr-span) is already added\n        if (this.settings.ignoreTags.includes(domElement.tagName) || (domElement.classList && domElement.classList.contains(\"vr-span\")))\n            return null;\n\n        let element = null;\n        // its text node and not empty\n        if (domElement.nodeType == Node.TEXT_NODE && domElement.nodeValue.trim()) {\n            const span = document.createElement(\"span\");\n            span.classList.add(\"vr-span\");\n            span.textContent = domElement.textContent;\n\n            // dont want observer to listen changes when adding(replacing) span text into dom\n            if (this.observer)\n                this.observer.disconnect();\n            domElement.replaceWith(span);\n            if (this.observer) {\n                this.observer.observe(this.container, this.observerConfig);\n                // We need to add the observer to every slot inside the container as well.\n                this.container.querySelectorAll(\"slot\").forEach((slot) => {\n                    this.observer.observe(slot, this.observerConfig);\n                });\n            }\n\n            element = new TextElement(this, span, layer);\n        }\n        // for future convert this to switch statement\n        else if (domElement.tagName == \"VIDEO\")\n            element = new VideoElement(this, domElement, layer);\n        else if (domElement.tagName == \"IMG\")\n            element = new ImageElement(this, domElement, layer);\n        else if (domElement.tagName == \"svg\")\n            element = new SvgElement(this, domElement, layer);\n        else if (domElement.tagName == \"CANVAS\")\n            element = new CanvasElement(this, domElement, layer);\n        else if (domElement.tagName == \"BUTTON\")\n            element = new ButtonElement(this, domElement, layer);\n        else if (domElement.tagName == \"TEXTAREA\")\n            element = new InputElement(this, domElement, layer);\n        else if (domElement.tagName == \"INPUT\") {\n            const type = domElement.getAttribute(\"type\");\n            if (type == \"checkbox\")\n                element = new CheckBoxElement(this, domElement, layer);\n            else if (type == \"radio\")\n                element = new RadioElement(this, domElement, layer);\n            else if ([\"text\", \"email\", \"number\", \"password\", \"search\", \"tel\", \"url\"].includes(type))\n                element = new InputElement(this, domElement, layer);\n            else if ([\"button\", \"submit\", \"reset\"].includes(type)) {\n                element = new ButtonElement(this, domElement, layer);\n            }\n            else\n                return;\n        }\n        // If this element is hosting a shadow root, we want to make sure elements are observed.\n        else if (!!domElement.shadowRoot) {\n            // console.log(\"Shadow root found\", domElement.shadowRoot);\n            this.addElementChildren(domElement.shadowRoot, parentElement, layer);\n        }\n        // any other type of element will be container\n        else if (domElement.nodeType == Node.ELEMENT_NODE) {\n            element = new ContainerElement(this, domElement, layer);\n        }\n        else\n            return;\n\n        this.elements.add(element);\n        this.aframe.container.appendChild(element.entity);\n\n        if (this.settings.debug)\n            console.log(\"Added element\", element);\n\n        // init element and add element to parent children when aframe entity is loaded(play)\n        const onLoaded = async (event) => {\n            if (parentElement)\n                parentElement.childElements.add(element);\n            element.init();\n            element.update();\n        };\n        element.entity.addEventListener(\"play\", onLoaded, { once: true });\n\n        return element;\n    }\n\n    removeElement(element) {\n        // remove the element\n        this.aframe.container.removeChild(element.entity);\n        this.elements.delete(element);\n        // remove all the children of the element recursively\n        for (const child of element.childElements) {\n            this.removeElement(child);\n        }\n    }\n\n    // start at root and interate over child nodes recursively\n    addElementChildren(currentNode, parentElement = null, layer = 0) {\n        return new Promise((resolve, reject) => {\n            if (currentNode.tagName == \"svg\")\n            this.generateStyleDefs(currentNode);\n        \n            // If this is a slot element, we're using a web component and need to fetch the child elements using .assignedNodes()\n            if (currentNode.tagName == \"SLOT\") {\n                // Note: we don't increase the layer here because slots don't render directly.\n                // console.log(\"*********Slot element found\");\n                const assignedNodes = currentNode.assignedNodes();\n                var promisesToResolve = [];\n                for (const assignedNode of assignedNodes) {\n                    promisesToResolve.push(this.addElementChildren(assignedNode, parentElement, layer));\n                }\n                Promise.all(promisesToResolve).then(() => {\n                    resolve();\n                })\n            }\n\n            const element = this.addElement(currentNode, parentElement, layer);\n            // not supported tags or svg element that we dont need to check its children\n            if (!element || element instanceof SvgElement)\n                return;\n\n            if (currentNode.childNodes && currentNode.childNodes.length > 0) {\n                layer++;\n                var promisesToResolve = [];\n                for (const child of currentNode.childNodes)\n                    promisesToResolve.push(this.addElementChildren(child, element, layer));\n                Promise.all(promisesToResolve).then(() => {\n                    resolve();\n                })\n            }\n        })\n    }\n\n    convertToVR() {\n        return new Promise((resolve, reject) => {\n            this.addElementChildren(this.container)\n            .then(() => {\n                // observer dom element changes and for newly added and deleted dom elements\n                this.observer = new MutationObserver((mutations) => {\n                    for (const mutation of mutations) {\n                        console.log(\"Mutation encountered\", mutation);\n                        let emptyRemove = false;\n                        for (const node of mutation.removedNodes) {\n                            // not empty textNode\n                            if (!(node.nodeType == Node.TEXT_NODE && !node.nodeValue.trim()))\n                                this.removeElement(node.element);\n                            else\n                                emptyRemove = true;\n                        }\n        \n                        for (const node of mutation.addedNodes)\n                            this.addElementChildren(node, mutation.target.element, mutation.target.element.layer + 1);\n        \n                        if (!emptyRemove) {\n                            // when adding new nodes we also need to check for new loaded images\n                            if (mutation.addedNodes.length > 0)\n                                this.allLoadedUpdate();\n                            else\n                                this.update();\n                        }\n        \n                        // Listen for text changes and update when they occur.\n                        if (mutation.type == \"characterData\") {\n                            this.update();\n                        }\n                    }\n                });\n                this.observer.observe(this.container, this.observerConfig);\n        \n                // We need to add the observer to every slot inside the container as well.\n                this.container.querySelectorAll(\"slot\").forEach((slot) => {\n                    slot.addEventListener(\"slotchange\", (ev) => {\n                        // console.log(\"Slot change event\", ev);\n                    });\n                    this.observer.observe(slot, this.observerConfig);\n                });\n                resolve();\n            })\n        })\n    }\n\n\n    update() {\n        return new Promise((resolve, reject) => {\n            // we check for updating so we dont do multiple updating at same time from the async functions\n            this.updating = true;\n            if (this.updating) {\n                // using try and catch because sometimes when element is removed it calls update after and it wont find element, the errors doesnt matter because the final result is the same\n                try {\n                    for (const element of this.elements)\n                        element.update();\n                }\n                catch (err) {\n                    console.error(err);\n                }\n                this.scroll?.update();\n                this.updating = false;\n                resolve();\n            }\n            resolve();\n        });\n    }\n}"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__668__","AFRAME","Error","registerComponent","schema","colliderEvent","default","colliderEventProperty","colliderEndEvent","colliderEndEventProperty","grabStartButtons","grabEndButtons","stretchStartButtons","stretchEndButtons","dragDropStartButtons","dragDropEndButtons","interval","multiple","init","this","HOVER_EVENT","UNHOVER_EVENT","GRAB_EVENT","UNGRAB_EVENT","STRETCH_EVENT","UNSTRETCH_EVENT","DRAG_EVENT","UNDRAG_EVENT","DRAGOVER_EVENT","UNDRAGOVER_EVENT","DRAGDROP_EVENT","otherSuperHand","gehDragged","Set","gehClicking","hoverEls","hoverElsIntersections","prevCheckTime","state","Map","dragging","unHover","bind","unWatch","onHit","onGrabStartButton","onGrabEndButton","onStretchStartButton","onStretchEndButton","onDragDropStartButton","onDragDropEndButton","system","registerMe","update","oldData","unRegisterListeners","registerListeners","remove","unregisterMe","length","get","_unHover","tick","sorter","a","b","aDist","distance","bDist","time","data","orderChanged","sort","i","object","el","hover","evt","carried","dispatchMouseEventAll","findTarget","hand","buttonEvent","set","_this","clickables","filter","h","has","grabbed","endEvt","dispatchMouseEvent","clear","emitCancelable","promoteHoveredEl","stretched","dragged","_this2","forEach","ddEvt","dropped","on","dropTarget","processHitEl","hitEl","intersection","_this3","dist","sects","hoverNeedsUpdate","indexOf","splice","push","size","detail","Array","isArray","sect","intersections","hvrevt","hoverEl","hovered","_this4","clearedEls","skipNextHover","unHovered","_this5","_unWatch","target","_this6","hoverIndex","_this7","addEventListener","_this8","Object","keys","removeEventListener","name","bubbles","cancelable","window","CustomEvent","dispatchEvent","relatedTarget","mEvt","MouseEvent","filterUsed","alsoReverse","_this9","els","evType","elIndex","_this10","eligibleEls","buttonCore","utils","extendDeep","onclick","type","CLICKED_STATE","CLICK_EVENT","UNCLICK_EVENT","clickers","start","end","defaultPrevented","startButtonOk","addState","preventDefault","handIndex","endButtonOk","removeState","inherit","console","warn","HOVERED_STATE","DRAGGED_STATE","hoverStart","dragStart","hoverEnd","dragEnd","dragDrop","dragStartBound","dragEndBound","accepts","autoUpdate","acceptEvent","rejectEvent","hoverStartBound","hoverEndBound","dragDropBound","mutateAcceptsBound","mutateAccepts","acceptableEntities","observer","MutationObserver","observerOpts","childList","subtree","prototype","slice","call","sceneEl","querySelectorAll","observe","disconnect","mutations","query","mutation","addedNodes","added","selector","matches","msMatchesSelector","webkitMatchesSelector","entityAcceptable","entity","_step","_iterator","_createForOfIteratorHelper","s","n","done","value","err","e","f","emit","objPos","grabPos","q","v","base","maxGrabbers","NaN","invert","suppressY","GRABBED_STATE","grabbers","constraints","deltaPositionIsValid","grabDistance","undefined","grabDirection","x","y","z","grabOffset","destPosition","deltaPosition","THREE","Vector3","targetPosition","physicsInit","lostGrabber","physicsUpdate","xFactor","zFactor","yFactor","Quaternion","entityPosition","grabber","copy","applyQuaternion","object3D","getWorldQuaternion","setLength","add","getWorldPosition","sub","getAttribute","setAttribute","physicsRemove","grabAvailable","Number","isFinite","physicsStart","resetGrabber","physicsEnd","raycaster","distanceTo","direction","origin","physicsIsConstrained","hoverers","buttonIsValid","buttonList","startButtons","endButtons","usePhysics","physicsClear","body","newConId","Math","random","toString","substr","constraintId","removeAttribute","values","c","world","removeConstraint","physicsIsGrabbing","physicsUpdateRate","STRETCHED_STATE","stretchers","scale","handPos","otherHandPos","oldDat","updateBodies","throttleTick","_updateBodies","timeDelta","currentStretch","deltaStretch","previousStretch","pow","previousPhysicsStretch","multiplyScalar","includes","stretcherIndex","childNodes","stretchBody","physicsShape","offset","shapes","halfExtents","updateConvexPolyhedronRepresentation","radius","updateBoundingSphereRadius","shapeWarned","shapeOffsets","updateBoundingRadius","registerSystem","superHands","comp","index","_this$el$element","_this$el$element2","_this$el$element3","_this$el$element4","running","element","domElement","startAnimation","stopAnimation","_this$el$element5","web2vr","_this$el$element6","width","color","plane","children","edges","EdgesGeometry","geometry","line","LineSegments","LineBasicMaterial","linewidth","borderObject","aframe","container","clippingContext","material","clippingPlanes","planes","needsUpdate","borderWidth","borderColor","Color","updateBorder","visible","clone","position","settings","layerStep","components","scroll","hasScroll","elements","updateClipping","obj","rotation","atan2","renderer","localClippingEnabled","scrollHeight","parseFloat","firstElementChild","style","height","scrollWindowHeight","scrollContainer","clientHeight","scrollY","uv","shift","pointer","setY","pointEndY","pointStartY","play","scrollbar","setX","setZ","t","d","l","m","o","defineProperty","enumerable","r","Symbol","toStringTag","_typeof","__esModule","create","hasOwnProperty","p","mode","template","AFK","audio","highlightColor","dismissable","font","fontSize","locale","model","baseTexture","keyTexture","verticalAlign","draw","_objectSpread","attachEventListeners","handleKeyboardPress","handleKeyboardVR","removeEventListeners","key","charCodeAt","keyCode","parseInt","document","querySelector","concat","id","code","toggleActiveMode","Event","setTimeout","isMouseEnter","_class","_classCallCheck","keyboardKeys","activeMode","drawKeyboard","split","createElement","appendChild","firstChild","removeChild","normal","parseKeyObjects","drawButton","alt","Element","_addEventListener","handle","useCapture","eventListenerList","node","addedEvent","_removeEventListener","listener","removedEvent","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","options","deepmerge","val","defaultArrayMerge","source","map","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","property","_","arrayMerge","sourceIsArray","destination","propertyIsUnsafe","customMerge","getMergeFunction","mergeObject","all","array","reduce","prev","next","deepmerge_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","prop","Settings","_createClass","parentSelector","interactiveTag","ignoreTags","debug","showClipping","forceClipping","experimental","createControllers","raycasterFar","skybox","border","Scroll","scrollBody","checkScrollbar","createScrollbar","scrollingElement","overflow","classList","visibility","AssetManager","scene","assets","getElementsByTagName","currentAssetId","updateCurrentAssetId","path","getChildren","asset","createAsset","AframeContext","inVR","createScene","assetManager","newScene","getComputedStyle","parentElement","sky","getElementById","cursor","superhands","leftHand","rightHand","keyboard","activeInput","active","Position","domPosition","depth","startDepth","updatePosition","aframePosition","calculateAFramePosition","scalingFactor","top","bottom","left","right","MouseEventHandler","listeningForMouseEvents","resync","checkEntityEvents","mouseEvents","hasMouseEventRegistered","_i","_mouseEvents","mouseEvent","hasMouseProperty","_i2","_mouseProperties","mouseProperty","addMouseListeners","removeMouseListeners","eventName","mouseEventHandler","_i3","_mouseEvents2","layer","childElements","contains","paddingToMargin","getBoundingClientRect","parentTransform","needsStartingTransformSize","initComplete","initHover","mouseEventHandle","animationDuration","transitionDuration","tag","hoverSelectors","tagName","toLowerCase","classes","cls","_step2","_iterator2","transform","hoverTransform","_step3","_iterator3","_step4","_iterator4","textContent","trim","paddingRight","marginRight","initEventHandlers","setupClipping","finalizeInit","_this$web2vr$scroll","_this$web2vr$scroll2","clientRect","checkVisible","display","checkAnimation","opacity","specificUpdate","updateTransform","_step5","_iterator5","matrixType","matrix","Matrix4","fromArray","quaternion","decompose","setFromRotationMatrix","scaleX","sqrt","scaleY","borderTopWidth","borderTopColor","normalMatrix","Matrix3","getNormalMatrix","matrixWorld","applyMatrix3","normalize","_this$web2vr$scroll3","output","parentNode","authority","Plane","rotateNormal","getClippingContext","bottomLocal","topLocal","leftLocal","rightLocal","bottomGlobal","localToWorld","topGlobal","leftGlobal","rightGlobal","setFromNormalAndCoplanarPoint","clippingPlaneHelpers","_step6","_iterator6","MeshBasicMaterial","side","DoubleSide","PlaneGeometry","mesh","Mesh","debugPlane","axisHelper","AxesHelper","_step7","_iterator7","helper","_step8","_iterator8","worldPos","point","projectPoint","focalPoint","lookAt","_step9","_iterator9","Helper","string","test","min","max","ContainerElement","_Element","textOnly","arguments","_callSuper","log","click","expImageId","oldBackgroundImage","oldDomPosition","_inherits","backgroundColor","backgroundImage","equalsDOMPosition","customId","html2canvasIDcounter","html2canvas","onclone","head","sheet","insertRule","then","canvas","removeAsset","getAsset","toDataURL","isUrl","substring","lastIndexOf","updateOpacity","alpha","TextElement","_ContainerElement","textValue","text","fragmentShader","vertexShader","clipping","align","textAlign","lineHeight","currentFont","common","actualFontSize","wrapPixels","textColor","replace","_get","_getPrototypeOf","updateTextSize","updateTextAlignment","updateText","updateTextColor","ImageElement","currentSrc","changed","loaded","src","assetID","updateImage","VideoElement","video360","createClickEvent","hasAttribute","image","pause","paused","updateCurrentAssetIdReturn","degToRad","CheckBoxElement","checked","RadioElement","InputElement","_TextElement","camera","parent","translateX","translateY","translateZ","placeholder","ButtomElement","SvgElement","imageId","svgString","XMLSerializer","serializeToString","ctx","getContext","DOMURL","URL","webkitURL","img","Image","svg","Blob","url","createObjectURL","onload","drawImage","revokeObjectURL","assetId","svgToImage","CanvasElement","_regeneratorRuntime","iterator","asyncIterator","u","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","resolve","__await","callInvokeWithMethodAndArg","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","Promise","reverse","pop","charAt","stop","rval","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","info","error","allowArrayLike","it","_unsupportedIterableToArray","F","_e","normalCompletion","didErr","step","_e2","_toConsumableArray","arr","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","minLen","len","arr2","_defineProperties","props","descriptor","_toPropertyKey","toPrimitive","String","_toPrimitive","Web2VR","Constructor","instance","nodeType","Node","ELEMENT_NODE","Deepmerge","observerConfig","characterData","attributes","updating","protoProps","_arr","styleSheets","styleSheet","_arr2","cssRules","rule","CSSStyleRule","selectorText","sel","svgDomElement","styleDefs","sheets","rules","j","cssText","innerHTML","defs","insertBefore","findHoverCss","hasLoaded","context","once","createContainer","createSky","convertToVR","allLoadedUpdate","setInterval","allLoaded","clearInterval","TEXT_NODE","nodeValue","span","replaceWith","slot","ButtonElement","shadowRoot","addElementChildren","onLoaded","fn","_ref","_callee","event","_context","args","apply","_x","child","removeElement","currentNode","generateStyleDefs","promisesToResolve","assignedNodes","assignedNode","addElement","emptyRemove","removedNodes","ev","_this7$scroll"],"sourceRoot":""}